{"version":3,"sources":["../node_modules/jsonschema/lib/helpers.js","../../src/types.ts","../../src/bytes.ts","../../src/utils.ts","../../src/index.ts","../../src/baseTransaction.ts","../../src/util.ts","../../src/secp256k1v3-adapter.ts","../../src/hash.ts","../node_modules/jsonschema/lib/scan.js","../node_modules/jsonschema/lib/index.js","../../src/legacyTransaction.ts","../node_modules/crc-32/crc32.js","../../../src/chains/index.ts","../../../src/hardforks/index.ts","../../../src/eips/index.ts","../../src/eip2930Transaction.ts","../../src/transactionFactory.ts","../../src/eip1559Transaction.ts","../../src/personal-sign.ts","../../../src/secp256k1v3-lib/index.ts","../../../src/secp256k1v3-lib/der.ts","../../src/constants.ts","../../src/account.ts","../../src/signature.ts","../../src/object.ts","../../src/sign-typed-data.ts","../../src/encryption.ts","../node_modules/tweetnacl/nacl-fast.js","../node_modules/tweetnacl-util/nacl-util.js","../node_modules/jsonschema/lib/validator.js","../node_modules/jsonschema/lib/attribute.js"],"names":["uri","require","ValidationError","exports","message","instance","schema","path","name","argument","Array","isArray","this","property","reduce","sum","item","makeSuffix","undefined","id","$id","stack","toString","prototype","ValidatorResult","options","ctx","propertyPath","errors","throwError","throwFirst","throwAll","disableFormat","stringizer","v","i","ValidatorResultError","result","Error","captureStackTrace","addError","detail","err","push","importErrors","res","validatorType","concat","map","join","Object","defineProperty","get","length","module","constructor","SchemaError","msg","call","create","value","enumerable","SchemaContext","base","schemas","resolve","target","makeChild","propertyName","FORMAT_REGEXPS","input","parseFloat","parseInt","isNaN","RegExp","e","regexp","regex","pattern","ipv4","isFormat","format","validator","test","customFormats","key","match","JSON","stringify","deepMerger","dst","deepMerge","indexOf","copyist","src","copyistWithDeepMerge","array","forEach","bind","keys","pathEncoder","encodeURIComponent","replace","deepCompareStrict","a","b","every","aKeys","bKeys","objectGetPath","o","s","k","parts","split","slice","shift","n","decodeURIComponent","encodePath","getDecimalPlaces","number","decimalPlaces","Number","decimalParts","isSchema","val","isAccessListBuffer","firstItem","Capability","ethereumjs_util_1","ethjsUtil","bytes","Buffer","allocUnsafe","fill","right","buf","copy","first","stripHexPrefix","isBuffer","from","isHexString","padToEven","intToBuffer","BN","isBN","toArrayLike","toArray","toNumber","num","fromTwos","toTwos","str","isHexPrefixed","ba","padWithZeroes","hexString","targetLength","String","padStart","ethjs_util_1","r","rSig","sSig","vSig","rStr","sStr","vStr","messageHash","signature","sigParams","buffer","toLowerCase","__exportStar","txData","opts","hash","dataFee","common_1","Mainnet","Istanbul","gasLimit","to","data","type","_type","txOptions","toB","vB","rB","sB","nonce","_validateCannotExceedMaxInteger","BaseTransaction","capability","activeCapabilities","includes","stringError","getBaseFee","gt","isSigned","verifySignature","fee","getDataFee","addn","common","param","gteHardfork","toCreationAddress","iaddn","txDataZero","txDataNonZero","cost","isActivatedEIP","dataLength","Math","ceil","initCodeCost","imuln","iadd","publicKey","getSenderPublicKey","privateKey","_errorMsg","hackApplied","supports","types_1","EIP155ReplayProtection","msgHash","getMessageToSign","tx","_processSignature","index","splice","chainId","chainIdBN","eq","isSupportedChainId","chain","hardfork","DEFAULT_HARDFORK","forCustomChain","DEFAULT_CHAIN","networkId","values","bits","cannotEqual","entries","gte","hf","postfix","CustomChain","Hardfork","Chain","ConsensusType","ConsensusAlgorithm","_super","_this","_customChains","customChains","_chainParams","setChain","defaultHardfork","hardforks","forkHash","_calcForkHash","_hardfork","supportedHardforks","_supportedHardforks","setHardfork","eips","setEIPs","__extends","Common","chainParamsOrName","baseChain","standardChainParams","_getChainParams","PolygonMainnet","custom","PolygonMumbai","ArbitrumRinkebyTestnet","xDaiChain","OptimisticKovan","Berlin","OptimisticEthereum","customChainParams","initializedChains","Boolean","plainCustomChains","_isSupportedHardfork","existing","emit","blockNumber","td","minTdHF","maxTdHF","previousHF","Chainstart","block","msgAdd","hardforkGteHardfork","getHardforkByBlockNumber","onlySupported","hfs","chainName","eip","eips_1","minHF","this_1","requiredEIPs","elem","_eips","topic","paramByEIP","paramByHardfork","_chooseHardfork","hfChanges","hfEIPs","valueEIP","eipParams","activeHfs","activeHardforks","hfBlock","hardforkBlockBN","hardforkIsActiveOnBlock","hardfork1","hardfork2","onlyActive","posHf1","posHf2","_getHardfork","nextHardforkBlockBN","acc","nextHardforkBlock","genesis","substr","hfBuffer","alloc","prevBlock","hfBlockBuffer","inputBuffer","forkhash","resArray","filter","chainArrayWithGenesis","networkIdBN","consensusAlgorithm","assign","getPrototypeOf","removeAllListeners","events_1","AccessLists","accessList","AccessListJSON","bufferAccessList","newAccessList","addressBuffer","address","storageItems","storageKeys","json","jsonItem","accessListItem","storageSlots","storageSlot","accessListJSON","JSONItem","slot","accessListStorageKeyCost","accessListAddressCost","slots","secp256k1","secp256k1v3","der","privateKeyVerify","Uint8Array","compressed","RangeError","privateKeyExport","privateKeyImport","privateKeyNegate","privateKeyModInverse","tweak","privateKeyTweakAdd","privateKeyTweakMul","publicKeyCreate","publicKeyConvert","publicKeyVerify","publicKeyTweakAdd","publicKeyTweakMul","publicKeys","publicKeyCombine","signatureNormalize","signatureExport","signatureImport","sigObj","signatureImportLax","TypeError","signOptions","noncefn","algo","attempt","bufferAlgo","bufferData","sig","ecdsaSign","recovery","recid","ecdsaVerify","ecdsaRecover","ecdh","ecdhUnsafe","keccak224","keccak384","k256","keccak512","createHash","bytes_1","update","digest","padded","rlp","encode","urilib","helpers","SchemaScanResult","found","ref","scan","scanSchema","baseuri","$ref","resolvedUri","ourBase","substring","scanArray","items","extends","additionalItems","scanObject","properties","additionalProperties","definitions","patternProperties","dependencies","disallow","allOf","anyOf","oneOf","not","p","concatSig","normalize","Validator","validate","_validateTxV","gasPrice","mul","chainIdDoubled","muln","freeze","Transaction","serialized","decode","fromValuesArray","fromSerializedTx","raw","hashMessage","_getMessageToSign","cache","isFrozen","add","getMessageToVerifySignature","vBN","fromTxData","ltn","eqn","numSub","subn","isEven","divn","_getCommon","onEIP155BlockOrLater","errorStr","_getSharedErrorPostfix","baseTransaction_1","factory","CRC32","version","T0","c","table","Int32Array","signed_crc_table","TT","T","out","subarray","slice_by_16_tables","T1","T2","T3","T4","T5","T6","T7","T8","T9","Ta","Tb","Tc","Td","Te","Tf","bstr","seed","C","L","charCodeAt","B","d","DO_NOT_EXPORT_CRC","_getInitializedChains","names","chains","mainnet","ropsten","rinkeby","kovan","goerli","sepolia","name_1","TRANSACTION_TYPE_BUFFER","accessListData","util_1","getAccessListData","verifyAccessList","AccessListEIP2930Transaction","equals","getDataFeeEIP2930","serialize","yParity","getAccessListJSON","TransactionFactory","txType","_1","EIP","fromSerializedData","transactionID","_common","maxFeePerGas","maxPriorityFeePerGas","lt","FeeMarketEIP1559Transaction","baseFee","min","sub","getPublicKeyFor","utils_1","sender","ec","EC","ecparams","curve","ucmp","point","g","toPublicKey","getX","getY","bn","isZero","invm","keyFromPublic","scalar","shared","pub","x","y","isOdd","EC_PRIVKEY_EXPORT_DER_COMPRESSED","EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED","lenb","len","lenbyte","rlen","rindex","slen","sindex","rvalue","svalue","assert","addr","eip1191ChainId","prefix","hash_1","ret","toUpperCase","nonceBN","salt","initCode","fromBuf","saltBuf","initCodeBuf","sanitize","pubKey","calculateSigRecovery","isValidSigRecovery","sign","senderPubKey","recover","homesteadOrLater","SECP256K1_N_DIV_2","SECP256K1_N","rBN","sBN","cmp","self","fields","_fields","toJSON","label","obj_1","field","getter","setter","allowZero","allowLess","configurable","set","default","alias","keys_1","SignTypedDataVersion","validateVersion","allowedVersions","encodeField","types","V3","V4","encodeData","lastIndexOf","parsedType","typeValuePairs","ethereumjs_abi_1","primaryType","encodedTypes","encodedValues","hashType","encodeType","unsortedDeps","findTypeDependencies","delete","deps","sort","t","results","Set","has","hashStruct","sanitizeData","sanitizedData","EIP712Domain","_typedSignatureHash","typedData","error","required","domain","eip712Hash","hashBuffer","V1","encrypt","pubKeyUInt8Array","ephemeralKeyPair","nacl","box","keyPair","naclUtil","decodeBase64","msgParamsUInt8Array","decodeUTF8","randomBytes","nonceLength","encryptedMessage","secretKey","encodeBase64","ephemPublicKey","ciphertext","decrypt","encryptedData","output","recieverPrivateKeyUint8Array","nacl_decodeHex","recieverEncryptionPrivateKey","fromSecretKey","decryptedMessage","open","encodeUTF8","msgHex","msgBase64","DEFAULT_PADDING_LENGTH","dataWithPadding","padding","modVal","byteLength","padLength","repeat","parse","privateKeyUint8Array","encryptionPublicKey","gf","init","Float64Array","randombytes","_0","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","h","l","vn","xi","yi","crypto_verify_16","crypto_verify_32","crypto_core_salsa20","inp","u","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x1","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","core_salsa20","crypto_core_hsalsa20","core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","m","mpos","z","crypto_stream_salsa20","crypto_stream","sn","crypto_stream_xor","poly1305","t0","t1","t2","t3","t4","t5","t6","t7","Uint16Array","pad","leftover","fin","crypto_onetimeauth","outpos","finish","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","car25519","floor","sel25519","q","pack25519","j","neq25519","par25519","unpack25519","A","Z","M","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","pow2523","crypto_scalarmult","f","x32","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","blocks","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","mask","want","crypto_box_afternm","crypto_box_open_afternm","K","crypto_hashblocks_hl","hh","hl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","wh","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","pos","crypto_hash","cswap","pack","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","pk","sk","seeded","modL","carry","crypto_sign","sm","smlen","crypto_sign_open","chk","den","den2","den4","den6","unpackneg","crypto_secretbox_BOXZEROBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","checkLengths","checkArrayTypes","arguments","cleanup","arr","lowlevel","crypto_box","crypto_box_open","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","secretbox","keyLength","overheadLength","scalarMult","scalarLength","groupElementLength","before","checkBoxLengths","after","publicKeyLength","secretKeyLength","sharedKeyLength","signedMsg","tmp","mlen","detached","verify","fromSeed","seedLength","signatureLength","hashLength","setPRNG","fn","crypto","msCrypto","getRandomValues","root","util","validateBase64","unescape","fromCharCode","escape","atob","btoa","attribute","unresolvedRefs","attributes","validators","shouldResolve","addSchema","ourUri","addSubSchemaArray","addSubSchema","addSubSchemaObject","setSchemas","getSchema","urn","sch","validateSchema","schemaobj","schemaTraverser","superResolve","switchSchema","resolved","subctx","subschema","skipAttributes","ignoreProperties","validatorErr","allowUnknownAttributes","rewrite","parsed","fragment","document","testType","string","isFinite","integer","boolean","date","Date","any","object","testSchemaNoThrow","callback","valid","Function","getEnumerableProperty","hasOwnProperty","propertyIsEnumerable","testAdditionalProperty","preValidateProperty","some","list","inner","title","nestedErrors","count","if","ifValid","then","else","propertyNames","prop","_e","minProperties","maxProperties","contains","minimum","exclusiveMinimum","maximum","exclusiveMaximum","validateMultipleOfOrDivisbleBy","validationType","errorMessage","validationArgument","instanceDecimals","divisorDecimals","maxDecimals","max","multiplier","pow","round","testArrays","multipleOf","divisibleBy","minLength","hsp","maxLength","minItems","maxItems","uniqueItems","dep","childContext","notTypes","schemaId"],"mappings":";mHAEA,IAAIA,EAAMC,EAAQ,KAEdC,EAAkBC,EAAQD,gBAAkB,SAA0BE,EAASC,EAAUC,EAAQC,EAAMC,EAAMC,GAY/G,GAXGC,MAAMC,QAAQJ,IACfK,KAAKL,KAAOA,EACZK,KAAKC,SAAWN,EAAKO,QAAO,SAASC,EAAKC,GACxC,OAAOD,EAAME,EAAWD,EAC1B,GAAG,kBACaE,IAATX,IACPK,KAAKC,SAAWN,GAEdH,IACFQ,KAAKR,QAAUA,GAEbE,EAAQ,CACV,IAAIa,EAAKb,EAAOc,KAAOd,EAAOa,GAC9BP,KAAKN,OAASa,GAAMb,CACtB,MACiBY,IAAbb,IACFO,KAAKP,SAAWA,GAElBO,KAAKJ,KAAOA,EACZI,KAAKH,SAAWA,EAChBG,KAAKS,MAAQT,KAAKU,UACpB,EAEApB,EAAgBqB,UAAUD,SAAW,WACnC,OAAOV,KAAKC,SAAW,IAAMD,KAAKR,OACpC,EAEA,IAAIoB,EAAkBrB,EAAQqB,gBAAkB,SAAyBnB,EAAUC,EAAQmB,EAASC,GAClGd,KAAKP,SAAWA,EAChBO,KAAKN,OAASA,EACdM,KAAKa,QAAUA,EACfb,KAAKL,KAAOmB,EAAInB,KAChBK,KAAKe,aAAeD,EAAIC,aACxBf,KAAKgB,OAAS,GACdhB,KAAKiB,WAAaJ,GAAWA,EAAQI,WACrCjB,KAAKkB,WAAaL,GAAWA,EAAQK,WACrClB,KAAKmB,SAAWN,GAAWA,EAAQM,SACnCnB,KAAKoB,cAAgBP,IAAqC,IAA1BA,EAAQO,aAC1C,EA8BA,SAASC,EAAYC,EAAEC,GACrB,OAAOA,EAAE,KAAKD,EAAEZ,WAAW,IAC7B,CAUA,SAASc,EAAqBC,GACzBC,MAAMC,mBACPD,MAAMC,kBAAkB3B,KAAMwB,GAEhCxB,KAAKP,SAAWgC,EAAOhC,SACvBO,KAAKN,OAAS+B,EAAO/B,OACrBM,KAAKa,QAAUY,EAAOZ,QACtBb,KAAKgB,OAASS,EAAOT,MACvB,CAhDAJ,EAAgBD,UAAUiB,SAAW,SAAkBC,GACrD,IAAIC,EACJ,GAAqB,iBAAVD,EACTC,EAAM,IAAIxC,EAAgBuC,EAAQ7B,KAAKP,SAAUO,KAAKN,OAAQM,KAAKL,UAC9D,CACL,IAAKkC,EAAQ,MAAM,IAAIH,MAAM,wBAC7B,IAAKG,EAAOrC,QAAS,MAAM,IAAIkC,MAAM,yBACrC,IAAKG,EAAOjC,KAAM,MAAM,IAAI8B,MAAM,0BAClCI,EAAM,IAAIxC,EAAgBuC,EAAOrC,QAASQ,KAAKP,SAAUO,KAAKN,OAAQM,KAAKL,KAAMkC,EAAOjC,KAAMiC,EAAOhC,SACvG,CAGA,GADAG,KAAKgB,OAAOe,KAAKD,GACb9B,KAAKkB,WACP,MAAM,IAAIM,EAAqBxB,MAC3B,GAAGA,KAAKiB,WACZ,MAAMa,EAER,OAAOA,CACT,EAEAlB,EAAgBD,UAAUqB,aAAe,SAAsBC,GAC3C,iBAAPA,GAAoBA,GAAOA,EAAIC,cACxClC,KAAK4B,SAASK,GACLA,GAAOA,EAAIjB,SACpBhB,KAAKgB,OAAShB,KAAKgB,OAAOmB,OAAOF,EAAIjB,QAEzC,EAKAJ,EAAgBD,UAAUD,SAAW,SAAkBuB,GACrD,OAAOjC,KAAKgB,OAAOoB,IAAIf,GAAYgB,KAAK,GAC1C,EAEAC,OAAOC,eAAe3B,EAAgBD,UAAW,QAAS,CAAE6B,IAAK,WAC/D,OAAQxC,KAAKgB,OAAOyB,MACtB,IAEAC,EAAOnD,QAAQiC,qBAAuBA,EAUtCA,EAAqBb,UAAY,IAAIe,MACrCF,EAAqBb,UAAUgC,YAAcnB,EAC7CA,EAAqBb,UAAUf,KAAO,mBAOtC,IAAIgD,EAAcrD,EAAQqD,YAAc,SAASA,EAAaC,EAAKnD,GACjEM,KAAKR,QAAUqD,EACf7C,KAAKN,OAASA,EACdgC,MAAMoB,KAAK9C,KAAM6C,GACjBnB,MAAMC,kBAAkB3B,KAAM4C,EAChC,EACAA,EAAYjC,UAAY2B,OAAOS,OAAOrB,MAAMf,UAC1C,CACEgC,YAAa,CAACK,MAAOJ,EAAaK,YAAY,GAC9CrD,KAAM,CAACoD,MAAO,cAAeC,YAAY,KAG7C,IAAIC,EAAgB3D,EAAQ2D,cAAgB,SAAwBxD,EAAQmB,EAASlB,EAAMwD,EAAMC,GAC/FpD,KAAKN,OAASA,EACdM,KAAKa,QAAUA,EACZf,MAAMC,QAAQJ,IACfK,KAAKL,KAAOA,EACZK,KAAKe,aAAepB,EAAKO,QAAO,SAASC,EAAKC,GAC5C,OAAOD,EAAME,EAAWD,EAC1B,GAAG,aAEHJ,KAAKe,aAAepB,EAEtBK,KAAKmD,KAAOA,EACZnD,KAAKoD,QAAUA,CACjB,EAEAF,EAAcvC,UAAU0C,QAAU,SAAkBC,GAClD,OAAOlE,EAAIiE,QAAQrD,KAAKmD,KAAMG,EAChC,EAEAJ,EAAcvC,UAAU4C,UAAY,SAAmB7D,EAAQ8D,GAC7D,IAAI7D,OAAuBW,IAAfkD,EAA4BxD,KAAKL,KAAOK,KAAKL,KAAKwC,OAAO,CAACqB,IAClEjD,EAAKb,EAAOc,KAAOd,EAAOa,GAC1B4C,EAAO/D,EAAIiE,QAAQrD,KAAKmD,KAAM5C,GAAI,IAClCO,EAAM,IAAIoC,EAAcxD,EAAQM,KAAKa,QAASlB,EAAMwD,EAAMb,OAAOS,OAAO/C,KAAKoD,UAIjF,OAHG7C,IAAOO,EAAIsC,QAAQD,KACpBrC,EAAIsC,QAAQD,GAAQzD,GAEfoB,CACT,EAEA,IAAI2C,EAAiBlE,EAAQkE,eAAiB,CAE5C,YAAa,8JACb,KAAQ,2DACR,KAAQ,oDACR,SAAY,+GAIZ,MAAS,ySACT,YAAa,wiCAKb,aAAc,8FAEd,KAAQ,0jCAKR,IAAO,mCACP,gBAAiB,qxCACjB,IAAO,mCACP,gBAAiB,uwIACjB,KAAQ,kEAGR,eAAgB,6RAGhB,eAAgB,mDAChB,wBAAyB,6DAGzB,SAAY,gIACZ,YAAa,gIAEb,eAAgB,SAAUC,GACxB,MAAyB,kBAAVA,GAAuBC,WAAWD,KAAWE,SAASF,EAAO,MAAQG,MAAMH,EAC5F,EAGA,MAAS,SAAUA,GACjB,IAAIjC,GAAS,EACb,IACE,IAAIqC,OAAOJ,EAGb,CAFE,MAAOK,GACPtC,GAAS,CACX,CACA,OAAOA,CACT,EAIA,MAAS,+DAET,MAAS,6YACT,MAAS,6BACT,MAAS,cACT,aAAgB,kBAGlBgC,EAAeO,OAASP,EAAeQ,MACvCR,EAAeS,QAAUT,EAAeQ,MACxCR,EAAeU,KAAOV,EAAe,cAErClE,EAAQ6E,SAAW,SAAmBV,EAAOW,EAAQC,GACnD,GAAqB,kBAAVZ,QAAiDpD,IAA3BmD,EAAeY,GAAuB,CACrE,GAAIZ,EAAeY,aAAmBP,OACpC,OAAOL,EAAeY,GAAQE,KAAKb,GAErC,GAAsC,oBAA3BD,EAAeY,GACxB,OAAOZ,EAAeY,GAAQX,EAElC,MAAO,GAAIY,GAAaA,EAAUE,eACa,oBAApCF,EAAUE,cAAcH,GACjC,OAAOC,EAAUE,cAAcH,GAAQX,GAEzC,OAAO,CACT,EAEA,IAAIrD,EAAad,EAAQc,WAAa,SAAqBoE,GAKzD,OAJAA,EAAMA,EAAI/D,YAIDgE,MAAM,cAAiBD,EAAIC,MAAM,SAGtCD,EAAIC,MAAM,SACL,IAAMD,EAAM,IAEd,IAAME,KAAKC,UAAUH,GAAO,IAL1B,IAAMA,CAMjB,EAiCA,SAASI,EAAYvB,EAAQwB,EAAKf,EAAGxC,GAClB,kBAANwC,EACTe,EAAIvD,GAAKwD,EAAUzB,EAAO/B,GAAIwC,IAEH,IAAvBT,EAAO0B,QAAQjB,IACjBe,EAAI/C,KAAKgC,EAGf,CAEA,SAASkB,EAASC,EAAKJ,EAAKL,GAC1BK,EAAIL,GAAOS,EAAIT,EACjB,CAEA,SAASU,EAAsB7B,EAAQ4B,EAAKJ,EAAKL,GACvB,kBAAbS,EAAIT,IAAsBS,EAAIT,IAIlCnB,EAAOmB,GAGVK,EAAIL,GAAOM,EAAUzB,EAAOmB,GAAMS,EAAIT,IANxCK,EAAIL,GAAOS,EAAIT,EASnB,CAEA,SAASM,EAAWzB,EAAQ4B,GAC1B,IAAIE,EAAQtF,MAAMC,QAAQmF,GACtBJ,EAAMM,GAAS,IAAM,CAAC,EAa1B,OAXIA,GACF9B,EAASA,GAAU,GACnBwB,EAAMA,EAAI3C,OAAOmB,GACjB4B,EAAIG,QAAQR,EAAWS,KAAK,KAAMhC,EAAQwB,MAEtCxB,GAA4B,kBAAXA,GACnBhB,OAAOiD,KAAKjC,GAAQ+B,QAAQJ,EAAQK,KAAK,KAAMhC,EAAQwB,IAEzDxC,OAAOiD,KAAKL,GAAKG,QAAQF,EAAqBG,KAAK,KAAMhC,EAAQ4B,EAAKJ,KAGjEA,CACT,CAsBA,SAASU,EAAalE,GACpB,MAAO,IAAImE,mBAAmBnE,GAAGoE,QAAQ,KAAK,MAChD,CAlGAnG,EAAQoG,kBAAoB,SAASA,EAAmBC,EAAGC,GACzD,UAAWD,WAAaC,EACtB,OAAO,EAET,GAAI/F,MAAMC,QAAQ6F,GAChB,QAAK9F,MAAMC,QAAQ8F,KAGfD,EAAEnD,SAAWoD,EAAEpD,QAGZmD,EAAEE,OAAM,SAAUxE,EAAGC,GAC1B,OAAOoE,EAAkBC,EAAErE,GAAIsE,EAAEtE,GACnC,KAEF,GAAiB,kBAANqE,EAAgB,CACzB,IAAKA,IAAMC,EACT,OAAOD,IAAMC,EAEf,IAAIE,EAAQzD,OAAOiD,KAAKK,GACpBI,EAAQ1D,OAAOiD,KAAKM,GACxB,OAAIE,EAAMtD,SAAWuD,EAAMvD,QAGpBsD,EAAMD,OAAM,SAAUxE,GAC3B,OAAOqE,EAAkBC,EAAEtE,GAAIuE,EAAEvE,GACnC,GACF,CACA,OAAOsE,IAAMC,CACf,EA+CAnD,EAAOnD,QAAQwF,UAAYA,EAS3BxF,EAAQ0G,cAAgB,SAAuBC,EAAGC,GAGhD,IAFA,IACIC,EADAC,EAAQF,EAAEG,MAAM,KAAKC,MAAM,GAEI,iBAApBH,EAAEC,EAAMG,UAAsB,CAC3C,IAAIC,EAAIC,mBAAmBN,EAAEV,QAAQ,KAAK,KAAKA,QAAQ,MAAM,MAC7D,KAAMe,KAAKP,GAAI,OACfA,EAAIA,EAAEO,EACR,CACA,OAAOP,CACT,EAUA3G,EAAQoH,WAAa,SAAuBf,GAG1C,OAAOA,EAAExD,IAAIoD,GAAanD,KAAK,GACjC,EAUA9C,EAAQqH,iBAAmB,SAA0BC,GAEnD,IAAIC,EAAgB,EACpB,GAAIjD,MAAMgD,GAAS,OAAOC,EAEJ,kBAAXD,IACTA,EAASE,OAAOF,IAGlB,IAAIR,EAAQQ,EAAOnG,WAAW4F,MAAM,KACpC,GAAqB,IAAjBD,EAAM5D,OAAc,CACtB,GAAoB,MAAhB4D,EAAM,GAAG,GACX,OAAOS,EAEPA,EAAgBC,OAAOV,EAAM,GAAGE,MAAM,GAE1C,CAEA,IAAIS,EAAeX,EAAM,GAAGC,MAAM,KAKlC,OAJ4B,IAAxBU,EAAavE,SACfqE,GAAiBE,EAAa,GAAGvE,QAG5BqE,CACT,EAEAvH,EAAQ0H,SAAW,SAAkBC,GACnC,MAAuB,kBAARA,GAAoBA,GAAwB,mBAARA,CACrD,C,uJCpYA,cAiFA,SAAgBC,EACdzD,GAEA,GAAqB,IAAjBA,EAAMjB,OACR,OAAO,EAET,IAAM2E,EAAY1D,EAAM,GACxB,QAAI5D,MAAMC,QAAQqH,EAIpB,EAlFA,SAAYC,GAKVA,yDAMAA,8CAMAA,4DAMAA,iDACD,CAxBD,CAAY9H,4BAAU,KAuEtBA,uBAaAA,eAAA,SAA6BmE,GAC3B,OAAQyD,EAAmBzD,EAC7B,EA6KanE,UAAU,IAAI+H,KACzB,mEACA,G,8QC/QF,IAAMC,EAAYlI,EAAQ,KAC1B,QAMaE,QAAQ,SAASiI,GAC5B,OAAOC,EAAOC,YAAYF,GAAOG,KAAK,EACxC,EAUapI,gBAAgB,SAASsD,EAAUJ,EAAgBmF,QAAA,QAAAA,MAC9D,IAAMC,EAAMtI,QAAMkD,GAElB,OADAI,EAAMtD,WAASsD,GACX+E,EACE/E,EAAIJ,OAASA,GACfI,EAAIiF,KAAKD,GACFA,GAEFhF,EAAI0D,MAAM,EAAG9D,GAEhBI,EAAIJ,OAASA,GACfI,EAAIiF,KAAKD,EAAKpF,EAASI,EAAIJ,QACpBoF,GAEFhF,EAAI0D,OAAO9D,EAEtB,EACalD,YAAYA,gBASZA,iBAAiB,SAASsD,EAAUJ,GAC/C,OAAOlD,YAAUsD,EAAKJ,GAAQ,EAChC,EAOalD,QAAQ,SAASqG,GAG5B,IADA,IAAImC,GADJnC,EAAI2B,EAAUS,eAAepC,IACf,GACPA,EAAEnD,OAAS,GAA0B,MAArBsF,EAAMrH,YAE3BqH,GADAnC,EAAIA,EAAEW,MAAM,IACF,GAEZ,OAAOX,CACT,EACarG,aAAaA,QAMbA,WAAW,SAAS+B,GAC/B,IAAKmG,EAAOQ,SAAS3G,GACnB,GAAIxB,MAAMC,QAAQuB,GAChBA,EAAImG,EAAOS,KAAK5G,QACX,GAAiB,kBAANA,EAAgB,CAChC,IAAIiG,EAAUY,YAAY7G,GAGxB,MAAM,IAAII,MACR,8GAA8GJ,GAHhHA,EAAImG,EAAOS,KAAKX,EAAUa,UAAUb,EAAUS,eAAe1G,IAAK,M,MAM/D,GAAiB,kBAANA,EAChBA,EAAIiG,EAAUc,YAAY/G,QACrB,GAAU,OAANA,QAAoBhB,IAANgB,EACvBA,EAAImG,EAAOC,YAAY,QAClB,GAAIY,EAAGC,KAAKjH,GACjBA,EAAIA,EAAEkH,YAAYf,OACb,KAAInG,EAAEmH,QAIX,MAAM,IAAI/G,MAAM,gBAFhBJ,EAAImG,EAAOS,KAAK5G,EAAEmH,U,CAKtB,OAAOnH,CACT,EAOa/B,cAAc,SAASsI,GAClC,OAAO,IAAIS,EAAG/I,WAASsI,IAAMa,UAC/B,EAManJ,cAAc,SAASsI,GAElC,MAAO,MADPA,EAAMtI,WAASsI,IACGnH,SAAS,MAC7B,EAManB,aAAa,SAASoJ,GACjC,OAAO,IAAIL,EAAGK,GAAKC,SAAS,IAC9B,EAMarJ,aAAa,SAASoJ,GACjC,OAAOlB,EAAOS,KAAKS,EAAIE,OAAO,KAAKJ,UACrC,EAKalJ,eAAe,SAASuJ,GACnC,MAAmB,kBAARA,GAIJvB,EAAUwB,cAAcD,GAHtBA,EAGmC,KAAOA,CACrD,EAOavJ,WAAW,SAASyJ,GAC/B,GAAIvB,EAAOQ,SAASe,GAClB,MAAO,KAAKA,EAAGtI,SAAS,OACnB,GAAIsI,aAAclJ,MAAO,CAE9B,IADA,IAAMsF,EAAQ,GACL7D,EAAI,EAAGA,EAAIyH,EAAGvG,OAAQlB,IAC7B6D,EAAMrD,KAAKxC,WAASyJ,EAAGzH,KAEzB,OAAO6D,C,CAEX,C,2NC7JA,cAUA,SAeA,SAAgB6D,EAAcC,EAAmBC,GAC/C,GAAkB,KAAdD,IAAqB,eAAgB3E,KAAK2E,GAC5C,MAAM,IAAIxH,MAAM,gDAAD,OACmCwH,IAIpD,GAAIC,EAAe,EACjB,MAAM,IAAIzH,MAAM,4DAAD,OAC+CyH,IAIhE,OAAOC,OAAOzI,UAAU0I,SAASvG,KAAKoG,EAAWC,EAAc,IACjE,CAdA5J,kBAsBAA,YAAA,SAA0ByD,GACxB,OAAiB,OAAVA,QAA4B1C,IAAV0C,CAC3B,EASAzD,iBAAA,SAA+ByD,GAC7B,MAAwB,kBAAVA,GAAuBsG,cAAYtG,GAE7CsE,WAAStE,GADTyE,EAAOS,KAAKlF,EAElB,EAUAzD,YAAA,SAA0B+B,EAAWiI,EAAWpD,GAC9C,IAAMqD,EAAOlC,aAAWiC,GAClBE,EAAOnC,aAAWnB,GAClBuD,EAAOpC,cAAYhG,GACnBqI,EAAOV,EAAc3B,aAAWkC,GAAM9I,SAAS,OAAQ,IACvDkJ,EAAOX,EAAc3B,aAAWmC,GAAM/I,SAAS,OAAQ,IACvDmJ,EAAOP,iBAAeA,WAASI,IACrC,OAAOpC,eAAaqC,EAAKxH,OAAOyH,EAAMC,GACxC,EASAtK,mBAAA,SACEuK,EACAC,GAEA,IAAMC,EAAY1C,aAAWyC,GAC7B,OAAOzC,YAAUwC,EAAaE,EAAU1I,EAAG0I,EAAUT,EAAGS,EAAU7D,EACpE,EAQA5G,YAAA,SAA0BmE,GACxB,GAAKA,EAAL,CAIA,GAAqB,kBAAVA,EAAoB,CAC7B,IAAMuG,EAAS3C,WAAS5D,GACxBA,EAAQ4D,cAAY2C,E,CAGtB,GAAqB,kBAAVvG,EAAoB,CAC7B,IAAIb,EAAM,iEAEV,MADAA,GAAO,aAAJ,cAAwBa,EAAK,aAAKA,GAC/B,IAAIhC,MAAMmB,E,CAGlB,OAAOyE,eAAa5D,EAAMwG,c,CAC5B,C,0tBCxHA,cAAS5H,uCAAAW,cAAAT,eAAA,mBAAO,IAChB,cAASF,wDAAAW,cAAAT,eAAA,mBAAO,IAChB,cAASF,8CAAAW,cAAAT,eAAA,mBAAO,IAChB,cAASF,uDAAAW,cAAAT,eAAA,mBAAO,IAChB2H,Y,u2CCJA,iBACA,UAYA,UA2BA,aA+CE,WAAYC,EAAmEC,GAhCrE,WAA0B,CAClCC,UAAMhK,EACNiK,aAASjK,GAUD,wBAA+B,GAU/B,mBAAgBkK,QAAMC,QAQtB,sBAAsCD,WAASE,SAG/C,MAAoDN,EAAM,MAAnDO,EAA6CP,EAAM,SAAzCQ,EAAmCR,EAAM,GAArCpH,EAA+BoH,EAAM,MAA9BS,EAAwBT,EAAM,KAAxB9I,EAAkB8I,EAAM,EAArBb,EAAea,EAAM,EAAlBjE,EAAYiE,EAAM,EAAfU,EAASV,EAAM,KAClE,KAAKW,MAAQ,IAAIzD,MAAG,cAASwD,IAAOpC,WAEpC,KAAKsC,UAAYX,EAEjB,IAAMY,GAAM,cAAgB,KAAPL,EAAY,KAAOA,GAClCM,GAAK,cAAe,KAAN5J,EAAW,KAAOA,GAChC6J,GAAK,cAAe,KAAN5B,EAAW,KAAOA,GAChC6B,GAAK,cAAe,KAANjF,EAAW,KAAOA,GAEtC,KAAKkF,MAAQ,IAAI/D,MAAG,cAAmB,KAAV+D,EAAe,KAAOA,IACnD,KAAKV,SAAW,IAAIrD,MAAG,cAAsB,KAAbqD,EAAkB,KAAOA,IACzD,KAAKC,GAAKK,EAAIxI,OAAS,EAAI,IAAI6E,UAAQ2D,QAAO3K,EAC9C,KAAK0C,MAAQ,IAAIsE,MAAG,cAAmB,KAAVtE,EAAe,KAAOA,IACnD,KAAK6H,MAAO,cAAkB,KAATA,EAAc,KAAOA,GAE1C,KAAKvJ,EAAI4J,EAAGzI,OAAS,EAAI,IAAI6E,KAAG4D,QAAM5K,EACtC,KAAKiJ,EAAI4B,EAAG1I,OAAS,EAAI,IAAI6E,KAAG6D,QAAM7K,EACtC,KAAK6F,EAAIiF,EAAG3I,OAAS,EAAI,IAAI6E,KAAG8D,QAAM9K,EAEtC,KAAKgL,gCAAgC,CAAEtI,MAAO,KAAKA,MAAOuG,EAAG,KAAKA,EAAGpD,EAAG,KAAKA,IAG7E,KAAKmF,gCAAgC,CAAEX,SAAU,KAAKA,UAAY,IAGlE,KAAKW,gCAAgC,CAAED,MAAO,KAAKA,OAAS,IAAI,EAClE,CAqXF,OA9WE/I,sBAAIiJ,8BAAe,C,IAAnB,WACE,OAAO,KAAKT,IACd,E,gCAOAxI,sBAAIiJ,mBAAI,C,IAAR,WACE,OAAO,KAAKR,KACd,E,gCAkBAQ,qBAAA,SAASC,GACP,OAAO,KAAKC,mBAAmBC,SAASF,EAC1C,EASAD,qBAAA,SAASI,QAAA,QAAAA,MACP,IAAM3K,EAAS,GAUf,OARI,KAAK4K,aAAaC,GAAG,KAAKlB,WAC5B3J,EAAOe,KAAK,qCAA8B,KAAK4I,SAAQ,2BAAmB,KAAKiB,eAG7E,KAAKE,aAAe,KAAKC,mBAC3B/K,EAAOe,KAAK,qBAGP4J,EAAc3K,EAA2B,IAAlBA,EAAOyB,MACvC,EAKA8I,uBAAA,WACE,IAAMS,EAAM,KAAKC,aAAaC,KAAK,KAAKC,OAAOC,MAAM,YAAa,OAIlE,OAHI,KAAKD,OAAOE,YAAY,cAAgB,KAAKC,qBAC/CN,EAAIO,MAAM,KAAKJ,OAAOC,MAAM,YAAa,eAEpCJ,CACT,EAKAT,uBAAA,WAKE,IAJA,IAAMiB,EAAa,KAAKL,OAAOC,MAAM,YAAa,cAC5CK,EAAgB,KAAKN,OAAOC,MAAM,YAAa,iBAEjDM,EAAoB,EACfnL,EAAI,EAAGA,EAAI,KAAKsJ,KAAKpI,OAAQlB,IACnB,IAAjB,KAAKsJ,KAAKtJ,GAAYmL,GAAQF,EAAeE,GAAQD,EAIvD,GADAC,EAAO,IAAIpF,KAAGoF,SACGpM,IAAZ,KAAKsK,IAAgC,OAAZ,KAAKA,KAAgB,KAAKuB,OAAOQ,eAAe,MAAO,CACnF,IAAMC,EAAaC,KAAKC,KAAK,KAAKjC,KAAKpI,OAAS,IAC1CsK,EAAe,IAAIzF,KAAG,KAAK6E,OAAOC,MAAM,YAAa,qBAAqBY,MAC9EJ,GAEFF,EAAKO,KAAKF,E,CAGZ,OAAOL,CACT,EAUAnB,8BAAA,WACE,YAAmBjL,IAAZ,KAAKsK,IAA2C,IAAvB,KAAKA,GAAG/C,IAAIpF,MAC9C,EA8BO8I,qBAAP,WACQ,MAAc,KAAZjK,EAAC,IAAEiI,EAAC,IAAEpD,EAAC,IACf,OAAkB,IAAd,KAAK2E,QACFxJ,GAAMiI,GAAMpD,UAMP7F,IAANgB,IAAoBiI,IAAMpD,EAMlC,EAKAoF,4BAAA,WACE,IAEE,IAAM2B,EAAY,KAAKC,qBACvB,OAAyC,KAAlC,iBAAYD,GAAWzK,M,CAC9B,MAAOsB,GACP,OAAO,C,CAEX,EAKAwH,6BAAA,WACE,OAAO,IAAIjE,WAAQ,qBAAgB,KAAK6F,sBAC1C,EAgBA5B,iBAAA,SAAK6B,GACH,GAA0B,KAAtBA,EAAW3K,OAAe,CAC5B,IAAMI,EAAM,KAAKwK,UAAU,2CAC3B,MAAM,IAAI3L,MAAMmB,E,CAOlB,IAAIyK,GAAc,EAEF,IAAd,KAAKxC,MACL,KAAKqB,OAAOE,YAAY,oBACvB,KAAKkB,SAASC,aAAWC,0BAE1B,KAAKhC,mBAAmB1J,KAAKyL,aAAWC,wBACxCH,GAAc,GAGhB,IAAMI,EAAU,KAAKC,kBAAiB,GAChC,GAAc,YAAOD,EAASN,GAA5B9L,EAAC,IAAEiI,EAAC,IAAEpD,EAAC,IACTyH,EAAK,KAAKC,kBAAkBvM,EAAGiI,EAAGpD,GAGxC,GAAImH,EAAa,CACf,IAAMQ,EAAQ,KAAKrC,mBAAmBzG,QAAQwI,aAAWC,wBACrDK,GAAS,GACX,KAAKrC,mBAAmBsC,OAAOD,EAAO,E,CAI1C,OAAOF,CACT,EAkBUrC,uBAAV,SAAqBY,EAAiB6B,G,MAEpC,GAAIA,EAAS,CACX,IAAMC,EAAY,IAAI3G,MAAG,cAAS0G,IAClC,GAAI7B,EAAQ,CACV,IAAKA,EAAO8B,YAAYC,GAAGD,GAAY,CACrC,IAAMpL,EAAM,KAAKwK,UAAU,sDAC3B,MAAM,IAAI3L,MAAMmB,E,CAIlB,OAAOsJ,EAAOrE,M,CAEd,OAAI0C,UAAO2D,mBAAmBF,GAGrB,IAAIzD,UAAO,CAAE4D,MAAOH,EAAWI,SAAU,KAAKC,mBAI9C9D,UAAO+D,eACZ,KAAKC,cACL,CACE5O,KAAM,eACN6O,UAAWR,EACXD,QAASC,GAEX,KAAKK,iB,CAOX,OACgB,QAAd,EAAM,OAAN,QAAM,IAANnC,OAAM,EAANA,EAAQrE,cAAM,QAAI,IAAI0C,UAAO,CAAE4D,MAAO,KAAKI,cAAeH,SAAU,KAAKC,kBAG/E,EAQU/C,4CAAV,SACEmD,EACAC,EACAC,G,aADA,QAAAD,YACA,QAAAC,M,IAEA,IAA2B,eAAOC,QAAQH,IAAO,8BAAE,CAAxC,mBAACjK,EAAG,KAAEzB,EAAK,KACpB,OAAQ2L,GACN,KAAK,GACH,GAAIC,GACF,GAAS,OAAL5L,QAAK,IAALA,OAAK,EAALA,EAAO8L,IAAIxH,cAAa,CAC1B,IAAMzE,EAAM,KAAKwK,UACf,UAAG5I,EAAG,8DAAsDzB,IAE9D,MAAM,IAAItB,MAAMmB,E,OAGlB,GAAS,OAALG,QAAK,IAALA,OAAK,EAALA,EAAO6I,GAAGvE,cAAa,CACnBzE,EAAM,KAAKwK,UAAU,UAAG5I,EAAG,qDAA6CzB,IAC9E,MAAM,IAAItB,MAAMmB,E,CAGpB,MACF,KAAK,IACH,GAAI+L,GACF,GAAS,OAAL5L,QAAK,IAALA,OAAK,EAALA,EAAO8L,IAAIxH,eAAc,CACrBzE,EAAM,KAAKwK,UACf,UAAG5I,EAAG,gEAAwDzB,IAEhE,MAAM,IAAItB,MAAMmB,E,OAGlB,GAAS,OAALG,QAAK,IAALA,OAAK,EAALA,EAAO6I,GAAGvE,eAAc,CACpBzE,EAAM,KAAKwK,UACf,UAAG5I,EAAG,uDAA+CzB,IAEvD,MAAM,IAAItB,MAAMmB,E,CAGpB,MACF,QACQA,EAAM,KAAKwK,UAAU,4BAC3B,MAAM,IAAI3L,MAAMmB,G,mGAIxB,EAmBU0I,mCAAV,WACE,IAAIjB,EAAO,GACX,IACEA,EAAO,KAAKwB,YAAa,iBAAY,KAAKxB,QAAU,0B,CACpD,MAAOvG,GACPuG,EAAO,O,CAET,IAAIwB,EAAW,GACf,IACEA,EAAW,KAAKA,WAAWpL,U,CAC3B,MAAOqD,GACPuG,EAAO,O,CAET,IAAIyE,EAAK,GACT,IACEA,EAAK,KAAK5C,OAAOkC,U,CACjB,MAAOtK,GACPgL,EAAK,O,CAGP,IAAIC,EAAU,kBAAW,KAAKlE,KAAI,iBAASR,EAAI,kBAAU,KAAKe,MAAK,kBAAU,KAAKrI,MAAK,KAGvF,OAFAgM,GAAW,iBAAUlD,EAAQ,eAAOiD,EAGtC,EACF,EAhcA,GAAsBxP,mB,4sCDxCtB,IAcY0P,EAqDAC,EAnEZ,SACA,UACA,UACA,UACA,UACA,WASA,SAAYD,GAMVA,mCAOAA,iCAOAA,oDAOAA,0BAOAA,qCAOAA,0CACD,CA1CD,CAAYA,EAAA1P,8BAAW,KA4CvB,SAAY4P,GACVA,yBACAA,yBACAA,yBACAA,sBACAA,uBACAA,+BACD,CAPD,CAAY5P,kBAAK,KASjB,SAAY2P,GACVA,0BACAA,wBACAA,YACAA,sCACAA,kCACAA,wBACAA,kCACAA,0BACAA,sBACAA,4BACAA,kBACAA,kBACAA,8BACAA,4BACAA,gDACAA,gBACAA,qBACD,CAlBD,CAAYA,EAAA3P,wBAAQ,KAoBpB,SAAY6P,GACVA,qBACAA,oBACAA,wBACD,CAJD,CAAY7P,kCAAa,KAMzB,SAAY8P,GACVA,kBACAA,kBACAA,iBACD,CAJD,CAAY9P,4CAAkB,KA0G9B,kBAyLE,WAAY8K,G,YAAZ,Q,EACEiF,cAAO,MArLDC,oBAAgD,GAChDA,QAAkB,GAqLxBA,EAAKC,cAAiC,QAAjB,IAAKC,oBAAY,QAAI,GAC1CF,EAAKG,aAAeH,EAAKI,SAAStF,EAAK+D,OACvCmB,EAAKjB,iBAAoD,QAAjC,IAAKoB,aAAaE,uBAAe,QAAIV,EAASxE,S,IACtE,IAAiB,UAAKgF,aAAaG,WAAS,8BAAE,CAAzC,IAAMd,EAAE,QACNA,EAAGe,WACNf,EAAGe,SAAWP,EAAKQ,cAAchB,EAAGnP,M,0GAGxC2P,EAAKS,UAAYT,EAAKjB,iBAClBjE,EAAK4F,qBACPV,EAAKW,oBAAsB7F,EAAK4F,oBAE9B5F,EAAKgE,UACPkB,EAAKY,YAAY9F,EAAKgE,UAEpBhE,EAAK+F,MACPb,EAAKc,QAAQhG,EAAK+F,M,CAEtB,CAi0BF,OA9gCoCE,OAiC3BC,SAAP,SACEC,EACAnG,G,WAAA,QAAAA,MAEA,IAAMoG,EAA0B,QAAd,IAAKA,iBAAS,QAAI,UAC9BC,EAAmB,KAAQH,EAAOI,gBAAgBF,IAGxD,GAFAC,EAA0B,KAAI,eAEG,kBAAtBF,EACT,OAAO,IAAID,EAAM,GACfnC,MAAK,OACAsC,GACAF,IAEFnG,IAGL,GAAImG,IAAsBvB,EAAY2B,eACpC,OAAOL,EAAOM,OACZ,CACEjR,KAAMqP,EAAY2B,eAClB5C,QAAS,IACTS,UAAW,KAEbpE,GAGJ,GAAImG,IAAsBvB,EAAY6B,cACpC,OAAOP,EAAOM,OACZ,CACEjR,KAAMqP,EAAY6B,cAClB9C,QAAS,MACTS,UAAW,OAEbpE,GAGJ,GAAImG,IAAsBvB,EAAY8B,uBACpC,OAAOR,EAAOM,OACZ,CACEjR,KAAMqP,EAAY8B,uBAClB/C,QAAS,OACTS,UAAW,QAEbpE,GAGJ,GAAImG,IAAsBvB,EAAY+B,UACpC,OAAOT,EAAOM,OACZ,CACEjR,KAAMqP,EAAY+B,UAClBhD,QAAS,IACTS,UAAW,KAEbpE,GAIJ,GAAImG,IAAsBvB,EAAYgC,gBACpC,OAAOV,EAAOM,OACZ,CACEjR,KAAMqP,EAAYgC,gBAClBjD,QAAS,GACTS,UAAW,IACZ,GAECJ,SAAUa,EAASgC,QAAW7G,IAIpC,GAAImG,IAAsBvB,EAAYkC,mBACpC,OAAOZ,EAAOM,OACZ,CACEjR,KAAMqP,EAAYkC,mBAClBnD,QAAS,GACTS,UAAW,IACZ,GAECJ,SAAUa,EAASgC,QAAW7G,IAGpC,MAAM,IAAI3I,MAAM,uBAAgB8O,EAAiB,kBAErD,EAcOD,iBAAP,SACEE,EACAW,EACA/C,EACA4B,GAEA,IAAMS,EAAsBH,EAAOI,gBAAgBF,GAEnD,OAAO,IAAIF,EAAO,CAChBnC,MAAK,OACAsC,GACAU,GAEL/C,SAAUA,EACV4B,mBAAoBA,GAExB,EAOOM,qBAAP,SAA0BvC,GACxB,IAAMqD,GAAyB,6BAC/B,OAAOC,QAAQD,EAAyB,MAAErD,EAAQtN,YACpD,EAEe6P,kBAAf,SACEnC,EACAqB,GAEA,IAAM4B,GAAyB,2BAAsB5B,GACrD,GAAqB,kBAAVrB,GAAsB9G,KAAGiB,KAAK6F,GAAQ,CAG/C,GAFAA,EAAQA,EAAM1N,WAEV2Q,EAAyB,MAAEjD,GAE7B,OAAOiD,EADcA,EAAyB,MAAEjD,IAIlD,MAAM,IAAI1M,MAAM,wBAAiB0M,EAAK,kB,CAGxC,GAAIiD,EAAkBjD,GACpB,OAAOiD,EAAkBjD,GAG3B,MAAM,IAAI1M,MAAM,0BAAmB0M,EAAK,kBAC1C,EAkCAmC,qBAAA,SAASnC,G,QACP,GAAqB,kBAAVA,GAAuC,kBAAVA,GAAsB9G,KAAGiB,KAAK6F,GAAQ,CAE5E,IAAImD,OAAiB,EAMnBA,EAJA,KAAK/B,eACL,KAAKA,cAAc/M,OAAS,GAC5B3C,MAAMC,QAAQ,KAAKyP,cAAc,IAEZ,KAAKA,cAA2CpN,KAAI,SAAC2B,GAAM,SAAE,EAAF,IAE5D,KAAKyL,cAE3B,KAAKE,aAAea,EAAOI,gBAAgBvC,EAAOmD,E,KAC7C,IAAqB,kBAAVnD,EAchB,MAAM,IAAI1M,MAAM,sBAbhB,GAAI,KAAK8N,cAAc/M,OAAS,EAC9B,MAAM,IAAIf,MACR,sF,IAIJ,IAAoB,QADH,CAAC,YAAa,UAAW,YAAa,mBAC3B,8BAAE,CAAzB,IAAM0K,EAAK,QACd,QAA4B9L,IAAlB8N,EAAOhC,GACf,MAAM,IAAI1K,MAAM,4CAAqC0K,G,mGAGzD,KAAKsD,aAAetB,C,CAItB,OAAO,KAAKsB,YACd,EAMAa,wBAAA,SAAYlC,G,QACV,IAAK,KAAKmD,qBAAqBnD,GAC7B,MAAM,IAAI3M,MAAM,mBAAY2M,EAAQ,gDAEtC,IAAIoD,GAAW,E,IACf,IAAwB,qBAAgB,8BAAE,CAAtB,QACJ,KAAOpD,IACf,KAAK2B,YAAc3B,IACrB,KAAK2B,UAAY3B,EACjB,KAAKqD,KAAK,kBAAmBrD,IAE/BoD,GAAW,E,mGAGf,IAAKA,EACH,MAAM,IAAI/P,MAAM,6BAAsB2M,EAAQ,kBAElD,EAcAkC,qCAAA,SAAyBoB,EAAqBC,G,QAC5CD,GAAc,YAAOA,EAAarK,aAAWgB,IAC7CsJ,GAAK,YAAOA,EAAItK,aAAWgB,IAE3B,IACIuJ,EACAC,EACAC,EAHA1D,EAAWa,EAAS8C,W,IAIxB,IAAiB,aAAKnC,aAAW,8BAAE,CAA9B,IAAMd,EAAE,QAEX,GAAiB,OAAbA,EAAGkD,MAQHN,EAAY7C,IAAI,IAAIxH,KAAGyH,EAAGkD,UAC5B5D,EAAWU,EAAGnP,MAEZgS,GAAM7C,EAAG6C,KACPA,EAAG9C,IAAI,IAAIxH,KAAGyH,EAAG6C,KACnBC,EAAU9C,EAAGnP,KAEbkS,EAAUC,GAGdA,EAAahD,EAAGnP,UAjBd,QAAWU,IAAPsR,GAA2B,OAAPA,QAAyBtR,IAAVyO,EAAG6C,IAA8B,OAAV7C,EAAG6C,IAC3DA,EAAG9C,IAAI,IAAIxH,KAAGyH,EAAG6C,KACnB,OAAO7C,EAAGnP,I,mGAiBlB,GAAIgS,EAAI,CACN,IAAIM,EAAS,wBAAiBP,EAAW,gBAAQtD,EAAQ,OACzD,GAAIwD,IACG,KAAKM,oBAAoB9D,EAAUwD,GAAU,CAChD,IAAMhP,EAAM,8EAEZ,MADAqP,GAAU,4BAAqBN,EAAE,gBAAQC,EAAO,KAC1C,IAAInQ,MAAM,UAAGmB,EAAG,aAAKqP,G,CAG/B,GAAIJ,IACG,KAAKK,oBAAoBL,EAASzD,GAAW,CAC1CxL,EAAM,8EAEZ,MADAqP,GAAU,4BAAqBN,EAAE,gBAAQE,EAAO,KAC1C,IAAIpQ,MAAM,UAAGmB,EAAG,aAAKqP,G,EAIjC,OAAO7D,CACT,EAcAkC,qCAAA,SAAyBoB,EAAqBC,GAC5C,IAAMvD,EAAW,KAAK+D,yBAAyBT,EAAaC,GAE5D,OADA,KAAKzB,YAAY9B,GACVA,CACT,EAOAkC,4BAAA,SAAgBlC,EAAqCgE,GACnD,QADmD,QAAAA,MAC9ChE,GAEE,GAAIgE,IAAkB,KAAKb,qBAAqBnD,GACrD,MAAM,IAAI3M,MAAM,mBAAY2M,EAAQ,qDAFpCA,EAAW,KAAK2B,UAIlB,OAAO3B,CACT,EAOAkC,yBAAA,SAAalC,G,QACLiE,EAAM,KAAKzC,Y,IACjB,IAAiB,WAAG,8BAAE,CAAjB,IAAMd,EAAE,QACX,GAAIA,EAAS,OAAMV,EAAU,OAAOU,C,mGAEtC,MAAM,IAAIrN,MAAM,mBAAY2M,EAAQ,kCAA0B,KAAKkE,aACrE,EAOAhC,iCAAA,SAAqBlC,G,QACnB,KAAI,KAAK6B,oBAAoBzN,OAAS,GAKpC,OAAO,E,IAJP,IAA0B,aAAKyN,qBAAmB,8BAAE,CAClD,GAAI7B,IADgB,QACU,OAAO,C,mGAKzC,OAAO,CACT,EAMAkC,oBAAA,SAAQH,G,QAAR,YAAQ,QAAAA,M,eACKoC,GACT,KAAMA,KAAOC,QACX,MAAM,IAAI/Q,MAAM,UAAG8Q,EAAG,mBAExB,IAAME,EAAQC,EAAKtG,YAAYoG,OAAKD,GAAsB,iBAC1D,IAAKE,EACH,MAAM,IAAIhR,MACR,UAAG8Q,EAAG,4CAAoCG,EAAKtE,WAAU,8BAAsBqE,IAG/ED,OAAKD,GAAKI,cACVH,OAAKD,GAAKI,aAA0BvN,SAAQ,SAACwN,GAC7C,IAAMzC,EAAK1E,SAASmH,KAAStD,EAAK5C,eAAekG,GAC/C,MAAM,IAAInR,MAAM,UAAG8Q,EAAG,yBAAiBK,EAAI,yCAE/C,G,aAfJ,IAAkB,WAAI,+B,EAAR,Q,mGAkBd,KAAKC,MAAQ1C,CACf,EAaAG,kBAAA,SAAMwC,EAAenT,G,QAGfoD,EAAQ,K,IACZ,IAAkB,aAAK8P,OAAK,8BAAE,CAAzB,IAAMN,EAAG,QAEZ,GAAc,QADdxP,EAAQ,KAAKgQ,WAAWD,EAAOnT,EAAM4S,IAEnC,OAAOxP,C,mGAGX,OAAO,KAAKiQ,gBAAgBF,EAAOnT,EAAM,KAAKoQ,UAChD,EASAO,4BAAA,SAAgBwC,EAAenT,EAAcyO,G,YAC3CA,EAAW,KAAK6E,gBAAgB7E,GAEhC,IAAIrL,EAAQ,K,IACZ,IAAwB,qBAAgB,8BAAE,CAArC,IAAMmQ,EAAS,QAElB,GAAI,SAAUA,EAAU,GAAI,CAC1B,IAAMC,EAASD,EAAU,GAAS,K,IAClC,IAAkB,sBAAM,8BAAE,CAArB,IAAMX,EAAG,QACNa,EAAW,KAAKL,WAAWD,EAAOnT,EAAM4S,GAC9CxP,EAAqB,OAAbqQ,EAAoBA,EAAWrQ,C,wGAGpC,CACL,IAAKmQ,EAAU,GAAGJ,GAChB,MAAM,IAAIrR,MAAM,gBAASqR,EAAK,sBAEEzS,IAA9B6S,EAAU,GAAGJ,GAAOnT,KACtBoD,EAAQmQ,EAAU,GAAGJ,GAAOnT,GAAM0B,E,CAGtC,GAAI6R,EAAU,KAAO9E,EAAU,K,mGAEjC,OAAOrL,CACT,EASAuN,uBAAA,SAAWwC,EAAenT,EAAc4S,GACtC,KAAMA,KAAOC,QACX,MAAM,IAAI/Q,MAAM,UAAG8Q,EAAG,mBAGxB,IAAMc,EAAYb,OAAKD,GACvB,KAAMO,KAASO,GACb,MAAM,IAAI5R,MAAM,gBAASqR,EAAK,iBAEhC,YAA+BzS,IAA3BgT,EAAUP,GAAOnT,GACZ,KAEK0T,EAAUP,GAAOnT,GAAM0B,CAEvC,EAQAiP,yBAAA,SAAawC,EAAenT,EAAc+R,GACxC,IAAM4B,EAAY,KAAKC,gBAAgB7B,GACjCtD,EAAWkF,EAAUA,EAAU9Q,OAAS,GAAS,KACvD,OAAO,KAAKwQ,gBAAgBF,EAAOnT,EAAMyO,EAC3C,EAWAkC,2BAAA,SAAeiC,G,QACb,GAAI,KAAKpC,OAAO1E,SAAS8G,GACvB,OAAO,E,IAET,IAAwB,qBAAgB,8BAAE,CAArC,IACGzD,EADY,QACG,GACrB,GAAI,KAAK1C,YAAY0C,EAAS,OAAM,SAAUA,GACxCA,EAAS,KAAErD,SAAS8G,GACtB,OAAO,C,mGAIb,OAAO,CACT,EASAjC,oCAAA,SACElC,EACAsD,EACAtH,G,WAAA,QAAAA,MAEAsH,GAAc,YAAOA,EAAarK,aAAWgB,IAC7C,IAAM+J,EAAkC,QAAlB,IAAKA,qBAAa,SACxChE,EAAW,KAAK6E,gBAAgB7E,EAAUgE,GAC1C,IAAMoB,EAAU,KAAKC,gBAAgBrF,GACrC,SAAIoF,IAAW9B,EAAY7C,IAAI2E,GAIjC,EAQAlD,0BAAA,SAAcoB,EAAqBtH,GACjC,OAAO,KAAKsJ,wBAAwB,KAAMhC,EAAatH,EACzD,EASAkG,gCAAA,SACEqD,EACAC,EACAxJ,G,aAAA,QAAAA,MAEA,IAGIwF,EAHEiE,OAAiCxT,IAApB+J,EAAKyJ,YAAmCzJ,EAAKyJ,WAChEF,EAAY,KAAKV,gBAAgBU,EAAWvJ,EAAKgI,eAI/CxC,EADEiE,EACU,KAAKN,gBAAgB,KAAMnJ,GAE3B,KAAKwF,YAGnB,IAAIkE,GAAU,EACZC,GAAU,EACRlG,EAAQ,E,IACZ,IAAiB,WAAS,8BAAE,CAAvB,IAAMiB,EAAE,QACPA,EAAS,OAAM6E,IAAWG,EAASjG,GACnCiB,EAAS,OAAM8E,IAAWG,EAASlG,GACvCA,GAAS,C,mGAEX,OAAOiG,GAAUC,IAAsB,IAAZA,CAC7B,EAQAzD,wBAAA,SAAYlC,EAA6BhE,GACvC,OAAO,KAAK8H,oBAAoB,KAAM9D,EAAUhE,EAClD,EAQAkG,oCAAA,SACElC,EACAhE,G,eAAA,QAAAA,MAEA,IAAMgI,EAAkC,QAAlB,IAAKA,qBAAa,SACxChE,EAAW,KAAK6E,gBAAgB7E,EAAUgE,G,IAC1C,IAAiB,aAAKxC,aAAW,8BAAE,CAA9B,IAAMd,EAAE,QACX,GAAIA,EAAS,OAAMV,GAA4B,OAAhBU,EAAU,MAAY,OAAO,C,mGAE9D,OAAO,CACT,EAQAwB,4BAAA,SAAgBoB,EAA6BtH,G,aAAA,QAAAA,MAC3C,IAAMmJ,EAAoC,GACpClB,EAAM,KAAKzC,Y,IACjB,IAAiB,WAAG,8BAAE,CAAjB,IAAMd,EAAE,QACX,GAAoB,OAAhBA,EAAU,MAAd,CACA,QAAoBzO,IAAhBqR,GAA6C,OAAhBA,GAAwBA,EAAc5C,EAAU,MAAG,MAChF1E,EAAKgI,gBAAkB,KAAKb,qBAAqBzC,EAAS,OAE9DyE,EAAgBzR,KAAKgN,EAJK,C,mGAM5B,OAAOyE,CACT,EAQAjD,2BAAA,SAAeoB,EAA6BtH,QAAA,QAAAA,MAC1C,IAAMmJ,EAAkB,KAAKA,gBAAgB7B,EAAatH,GAC1D,GAAImJ,EAAgB/Q,OAAS,EAC3B,OAAO+Q,EAAgBA,EAAgB/Q,OAAS,GAAS,KAEzD,MAAM,IAAIf,MAAM,uCAEpB,EAQA6O,0BAAA,SAAclC,GACZ,IAAM4D,EAAQ,KAAKyB,gBAAgBrF,GACnC,OAAO,YAAO4D,EAAO3K,aAAWP,OAClC,EAOAwJ,4BAAA,SAAgBlC,GACdA,EAAW,KAAK6E,gBAAgB7E,GAAU,GAC1C,IAAM4D,EAAQ,KAAKgC,aAAa5F,GAAiB,MACjD,YAAc/N,IAAV2R,GAAiC,OAAVA,EAClB,KAEF,IAAI3K,KAAG2K,EAChB,EAOA1B,uBAAA,SAAWlC,GACTA,EAAW,KAAK6E,gBAAgB7E,GAAU,GAC1C,IAAMuD,EAAK,KAAKqC,aAAa5F,GAAc,GAC3C,YAAW/N,IAAPsR,GAA2B,OAAPA,EACf,KAEF,IAAItK,KAAGsK,EAChB,EAQArB,4BAAA,SAAgBoB,EAAqBtD,GACnCsD,GAAc,YAAOA,EAAarK,aAAWgB,IAC7C+F,EAAW,KAAK6E,gBAAgB7E,GAAU,GAC1C,IAAM4D,EAAQ,KAAKyB,gBAAgBrF,GACnC,QAAO4D,GAAQA,EAAM/D,GAAGyD,EAC1B,EAQApB,8BAAA,SAAkBlC,GAChB,IAAM4D,EAAQ,KAAKiC,oBAAoB7F,GACvC,OAAO,YAAO4D,EAAO3K,aAAWP,OAClC,EAOAwJ,gCAAA,SAAoBlC,GAClBA,EAAW,KAAK6E,gBAAgB7E,GAAU,GAC1C,IAAMoF,EAAU,KAAKC,gBAAgBrF,GACrC,OAAgB,OAAZoF,EACK,KAMW,KAAK5D,YAAY3P,QAAO,SAACiU,EAAgBpF,GAC3D,IAAMkD,EAAQ,IAAI3K,KAAGyH,EAAGkD,OACxB,OAAOA,EAAMpG,GAAG4H,IAAoB,OAARU,EAAelC,EAAQkC,CACrD,GAAG,KAEL,EAQA5D,gCAAA,SAAoBoB,EAAqBtD,GACvCsD,GAAc,YAAOA,EAAarK,aAAWgB,IAC7C+F,EAAW,KAAK6E,gBAAgB7E,GAAU,GAC1C,IAAM+F,EAAoB,KAAKF,oBAAoB7F,GAEnD,OAA6B,OAAtB+F,GAAqCA,EAAkBlG,GAAGyD,EACnE,EAOApB,0BAAA,SAAclC,G,QACNgG,EAAU5M,EAAOS,KAAK,KAAKmM,UAAU/J,KAAKgK,OAAO,GAAI,OAEvDC,EAAW9M,EAAO+M,MAAM,GACxBC,EAAY,E,IAChB,IAAiB,aAAK5E,aAAW,8BAAE,CAA9B,IAAMd,EAAE,QACLkD,EAAQlD,EAAGkD,MAIjB,GAAc,IAAVA,GAAyB,OAAVA,GAAkBA,IAAUwC,EAAW,CACxD,IAAMC,EAAgBjN,EAAOS,KAAK+J,EAAMvR,SAAS,IAAI2I,SAAS,GAAI,KAAM,OACxEkL,EAAW9M,EAAOtF,OAAO,CAACoS,EAAUG,G,CAGtC,GAAI3F,EAAGnP,OAASyO,EAAU,MACZ,OAAV4D,IACFwC,EAAYxC,E,mGAGhB,IAAM0C,EAAclN,EAAOtF,OAAO,CAACkS,EAASE,IAItCK,GAAW,kBAAY,SAAYD,KAAiB,GAAGjU,SAAS,OACtE,MAAO,YAAKkU,EACd,EAMArE,qBAAA,SAASlC,GACPA,EAAW,KAAK6E,gBAAgB7E,GAAU,GAC1C,IAAMxD,EAAO,KAAKoJ,aAAa5F,GAC/B,GAAsB,OAAlBxD,EAAY,YAA6BvK,IAAfuK,EAAS,GAAiB,CAEtD,MAAM,IAAInJ,MADE,wD,CAGd,YAAyBpB,IAArBuK,EAAe,SACVA,EAAe,SAEjB,KAAKkF,cAAc1B,EAC5B,EAOAkC,gCAAA,SAAoBT,GAClB,IAAM+E,EAAW,KAAKhF,YAAYiF,QAAO,SAAC/F,GACxC,OAAOA,EAAGe,WAAaA,CACzB,IACA,OAAO+E,EAASpS,QAAU,EAAIoS,EAASA,EAASpS,OAAS,GAAK,IAChE,EAMA8N,oBAAA,WACE,OAAO,KAAKb,aAAsB,OACpC,EAMAa,yBAAA,W,QAIE,OAAQ,KAAKgC,aACX,IAAK,UACH,OAAOlT,EAAQ,MACjB,IAAK,UACH,OAAOA,EAAQ,MACjB,IAAK,UACH,OAAOA,EAAQ,MACjB,IAAK,QACH,OAAOA,EAAQ,MACjB,IAAK,SACH,OAAOA,EAAQ,MACjB,IAAK,UACH,OAAOA,EAAQ,MAInB,GACE,KAAKmQ,eACL,KAAKA,cAAc/M,OAAS,GAC5B3C,MAAMC,QAAQ,KAAKyP,cAAc,I,IAEjC,IAAoC,aAAKA,eAAyC,8BAAE,CAA/E,IAAMuF,EAAqB,QAC9B,GAAIA,EAAsB,GAAGnV,OAAS,KAAK2S,YACzC,OAAOwC,EAAsB,E,mGAKnC,MAAO,EACT,EAMAxE,sBAAA,WACE,OAAO,KAAKb,aAAwB,SACtC,EAMAa,2BAAA,WACE,OAAO,KAAKb,aAA6B,cAC3C,EAMAa,wBAAA,WACE,OAAO,KAAKb,aAA0B,WACxC,EAMAa,qBAAA,WACE,OAAO,KAAKP,SACd,EAOAO,oBAAA,WACE,OAAO,YAAO,KAAKtC,YAAa3G,aAAWP,OAC7C,EAMAwJ,sBAAA,WACE,OAAO,IAAIjJ,KAAG,KAAKoI,aAAsB,QAC3C,EAMAa,sBAAA,WACE,OAAO,KAAKb,aAAmB,IACjC,EAOAa,sBAAA,WACE,OAAO,YAAO,KAAKyE,cAAe1N,aAAWP,OAC/C,EAMAwJ,wBAAA,WACE,OAAO,IAAIjJ,KAAG,KAAKoI,aAAwB,UAC7C,EAMAa,iBAAA,WACE,OAAO,KAAKuC,KACd,EAQAvC,0BAAA,W,QAGMvN,EAFEqL,EAAW,KAAKA,W,IAGtB,IAAwB,qBAAgB,8BAAE,CAArC,IAAM8E,EAAS,QAIlB,GAHI,cAAeA,EAAU,KAC3BnQ,EAAQmQ,EAAU,GAAc,UAAQ,MAEtCA,EAAU,KAAO9E,EAAU,K,mGAEjC,OAAIrL,GAGG,KAAK0M,aAAwB,UAAS,IAC/C,EAWAa,+BAAA,W,QAGMvN,EAFEqL,EAAW,KAAKA,W,IAGtB,IAAwB,qBAAgB,8BAAE,CAArC,IAAM8E,EAAS,QAIlB,GAHI,cAAeA,EAAU,KAC3BnQ,EAAQmQ,EAAU,GAAc,UAAa,WAE3CA,EAAU,KAAO9E,EAAU,K,mGAEjC,OAAIrL,GAGG,KAAK0M,aAAwB,UAAc,SACpD,EAgBAa,4BAAA,W,QAGMvN,EAFEqL,EAAW,KAAKA,W,IAGtB,IAAwB,qBAAgB,8BAAE,CAArC,IAAM8E,EAAS,QAKlB,GAJI,cAAeA,EAAU,KAE3BnQ,EAAQmQ,EAAU,GAAc,UAAEA,EAAU,GAAc,UAAa,YAErEA,EAAU,KAAO9E,EAAU,K,mGAEjC,GAAIrL,EACF,OAAOA,EAET,IAAMiS,EAAqB,KAAKA,qBAChC,OAAO,KAAKvF,aAAwB,UAAGuF,EACzC,EAKA1E,iBAAA,WACE,IAAMzI,EAAOxF,OAAO4S,OAAO5S,OAAOS,OAAOT,OAAO6S,eAAe,OAAQ,MAEvE,OADArN,EAAKsN,qBACEtN,CACT,EACF,EA9gCA,CAAoCuN,gB,sKEtMpC,cACA,UAEA9V,uBAAA,SAAqC4M,EAAgB1J,GACnD,GAAIA,EAAS0J,EAAOC,MAAM,KAAM,mBAC9B,MAAM,IAAI1K,MACR,oEAA6De,EAAM,6BAAqB0J,EAAOC,MAC7F,KACA,oBAIR,EAEA,8BAiGA,QAhGgBkJ,oBAAd,SAAgCC,GAC9B,IAAIC,EACAC,EACJ,GAAIF,IAAc,kBAAaA,GAAa,CAC1CC,EAAiBD,EAGjB,IAFA,IAAMG,EAAkC,GAE/BnU,EAAI,EAAGA,EAAIgU,EAAW9S,OAAQlB,IAAK,CAI1C,IAHA,IAAMnB,EAAuBmV,EAAWhU,GAClCoU,GAAgB,cAASvV,EAAKwV,SAC9BC,EAAyB,GACtB/H,EAAQ,EAAGA,EAAQ1N,EAAK0V,YAAYrT,OAAQqL,IACnD+H,EAAa9T,MAAK,cAAS3B,EAAK0V,YAAYhI,KAE9C4H,EAAc3T,KAAK,CAAC4T,EAAeE,G,CAErCJ,EAAmBC,C,KACd,CACLD,EAA6B,OAAVF,QAAU,IAAVA,IAAc,GAEjC,IAAMQ,EAAmB,GACzB,IAASxU,EAAI,EAAGA,EAAIkU,EAAiBhT,OAAQlB,IAAK,CAChD,IAAMsJ,EAAO4K,EAAiBlU,GACxBqU,GAAU,iBAAY/K,EAAK,IAC3BiL,EAAwB,GAC9B,IAAS1V,EAAO,EAAGA,EAAOyK,EAAK,GAAGpI,OAAQrC,IACxC0V,EAAY/T,MAAK,iBAAY8I,EAAK,GAAGzK,KAEvC,IAAM4V,EAA2B,CAC/BJ,QAAO,EACPE,YAAW,GAEbC,EAAKhU,KAAKiU,E,CAEZR,EAAiBO,C,CAGnB,MAAO,CACLP,eAAc,EACdD,WAAYE,EAEhB,EAEcH,mBAAd,SAA+BC,GAC7B,IAAK,IAAI9Q,EAAM,EAAGA,EAAM8Q,EAAW9S,OAAQgC,IAAO,CAChD,IAAMwR,EAAiBV,EAAW9Q,GAC5BmR,EAAkBK,EAAe,GACjCC,EAAyBD,EAAe,GAC9C,QAAiC3V,IAAvB2V,EAAgB,GACxB,MAAM,IAAIvU,MACR,wGAGJ,GAAsB,IAAlBkU,EAAQnT,OACV,MAAM,IAAIf,MAAM,mEAElB,IAAK,IAAIyU,EAAc,EAAGA,EAAcD,EAAazT,OAAQ0T,IAC3D,GAAwC,IAApCD,EAAaC,GAAa1T,OAC5B,MAAM,IAAIf,MAAM,uE,CAIxB,EAEc4T,oBAAd,SAAgCC,GAE9B,IADA,IAAMa,EAAiB,GACdtI,EAAQ,EAAGA,EAAQyH,EAAW9S,OAAQqL,IAAS,CAOtD,IANA,IAAM1N,EAAYmV,EAAWzH,GACvBuI,EAAgB,CACpBT,QAAS,MAAO,mBAAsBxV,EAAK,GAAI,IAAIM,SAAS,OAC5DoV,YAAa,IAETI,EAAyB9V,EAAK,GAC3BkW,EAAO,EAAGA,EAAOJ,EAAazT,OAAQ6T,IAAQ,CACrD,IAAMH,EAAcD,EAAaI,GACjCD,EAASP,YAAY/T,KAAK,MAAO,mBAAcoU,EAAa,IAAIzV,SAAS,O,CAE3E0V,EAAerU,KAAKsU,E,CAEtB,OAAOD,CACT,EAEcd,oBAAd,SAAgCC,EAA8BpJ,GAK5D,IAJA,IAAMoK,EAA2BpK,EAAOC,MAAM,YAAa,4BACrDoK,EAAwBrK,EAAOC,MAAM,YAAa,yBAEpDqK,EAAQ,EACH3I,EAAQ,EAAGA,EAAQyH,EAAW9S,OAAQqL,IAAS,CAGtD2I,GAFalB,EAAWzH,GACE,GACJrL,M,CAIxB,OADkB8S,EAAW9S,OACV+T,EAAwBC,EAAQF,CACrD,EACF,EAjGA,GAAahX,e,saFfb,IAAMmX,EAAYrX,EAAQ,MAmBjBE,cAlBT,IAAMgI,EAAYlI,EAAQ,KAC1B,QAOSE,OANT,aAWSA,QAVT+C,OAAO4S,OAAO3V,EAASgI,GAoBvB4C,aAKAA,aAKAA,aAKAA,aAKAA,aAKAA,Y,oeGjDA,IAAMuM,EAAYrX,EAAQ,KACpBsX,EAActX,EAAQ,MACtBuX,EAAMvX,EAAQ,MA8BPE,mBAAmB,SAAS6N,GAEvC,OAA0B,KAAtBA,EAAW3K,QAIRiU,EAAUG,iBAAiBC,WAAW5O,KAAKkF,GACpD,EASa7N,mBAAmB,SAAS6N,EAAoB2J,GAE3D,GAA0B,KAAtB3J,EAAW3K,OACb,MAAM,IAAIuU,WAAW,iCAGvB,IAAM9J,EAAYyJ,EAAYM,iBAAiB7J,EAAY2J,GAE3D,OAAOH,EAAIK,iBAAiB7J,EAAYF,EAAW6J,EACrD,EAQaxX,mBAAmB,SAAS6N,GAIvC,GAAmB,QADnBA,EAAawJ,EAAIM,iBAAiB9J,KACe,KAAtBA,EAAW3K,QAAiBlD,mBAAiB6N,GACtE,OAAOA,EAGT,MAAM,IAAI1L,MAAM,kCAClB,EAQanC,mBAAmB,SAAS6N,GACvC,OAAO3F,EAAOS,KAAKwO,EAAUS,iBAAiBL,WAAW5O,KAAKkF,IAChE,EAQa7N,uBAAuB,SAAS6N,GAC3C,GAA0B,KAAtBA,EAAW3K,OACb,MAAM,IAAIf,MAAM,iCAGlB,OAAO+F,EAAOS,KAAKyO,EAAYS,qBAAqBN,WAAW5O,KAAKkF,IACtE,EASa7N,qBAAqB,SAAS6N,EAAoBiK,GAC7D,OAAO5P,EAAOS,KAAKwO,EAAUY,mBAAmBR,WAAW5O,KAAKkF,GAAaiK,GAC/E,EASa9X,qBAAqB,SAAS6N,EAAoBiK,GAC7D,OAAO5P,EAAOS,KACZwO,EAAUa,mBAAmBT,WAAW5O,KAAKkF,GAAa0J,WAAW5O,KAAKmP,IAE9E,EASa9X,kBAAkB,SAAS6N,EAAoB2J,GAC1D,OAAOtP,EAAOS,KAAKwO,EAAUc,gBAAgBV,WAAW5O,KAAKkF,GAAa2J,GAC5E,EASaxX,mBAAmB,SAAS2N,EAAmB6J,GAC1D,OAAOtP,EAAOS,KAAKwO,EAAUe,iBAAiBX,WAAW5O,KAAKgF,GAAY6J,GAC5E,EAQaxX,kBAAkB,SAAS2N,GAEtC,OAAyB,KAArBA,EAAUzK,QAAsC,KAArByK,EAAUzK,SAIlCiU,EAAUgB,gBAAgBZ,WAAW5O,KAAKgF,GACnD,EAUa3N,oBAAoB,SAC/B2N,EACAmK,EACAN,GAEA,OAAOtP,EAAOS,KACZwO,EAAUiB,kBAAkBb,WAAW5O,KAAKgF,GAAY4J,WAAW5O,KAAKmP,GAAQN,GAEpF,EAUaxX,oBAAoB,SAC/B2N,EACAmK,EACAN,GAEA,OAAOtP,EAAOS,KACZwO,EAAUkB,kBAAkBd,WAAW5O,KAAKgF,GAAY4J,WAAW5O,KAAKmP,GAAQN,GAEpF,EASaxX,mBAAmB,SAASsY,EAAsBd,GAC7D,IAAMxR,EAAqB,GAK3B,OAJAsS,EAAWxS,SAAQ,SAAC6H,GAClB3H,EAAKxD,KAAK+U,WAAW5O,KAAKgF,GAC5B,IAEOzF,EAAOS,KAAKwO,EAAUoB,iBAAiBvS,EAAMwR,GACtD,EAQaxX,qBAAqB,SAASwK,GACzC,OAAOtC,EAAOS,KAAKwO,EAAUqB,mBAAmBjB,WAAW5O,KAAK6B,IAClE,EAQaxK,kBAAkB,SAASwK,GACtC,OAAOtC,EAAOS,KAAKwO,EAAUsB,gBAAgBlB,WAAW5O,KAAK6B,IAC/D,EAQaxK,kBAAkB,SAASwK,GACtC,OAAOtC,EAAOS,KAAKwO,EAAUuB,gBAAgBnB,WAAW5O,KAAK6B,IAC/D,EAQaxK,qBAAqB,SAASwK,GAIzC,GAAyB,IAArBA,EAAUtH,OACZ,MAAM,IAAIuU,WAAW,+BAGvB,IAAMkB,EAAStB,EAAIuB,mBAAmBpO,GACtC,GAAe,OAAXmO,EACF,MAAM,IAAIxW,MAAM,gCAGlB,OAAOiV,EAAYsB,gBAAgBC,EACrC,EAUa3Y,OAAO,SAClBC,EACA4N,EACAvM,GAEA,GAAgB,OAAZA,EACF,MAAM,IAAIuX,UAAU,+BAGtB,IAAIC,OAAyC/X,EAE7C,GAAIO,EAAS,CAGX,GAFAwX,EAAc,GAEO,OAAjBxX,EAAQgK,KAEV,MAAM,IAAIuN,UAAU,mCAGtB,GAAIvX,EAAQgK,KAAM,CAChB,GAA2B,IAAvBhK,EAAQgK,KAAKpI,OACf,MAAM,IAAIuU,WAAW,kCAGvBqB,EAAYxN,KAAO,IAAIiM,WAAWjW,EAAQgK,K,CAG5C,GAAwB,OAApBhK,EAAQyX,QACV,MAAM,IAAIF,UAAU,wCAGlBvX,EAAQyX,UAEVD,EAAYC,QAAU,SACpB9Y,EACA4N,EACAmL,EACA1N,EACA2N,GAEA,IAAMC,EAAoC,MAARF,EAAe9Q,EAAOS,KAAKqQ,GAAQ,KAC/DG,EAAoC,MAAR7N,EAAepD,EAAOS,KAAK2C,GAAQ,KAEjEZ,EAAiBxC,EAAOS,KAAK,IAYjC,OAVIrH,EAAQyX,UACVrO,EAASpJ,EAAQyX,QACf7Q,EAAOS,KAAK1I,GACZiI,EAAOS,KAAKkF,GACZqL,EACAC,EACAF,IAIG,IAAI1B,WAAW7M,EACxB,E,CAIJ,IAAM0O,EAAMjC,EAAUkC,UACpB9B,WAAW5O,KAAK1I,GAChBsX,WAAW5O,KAAKkF,GAChBiL,GAGF,MAAO,CACLtO,UAAWtC,EAAOS,KAAKyQ,EAAI5O,WAC3B8O,SAAUF,EAAIG,MAElB,EAUavZ,SAAS,SAASC,EAAiBuK,EAAmBmD,GACjE,OAAOwJ,EAAUqC,YAAYjC,WAAW5O,KAAK6B,GAAY+M,WAAW5O,KAAK1I,GAAU0N,EACrF,EAWa3N,UAAU,SACrBC,EACAuK,EACA+O,EACA/B,GAEA,OAAOtP,EAAOS,KACZwO,EAAUsC,aAAalC,WAAW5O,KAAK6B,GAAY+O,EAAOhC,WAAW5O,KAAK1I,GAAUuX,GAExF,EASaxX,OAAO,SAAS2N,EAAmBE,GAE9C,OAAO3F,EAAOS,KAAKwO,EAAUuC,KAAKnC,WAAW5O,KAAKgF,GAAY4J,WAAW5O,KAAKkF,GAAa,IAC7F,EAEa7N,aAAa,SACxB2N,EACAE,EACA2J,GAKA,GAAyB,KAArB7J,EAAUzK,QAAsC,KAArByK,EAAUzK,OACvC,MAAM,IAAIuU,WAAW,gCAIvB,GAA0B,KAAtB5J,EAAW3K,OACb,MAAM,IAAIuU,WAAW,iCAGvB,OAAOvP,EAAOS,KACZyO,EAAYuC,WAAWpC,WAAW5O,KAAKgF,GAAY4J,WAAW5O,KAAKkF,GAAa2J,GAEpF,C,uLCzZM,MAAuD1X,EAAQ,KAA7D8Z,EAAS,YAAEC,EAAS,YAAaC,EAAI,YAAEC,EAAS,YAClDC,EAAala,EAAQ,KACrBkI,EAAYlI,EAAQ,KAC1B,SACA,UAQaE,SAAS,SAASqG,EAAQ+I,GASrC,YATqC,QAAAA,OAInC/I,EAHe,kBAANA,GAAmB2B,EAAUY,YAAYvC,GAG9C4T,WAAS5T,GAFT6B,EAAOS,KAAKtC,EAAG,QAKhB+I,IAAMA,EAAO,KAEVA,GACN,KAAK,IACH,OAAOwK,EAAUvT,GAEnB,KAAK,IACH,OAAOyT,EAAKzT,GAEd,KAAK,IACH,OAAOwT,EAAUxT,GAEnB,KAAK,IACH,OAAO0T,EAAU1T,GAEnB,QACE,MAAM,IAAIlE,MAAM,2BAA2BiN,GAGjD,EAMapP,YAAY,SAASqG,GAChC,OAAOrG,SAAOqG,EAChB,EAMarG,SAAS,SAASqG,GAE7B,OADAA,EAAI4T,WAAS5T,GACN2T,EAAW,UACfE,OAAO7T,GACP8T,QACL,EAOana,YAAY,SAASqG,EAAQ+T,GACxC/T,EAAI4T,WAAS5T,GACb,IAAM0E,EAAOiP,EAAW,UACrBE,OAAO7T,GACP8T,SACH,OAAe,IAAXC,EACKH,YAAUlP,EAAM,IAEhBA,CAEX,EAMa/K,UAAU,SAASqG,GAC9B,OAAOrG,SAAOqa,EAAIC,OAAOjU,GAC3B,C,8DChFA,IAAIkU,EAASza,EAAQ,KACjB0a,EAAU1a,EAAQ,MAGtB,SAAS2a,EAAiBC,EAAOC,GAC/Bla,KAAKO,GAAK0Z,EACVja,KAAKka,IAAMA,CACb,CAJAxX,EAAOnD,QAAQya,iBAAmBA,EAYlCtX,EAAOnD,QAAQ4a,KAAO,SAAchX,EAAMzD,GACxC,SAAS0a,EAAWC,EAAS3a,GAC3B,GAAIA,GAAyB,iBAARA,EAErB,GAAGA,EAAO4a,KAAV,CACE,IAAIC,EAAcT,EAAOzW,QAAQgX,EAAS3a,EAAO4a,MACjDJ,EAAIK,GAAeL,EAAIK,GAAeL,EAAIK,GAAa,EAAI,CAE7D,KAJA,CAKA,IAAIha,EAAKb,EAAOc,KAAOd,EAAOa,GAC1Bia,EAAUja,EAAKuZ,EAAOzW,QAAQgX,EAAS9Z,GAAM8Z,EACjD,GAAIG,EAAS,CAGX,GADGA,EAAQxV,QAAQ,KAAK,IAAGwV,GAAW,KACnCP,EAAMO,GAAS,CAChB,IAAIT,EAAQpU,kBAAkBsU,EAAMO,GAAU9a,GAC5C,MAAM,IAAIgC,MAAM,WAAW8Y,EAAQ,8CAErC,OAAOP,EAAMO,EACf,CACAP,EAAMO,GAAW9a,EAEa,KAA3B8a,EAAQA,EAAQ/X,OAAO,KACxBwX,EAAMO,EAAQC,UAAU,EAAGD,EAAQ/X,OAAO,IAAM/C,EAEpD,CACAgb,EAAUF,EAAQ,SAAW1a,MAAMC,QAAQL,EAAOib,OAAOjb,EAAOib,MAAM,CAACjb,EAAOib,QAC9ED,EAAUF,EAAQ,WAAa1a,MAAMC,QAAQL,EAAOkb,SAASlb,EAAOkb,QAAQ,CAAClb,EAAOkb,UACpFR,EAAWI,EAAQ,mBAAoB9a,EAAOmb,iBAC9CC,EAAWN,EAAQ,cAAe9a,EAAOqb,YACzCX,EAAWI,EAAQ,wBAAyB9a,EAAOsb,sBACnDF,EAAWN,EAAQ,eAAgB9a,EAAOub,aAC1CH,EAAWN,EAAQ,qBAAsB9a,EAAOwb,mBAChDJ,EAAWN,EAAQ,gBAAiB9a,EAAOyb,cAC3CT,EAAUF,EAAQ,YAAa9a,EAAO0b,UACtCV,EAAUF,EAAQ,SAAU9a,EAAO2b,OACnCX,EAAUF,EAAQ,SAAU9a,EAAO4b,OACnCZ,EAAUF,EAAQ,SAAU9a,EAAO6b,OACnCnB,EAAWI,EAAQ,OAAQ9a,EAAO8b,IA9BlC,CA+BF,CACA,SAASd,EAAUL,EAASjX,GAC1B,GAAItD,MAAMC,QAAQqD,GAClB,IAAI,IAAI7B,EAAE,EAAGA,EAAE6B,EAAQX,OAAQlB,IAC7B6Y,EAAWC,EAAQ,IAAI9Y,EAAG6B,EAAQ7B,GAEtC,CACA,SAASuZ,EAAWT,EAASjX,GAC3B,GAAIA,GAA2B,iBAATA,EACtB,IAAI,IAAIqY,KAAKrY,EACXgX,EAAWC,EAAQ,IAAIoB,EAAGrY,EAAQqY,GAEtC,CAEA,IAAIxB,EAAQ,CAAC,EACTC,EAAM,CAAC,EAEX,OADAE,EAAWjX,EAAMzD,GACV,IAAIsa,EAAiBC,EAAOC,EACrC,C,6bL1EA/P,aACAA,aACAA,aACA,cAAS7H,qCAAAW,cAAAT,eAAA,SAAAkZ,SAAS,IAAEpZ,qCAAAW,cAAAT,eAAA,SAAAmZ,SAAS,G,oCMD7B,IAAIC,EAAYlZ,EAAOnD,QAAQqc,UAAYvc,EAAQ,MAEnDqD,EAAOnD,QAAQqB,gBAAkBvB,EAAQ,MAAauB,gBACtD8B,EAAOnD,QAAQiC,qBAAuBnC,EAAQ,MAAamC,qBAC3DkB,EAAOnD,QAAQD,gBAAkBD,EAAQ,MAAaC,gBACtDoD,EAAOnD,QAAQqD,YAAcvD,EAAQ,MAAauD,YAClDF,EAAOnD,QAAQya,iBAAmB3a,EAAQ,MAAU2a,iBACpDtX,EAAOnD,QAAQ4a,KAAO9a,EAAQ,MAAU8a,KAExCzX,EAAOnD,QAAQsc,SAAW,SAAUpc,EAAUC,EAAQmB,GAEpD,OADQ,IAAI+a,GACHC,SAASpc,EAAUC,EAAQmB,EACtC,C,0mCCdA,cAYA,UACA,UAEA,UAOA,cAoFE,WAAmBuJ,EAAgBC,QAAA,QAAAA,MAAnC,I,EAAA,OAOE,I,EANAiF,mBAAWlF,GAAM,CAAEU,KA1FE,IA0FwBT,IAAK,MAE7C8B,OAASoD,EAAKuM,aAAavM,EAAKjO,EAAG+I,EAAK8B,QAE7CoD,EAAKwM,SAAW,IAAIzU,MAAG,cAA6B,KAApB8C,EAAO2R,SAAkB,KAAO3R,EAAO2R,WAEnExM,EAAKwM,SAASC,IAAIzM,EAAK5E,UAAUkB,GAAGvE,eAAc,CACpD,IAAMzE,EAAM0M,EAAKlC,UAAU,4DAC3B,MAAM,IAAI3L,MAAMmB,E,CAIlB,GAFA0M,EAAKjE,gCAAgC,CAAEyQ,SAAUxM,EAAKwM,WAElDxM,EAAKpD,OAAOE,YAAY,kBAC1B,GAAKkD,EAAKzD,WAEH,CAML,IAAMxK,EAAIiO,EAAKjO,EACT2a,EAAiB1M,EAAKpD,OAAO8B,YAAYiO,KAAK,IAGhD5a,EAAE4M,GAAG+N,EAAe/P,KAAK,MAAQ5K,EAAE4M,GAAG+N,EAAe/P,KAAK,OAC5DqD,EAAK9D,mBAAmB1J,KAAKyL,aAAWC,uB,MAZ1C8B,EAAK9D,mBAAmB1J,KAAKyL,aAAWC,wB,OAiBxC8B,EAAKpD,OAAOQ,eAAe,QAC7B,0BAAqB4C,EAAKpD,OAAQoD,EAAK1E,KAAKpI,SAGnB,QAAZ,EAAI,OAAJ,QAAI,IAAJ4H,OAAI,EAAJA,EAAM8R,cAAM,WAEzB7Z,OAAO6Z,OAAO5M,G,CAElB,CAoUF,OAhcyCe,OAazB8L,aAAd,SAAyBhS,EAAgBC,GACvC,YADuC,QAAAA,MAChC,IAAI+R,EAAYhS,EAAQC,EACjC,EAOc+R,mBAAd,SAA+BC,EAAoBhS,QAAA,QAAAA,MACjD,IAAMqE,EAASpH,MAAIgV,OAAOD,GAE1B,IAAKvc,MAAMC,QAAQ2O,GACjB,MAAM,IAAIhN,MAAM,8CAGlB,OAAO,KAAK6a,gBAAgB7N,EAAQrE,EACtC,EASc+R,sBAAd,SAAkCC,EAAoBhS,GACpD,YADoD,QAAAA,MAC7C+R,EAAYI,iBAAiBH,EAAYhS,EAClD,EAOc+R,kBAAd,SAA8B1N,EAAuBrE,GAGnD,QAHmD,QAAAA,MAG7B,IAAlBqE,EAAOjM,QAAkC,IAAlBiM,EAAOjM,OAChC,MAAM,IAAIf,MACR,+FAIE,QAAwDgN,EAAM,GAA7DrD,EAAK,KAAE0Q,EAAQ,KAAEpR,EAAQ,KAAEC,EAAE,KAAE5H,EAAK,KAAE6H,EAAI,KAAEvJ,EAAC,KAAEiI,EAAC,KAAEpD,EAAC,KAI1D,OAFA,6BAAwB,CAAEkF,MAAK,EAAE0Q,SAAQ,EAAEpR,SAAQ,EAAE3H,MAAK,EAAE1B,EAAC,EAAEiI,EAAC,EAAEpD,EAAC,IAE5D,IAAIiW,EACT,CACE/Q,MAAK,EACL0Q,SAAQ,EACRpR,SAAQ,EACRC,GAAE,EACF5H,MAAK,EACL6H,KAAI,EACJvJ,EAAC,EACDiI,EAAC,EACDpD,EAAC,GAEHkE,EAEJ,EAgEA+R,gBAAA,WACE,MAAO,EACL,wBAAmB,KAAK/Q,QACxB,wBAAmB,KAAK0Q,WACxB,wBAAmB,KAAKpR,eACZrK,IAAZ,KAAKsK,GAAmB,KAAKA,GAAG/C,IAAMJ,EAAOS,KAAK,KAClD,wBAAmB,KAAKlF,OACxB,KAAK6H,UACMvK,IAAX,KAAKgB,GAAkB,wBAAmB,KAAKA,GAAKmG,EAAOS,KAAK,SACrD5H,IAAX,KAAKiJ,GAAkB,wBAAmB,KAAKA,GAAK9B,EAAOS,KAAK,SACrD5H,IAAX,KAAK6F,GAAkB,wBAAmB,KAAKA,GAAKsB,EAAOS,KAAK,IAEpE,EAWAkU,sBAAA,WACE,OAAO9U,MAAIuS,OAAO,KAAK4C,MACzB,EAEQL,8BAAR,WACE,IAAM1N,EAAS,EACb,wBAAmB,KAAKrD,QACxB,wBAAmB,KAAK0Q,WACxB,wBAAmB,KAAKpR,eACZrK,IAAZ,KAAKsK,GAAmB,KAAKA,GAAG/C,IAAMJ,EAAOS,KAAK,KAClD,wBAAmB,KAAKlF,OACxB,KAAK6H,MASP,OANI,KAAK0C,SAASC,aAAWC,0BAC3BiB,EAAO3M,MAAK,cAAS,KAAKoK,OAAO8B,cACjCS,EAAO3M,MAAK,kBAAY,cAAS,KACjC2M,EAAO3M,MAAK,kBAAY,cAAS,MAG5B2M,CACT,EAmBA0N,6BAAA,SAAiBM,QAAA,QAAAA,MACf,IAAMld,EAAU,KAAKmd,oBACrB,OAAID,GACK,aAAQld,GAERA,CAEX,EAKA4c,uBAAA,WACE,OAAI,KAAKQ,MAAMrS,SAAW,KAAKqS,MAAMrS,QAAQ8D,WAAa,KAAKlC,OAAOkC,WAC7D,KAAKuO,MAAMrS,QAAQvH,OAGxBV,OAAOua,SAAS,QAClB,KAAKD,MAAMrS,QAAU,CACnBvH,MAAOsM,YAAMrD,WAAU,WACvBoC,SAAU,KAAKlC,OAAOkC,aAInBiB,YAAMrD,WAAU,WACzB,EAKAmQ,2BAAA,WACE,OAAO,KAAKzR,SAASqR,IAAI,KAAKD,UAAUe,IAAI,KAAK9Z,MACnD,EAQAoZ,iBAAA,WAgBE,OAAI9Z,OAAOua,SAAS,OACb,KAAKD,MAAMtS,OACd,KAAKsS,MAAMtS,MAAO,aAAQ,KAAKmS,QAE1B,KAAKG,MAAMtS,OAGb,aAAQ,KAAKmS,MACtB,EAKAL,wCAAA,WACE,IAAK,KAAKtQ,WAAY,CACpB,IAAMjJ,EAAM,KAAKwK,UAAU,kCAC3B,MAAM,IAAI3L,MAAMmB,E,CAElB,IAAMrD,EAAU,KAAKmd,oBACrB,OAAO,aAAQnd,EACjB,EAKA4c,+BAAA,W,MACQ1O,EAAU,KAAKqP,8BAIrB,GAAI,KAAK5Q,OAAOE,YAAY,eAAsB,QAAN,OAAKlG,SAAC,eAAE0F,GAAG2B,YAAU,CAC/D,IAAM3K,EAAM,KAAKwK,UACf,gFAEF,MAAM,IAAI3L,MAAMmB,E,CAGZ,MAAc,KAAZvB,EAAC,IAAEiI,EAAC,IAAEpD,EAAC,IACf,IACE,OAAO,eACLuH,EACApM,GACA,wBAAmBiI,IACnB,wBAAmBpD,GACnB,KAAKoH,SAASC,aAAWC,wBAA0B,KAAKtB,OAAO8B,iBAAc3N,E,CAE/E,MAAOyD,GACDlB,EAAM,KAAKwK,UAAU,qBAC3B,MAAM,IAAI3L,MAAMmB,E,CAEpB,EAKUuZ,8BAAV,SAA4B9a,EAAWiI,EAAWpD,GAChD,IAAM6W,EAAM,IAAI1V,KAAGhG,GACf,KAAKiM,SAASC,aAAWC,yBAC3BuP,EAAI/P,KAAK,KAAKd,OAAO8B,YAAYiO,KAAK,GAAGhQ,KAAK,IAGhD,IAAM7B,EAAI,OAAQ,KAAKW,WAAS,CAAEmB,OAAQ,KAAKA,SAE/C,OAAOiQ,EAAYa,WACjB,CACE5R,MAAO,KAAKA,MACZ0Q,SAAU,KAAKA,SACfpR,SAAU,KAAKA,SACfC,GAAI,KAAKA,GACT5H,MAAO,KAAKA,MACZ6H,KAAM,KAAKA,KACXvJ,EAAG0b,EACHzT,EAAG,IAAIjC,KAAGiC,GACVpD,EAAG,IAAImB,KAAGnB,IAEZkE,EAEJ,EAKA+R,mBAAA,WACE,MAAO,CACL/Q,OAAO,aAAQ,KAAKA,OACpB0Q,UAAU,aAAQ,KAAKA,UACvBpR,UAAU,aAAQ,KAAKA,UACvBC,QAAgBtK,IAAZ,KAAKsK,GAAmB,KAAKA,GAAGlK,gBAAaJ,EACjD0C,OAAO,aAAQ,KAAKA,OACpB6H,KAAM,KAAO,KAAKA,KAAKnK,SAAS,OAChCY,OAAchB,IAAX,KAAKgB,GAAkB,aAAQ,KAAKA,QAAKhB,EAC5CiJ,OAAcjJ,IAAX,KAAKiJ,GAAkB,aAAQ,KAAKA,QAAKjJ,EAC5C6F,OAAc7F,IAAX,KAAK6F,GAAkB,aAAQ,KAAKA,QAAK7F,EAEhD,EAKQ8b,yBAAR,SAAqB9a,EAAQ6K,GAE3B,QAAU7L,IAANgB,GAGEA,EAAE4b,IAAI,MAAQ5b,EAAE6b,IAAI,MAAQ7b,EAAE6b,IAAI,IACpC,MAAM,IAAIzb,MACR,2FAAoFJ,IAK1F,IAAI2M,EAEJ,QACQ3N,IAANgB,KACE6K,GAAUA,EAAOE,YAAY,qBAC9B/K,EAAE6b,IAAI,MACN7b,EAAE6b,IAAI,IAEP,GAAIhR,EAAQ,CACV,IAAM8P,EAAiB9P,EAAO8B,YAAYiO,KAAK,GAG/C,KAFuB5a,EAAE4M,GAAG+N,EAAe/P,KAAK,MAAQ5K,EAAE4M,GAAG+N,EAAe/P,KAAK,MAG/E,MAAM,IAAIxK,MACR,sCAA+BJ,EAAC,yBAAiB6K,EAAO8B,YAAW,kF,KAGlE,CAEL,IAAImP,OAAM,EAERA,EADE9b,EAAE+b,KAAK,IAAIC,SACJ,GAEA,GAGXrP,EAAY3M,EAAE+b,KAAKD,GAAQG,KAAK,E,CAGpC,OAAO,KAAKC,WAAWrR,EAAQ8B,EACjC,EAKQmO,wCAAR,WACE,OAAO,KAAKjQ,OAAOE,YAAY,iBACjC,EAKQ+P,sCAAR,WACE,IAAK,KAAKtQ,WAAY,CACpB,IAAMjJ,EAAM,KAAKwK,UAAU,kCAC3B,MAAM,IAAI3L,MAAMmB,E,CAElB,IAAM4a,EAAuB,KAAKtR,OAAOE,YAAY,kBAI/C/K,EAAI,KAAKA,EAET2a,EAAiB,KAAK9P,OAAO8B,YAAYiO,KAAK,GAKpD,OAFE5a,EAAE4M,GAAG+N,EAAe/P,KAAK,MAAQ5K,EAAE4M,GAAG+N,EAAe/P,KAAK,OAElBuR,CAC5C,EAKOrB,qBAAP,WACE,IAAIsB,EAAW,KAAKC,yBAEpB,OADAD,GAAY,oBAAa,KAAK3B,SAEhC,EAQUK,sBAAV,SAAoBvZ,GAClB,MAAO,UAAGA,EAAG,aAAK,KAAK6a,WAAU,IACnC,EACF,EAhcA,CAAyCE,mB,4DCnBzC,IACWC,IAoBT,SAASC,GACXA,EAAMC,QAAU,QAqBhB,IAAIC,EAnBJ,WAGC,IAFA,IAAIC,EAAI,EAAGC,EAAQ,IAAIpe,MAAM,KAErB2G,EAAG,EAAQ,KAALA,IAAYA,EASzBwX,EAAQ,GADRA,EAAQ,GADRA,EAAQ,GADRA,EAAQ,GADRA,EAAQ,GADRA,EAAQ,GADRA,EAAQ,GADRA,EAAQ,GADRA,EAAIxX,IACW,UAAawX,IAAM,EAAOA,IAAM,IAChC,UAAaA,IAAM,EAAOA,IAAM,IAChC,UAAaA,IAAM,EAAOA,IAAM,IAChC,UAAaA,IAAM,EAAOA,IAAM,IAChC,UAAaA,IAAM,EAAOA,IAAM,IAChC,UAAaA,IAAM,EAAOA,IAAM,IAChC,UAAaA,IAAM,EAAOA,IAAM,IAChC,UAAaA,IAAM,EAAOA,IAAM,EAC/CC,EAAMzX,GAAKwX,EAGZ,MAA6B,qBAAfE,WAA6B,IAAIA,WAAWD,GAASA,CACpE,CAESE,GAaLC,EAZJ,SAA4BC,GAC3B,IAAIL,EAAI,EAAG3c,EAAI,EAAGmF,EAAI,EAAGyX,EAA8B,qBAAfC,WAA6B,IAAIA,WAAW,MAAQ,IAAIre,MAAM,MAEtG,IAAI2G,EAAI,EAAQ,KAALA,IAAYA,EAAGyX,EAAMzX,GAAK6X,EAAE7X,GACvC,IAAIA,EAAI,EAAQ,KAALA,IAAYA,EAEtB,IADAnF,EAAIgd,EAAE7X,GACFwX,EAAI,IAAMxX,EAAGwX,EAAI,KAAMA,GAAK,IAAK3c,EAAI4c,EAAMD,GAAM3c,IAAM,EAAKgd,EAAM,IAAJhd,GAEnE,IAAIid,EAAM,GACV,IAAI9X,EAAI,EAAQ,IAALA,IAAWA,EAAG8X,EAAI9X,EAAI,GAA2B,qBAAf0X,WAA6BD,EAAMM,SAAa,IAAJ/X,EAAa,IAAJA,EAAU,KAAOyX,EAAM3X,MAAU,IAAJE,EAAa,IAAJA,EAAU,KAClJ,OAAO8X,CACR,CACSE,CAAmBT,GACxBU,EAAKL,EAAG,GAAKM,EAAKN,EAAG,GAAKO,EAAKP,EAAG,GAAKQ,EAAKR,EAAG,GAAKS,EAAKT,EAAG,GAC5DU,EAAKV,EAAG,GAAKW,EAAKX,EAAG,GAAKY,EAAKZ,EAAG,GAAKa,EAAKb,EAAG,GAAKc,EAAKd,EAAG,GAC5De,EAAKf,EAAG,IAAKgB,EAAKhB,EAAG,IAAKiB,EAAKjB,EAAG,IAAKkB,EAAKlB,EAAG,IAAKmB,EAAKnB,EAAG,IA6ChEP,EAAMI,MAAQF,EAEdF,EAAM2B,KA9CN,SAAoBA,EAAMC,GAEzB,IADA,IAAIC,GAAY,EAARD,EACAne,EAAI,EAAGqe,EAAIH,EAAKhd,OAAQlB,EAAIqe,GAAID,EAAKA,IAAI,EAAK3B,EAA4B,KAAxB2B,EAAEF,EAAKI,WAAWte,OAC5E,OAAQoe,CACT,EA4CA7B,EAAMjW,IA1CN,SAAmBiY,EAAGJ,GAErB,IADA,IAAIC,GAAY,EAARD,EAAWE,EAAIE,EAAErd,OAAS,GAAIlB,EAAI,EACpCA,EAAIqe,GAAID,EACbH,EAAGM,EAAEve,KAAY,IAAJoe,GACbJ,EAAGO,EAAEve,KAASoe,GAAK,EAAK,KACxBL,EAAGQ,EAAEve,KAASoe,GAAK,GAAM,KACzBN,EAAGS,EAAEve,KAAQoe,IAAM,IACnBP,EAAGU,EAAEve,MAAQ4d,EAAGW,EAAEve,MAAQ2d,EAAGY,EAAEve,MAAQ0d,EAAGa,EAAEve,MAC5Cyd,EAAGc,EAAEve,MAAQwd,EAAGe,EAAEve,MAAQud,EAAGgB,EAAEve,MAAQsd,EAAGiB,EAAEve,MAC5Cqd,EAAGkB,EAAEve,MAAQod,EAAGmB,EAAEve,MAAQmd,EAAGoB,EAAEve,MAAQyc,EAAG8B,EAAEve,MAE7C,IADAqe,GAAK,GACCre,EAAIqe,GAAGD,EAAKA,IAAI,EAAK3B,EAAc,KAAV2B,EAAEG,EAAEve,OACnC,OAAQoe,CACT,EA+BA7B,EAAMhV,IA7BN,SAAmBA,EAAK4W,GAEvB,IADA,IAAIC,GAAY,EAARD,EACAne,EAAI,EAAGqe,EAAI9W,EAAIrG,OAAQwb,EAAI,EAAG8B,EAAI,EAAGxe,EAAIqe,IAChD3B,EAAInV,EAAI+W,WAAWte,MACZ,IACNoe,EAAKA,IAAI,EAAK3B,EAAS,KAAL2B,EAAE1B,IACXA,EAAI,KAEb0B,GADAA,EAAKA,IAAI,EAAK3B,EAA2B,KAAvB2B,GAAK,IAAM1B,GAAG,EAAG,SAC1B,EAAKD,EAAsB,KAAlB2B,GAAK,IAAO,GAAF1B,KACnBA,GAAK,OAAUA,EAAI,OAC5BA,EAAa,IAAN,KAAFA,GAAY8B,EAAwB,KAApBjX,EAAI+W,WAAWte,KAIpCoe,GADAA,GADAA,GADAA,EAAKA,IAAI,EAAK3B,EAA0B,KAAtB2B,GAAK,IAAM1B,GAAG,EAAG,QAC1B,EAAKD,EAA2B,KAAvB2B,GAAK,IAAM1B,GAAG,EAAG,SAC1B,EAAKD,EAAsC,KAAlC2B,GAAK,IAAMI,GAAG,EAAG,IAAQ,EAAF9B,IAAM,QACtC,EAAKD,EAAsB,KAAlB2B,GAAK,IAAO,GAAFI,MAI5BJ,GADAA,GADAA,EAAKA,IAAI,EAAK3B,EAA4B,KAAxB2B,GAAK,IAAM1B,GAAG,GAAI,SAC3B,EAAKD,EAA2B,KAAvB2B,GAAK,IAAM1B,GAAG,EAAG,SAC1B,EAAKD,EAAsB,KAAlB2B,GAAK,IAAO,GAAF1B,KAG9B,OAAQ0B,CACT,CAQA,EA3GiC,qBAAtBK,kBAERnC,EAAQte,GAWTse,EAAgB,CAAC,E,ohBCnBnB,iBACA,aACA,aACA,aACA,aACA,aAKA,SAAgBoC,EAAsBxQ,G,QAC9ByQ,EAAa,CACjB,EAAK,UACL,EAAK,UACL,EAAK,UACL,GAAM,QACN,EAAK,SACL,SAAY,WAERC,EAAc,CAClBC,QAAO,UACPC,QAAO,UACPC,QAAO,UACPC,MAAK,UACLC,OAAM,UACNC,QAAO,WAET,GAAIhR,E,IACF,IAAoB,WAAY,8BAAE,CAA7B,IAAMrB,EAAK,QACRsS,EAAOtS,EAAMxO,KACnBsgB,EAAM9R,EAAMJ,QAAQtN,YAAcggB,EAClCP,EAAOO,GAAQtS,C,mGAKnB,OADA+R,EAAc,MAAID,EACXC,CACT,CA3BA5gB,0BAiCaA,SAAqB0gB,G,44eC5CrB1gB,YAAY,CACvB,CAAC,aAAcF,EAAQ,OACvB,CAAC,YAAaA,EAAQ,OACtB,CAAC,MAAOA,EAAQ,OAChB,CAAC,mBAAoBA,EAAQ,OAC7B,CAAC,iBAAkBA,EAAQ,OAC3B,CAAC,YAAaA,EAAQ,OACtB,CAAC,iBAAkBA,EAAQ,OAC3B,CAAC,aAAcA,EAAQ,OACvB,CAAC,WAAYA,EAAQ,OACrB,CAAC,cAAeA,EAAQ,OACxB,CAAC,SAAUA,EAAQ,OACnB,CAAC,SAAUA,EAAQ,OACnB,CAAC,WAAYA,EAAQ,OACrB,CAAC,eAAgBA,EAAQ,OACzB,CAAC,cAAeA,EAAQ,OACxB,CAAC,wBAAyBA,EAAQ,OAClC,CAAC,QAASA,EAAQ,O,0ufCfPE,OAAiB,CAC5B,KAAMF,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,MACd,KAAMA,EAAQ,M,krkoBCxBhB,cAYA,UACA,UAUA,UAGMshB,EAA0BlZ,EAAOS,KADd,GACoCxH,SAAS,IAAI2I,SAAS,EAAG,KAAM,OAQ5F,cA0IE,WAAmBe,EAAiCC,QAAA,QAAAA,MAApD,I,IAAA,Q,EACEiF,mBAAWlF,GAAM,CAAEU,KApJE,IAoJwBT,IAAK,MA7H1CkF,iBAAmB,SA8HnB,MAAkCnF,EAAM,QAA/BmL,EAAyBnL,EAAM,WAAnB2R,EAAa3R,EAAM,SAMhD,GAJAmF,EAAKpD,OAASoD,EAAKiO,WAAWnT,EAAK8B,OAAQ6B,GAC3CuB,EAAKvB,QAAUuB,EAAKpD,OAAO8B,aAGtBsB,EAAKpD,OAAOQ,eAAe,MAC9B,MAAM,IAAIjL,MAAM,kCAElB6N,EAAK9D,mBAAqB8D,EAAK9D,mBAAmBtJ,OAAO,CAAC,KAAM,OAGhE,IAAMye,EAAiBC,cAAYC,kBAA4B,OAAVvL,QAAU,IAAVA,IAAc,IAYnE,GAXAhG,EAAKgG,WAAaqL,EAAerL,WACjChG,EAAKiG,eAAiBoL,EAAepL,eAErCqL,cAAYE,iBAAiBxR,EAAKgG,YAElChG,EAAKwM,SAAW,IAAIzU,MAAG,cAAsB,KAAbyU,EAAkB,KAAOA,IAEzDxM,EAAKjE,gCAAgC,CACnCyQ,SAAUxM,EAAKwM,WAGbxM,EAAKwM,SAASC,IAAIzM,EAAK5E,UAAUkB,GAAGvE,eAAc,CACpD,IAAMzE,EAAM0M,EAAKlC,UAAU,iDAC3B,MAAM,IAAI3L,MAAMmB,E,CAElB,GAAI0M,EAAKjO,IAAMiO,EAAKjO,EAAE6b,IAAI,KAAO5N,EAAKjO,EAAE6b,IAAI,GAAI,CACxCta,EAAM0M,EAAKlC,UAAU,2DAC3B,MAAM,IAAI3L,MAAMmB,E,CAGlB,GAAI0M,EAAKpD,OAAOE,YAAY,eAAsB,QAAN,IAAKlG,SAAC,eAAE0F,GAAG2B,YAAU,CACzD3K,EAAM0M,EAAKlC,UACf,gFAEF,MAAM,IAAI3L,MAAMmB,E,QAGd0M,EAAKpD,OAAOQ,eAAe,QAC7B,0BAAqB4C,EAAKpD,OAAQoD,EAAK1E,KAAKpI,SAEnB,QAAZ,EAAI,OAAJ,QAAI,IAAJ4H,OAAI,EAAJA,EAAM8R,cAAM,WAEzB7Z,OAAO6Z,OAAO5M,G,CAElB,CA6NF,OAxZ0De,OAqBxDhO,sBAAI0e,sBAAO,C,IAAX,WACE,OAAO,KAAKzX,CACd,E,gCAOAjH,sBAAI0e,sBAAO,C,IAAX,WACE,OAAO,KAAK7a,CACd,E,gCAOA7D,sBAAI0e,sBAAO,C,IAAX,WACE,OAAO,KAAK1f,CACd,E,gCAYc0f,aAAd,SAAyB5W,EAAiCC,GACxD,YADwD,QAAAA,MACjD,IAAI2W,EAA6B5W,EAAQC,EAClD,EAQc2W,mBAAd,SAA+B3E,EAAoBhS,GACjD,QADiD,QAAAA,OAC5CgS,EAAW9V,MAAM,EAAG,GAAG0a,OAAON,GACjC,MAAM,IAAIjf,MACR,6FA3EiB,EA2EqF,uBAAe2a,EAClH9V,MAAM,EAAG,GACT7F,SAAS,SAIhB,IAAMgO,EAASpH,MAAIgV,OAAOD,EAAW9V,MAAM,IAE3C,IAAKzG,MAAMC,QAAQ2O,GACjB,MAAM,IAAIhN,MAAM,8CAGlB,OAAOsf,EAA6BzE,gBAAgB7N,EAAerE,EACrE,EAWc2W,sBAAd,SAAkC3E,EAAoBhS,GACpD,YADoD,QAAAA,MAC7C2W,EAA6BxE,iBAAiBH,EAAYhS,EACnE,EAQc2W,kBAAd,SAA8BtS,EAAsCrE,GAClE,QADkE,QAAAA,MAC5C,IAAlBqE,EAAOjM,QAAkC,KAAlBiM,EAAOjM,OAChC,MAAM,IAAIf,MACR,yGAIE,QAA6EgN,EAAM,IAAlFV,EAAO,KAAE3C,EAAK,KAAE0Q,EAAQ,KAAEpR,EAAQ,KAAEC,EAAE,KAAE5H,EAAK,KAAE6H,EAAI,KAAE0K,EAAU,KAAEjU,EAAC,KAAEiI,EAAC,KAAEpD,EAAC,OAE/E,6BAAwB,CAAEkF,MAAK,EAAE0Q,SAAQ,EAAEpR,SAAQ,EAAE3H,MAAK,EAAE1B,EAAC,EAAEiI,EAAC,EAAEpD,EAAC,IAInE,OAAO,IAAI6a,EACT,CACEhT,QAAS,IAAI1G,KAAG0G,GAChB3C,MAAK,EACL0Q,SAAQ,EACRpR,SAAQ,EACRC,GAAE,EACF5H,MAAK,EACL6H,KAAI,EACJ0K,WAAsB,OAAVA,QAAU,IAAVA,IAXoB,GAYhCjU,OAAShB,IAANgB,EAAkB,IAAIgG,KAAGhG,QAAKhB,EACjCiJ,EAAC,EACDpD,EAAC,GAEHkE,EAEJ,EA+DA2W,uBAAA,WACE,GAAI,KAAKpE,MAAMrS,SAAW,KAAKqS,MAAMrS,QAAQ8D,WAAa,KAAKlC,OAAOkC,WACpE,OAAO,KAAKuO,MAAMrS,QAAQvH,MAG5B,IAAM0J,EAAO4C,YAAMrD,WAAU,WAU7B,OATAS,EAAKH,MAAMsU,cAAYK,kBAAkB,KAAK3L,WAAY,KAAKpJ,SAE3D7J,OAAOua,SAAS,QAClB,KAAKD,MAAMrS,QAAU,CACnBvH,MAAO0J,EACP2B,SAAU,KAAKlC,OAAOkC,aAInB3B,CACT,EAKAsU,2BAAA,WACE,OAAO,KAAKrW,SAASqR,IAAI,KAAKD,UAAUe,IAAI,KAAK9Z,MACnD,EAeAge,gBAAA,WACE,MAAO,EACL,wBAAmB,KAAKhT,UACxB,wBAAmB,KAAK3C,QACxB,wBAAmB,KAAK0Q,WACxB,wBAAmB,KAAKpR,eACZrK,IAAZ,KAAKsK,GAAmB,KAAKA,GAAG/C,IAAMJ,EAAOS,KAAK,KAClD,wBAAmB,KAAKlF,OACxB,KAAK6H,KACL,KAAK0K,gBACMjV,IAAX,KAAKgB,GAAkB,wBAAmB,KAAKA,GAAKmG,EAAOS,KAAK,SACrD5H,IAAX,KAAKiJ,GAAkB,wBAAmB,KAAKA,GAAK9B,EAAOS,KAAK,SACrD5H,IAAX,KAAK6F,GAAkB,wBAAmB,KAAKA,GAAKsB,EAAOS,KAAK,IAEpE,EAYA8Y,sBAAA,WACE,IAAM7d,EAAO,KAAKsZ,MAClB,OAAOhV,EAAOtF,OAAO,CAACwe,EAAyBrZ,MAAIuS,OAAO1W,IAC5D,EAeA6d,6BAAA,SAAiBtE,QAAA,QAAAA,MACf,IAAMvZ,EAAO,KAAKsZ,MAAMlW,MAAM,EAAG,GAC3B/G,EAAUiI,EAAOtF,OAAO,CAACwe,EAAyBrZ,MAAIuS,OAAO1W,KACnE,OAAIuZ,GACK,eAAUld,GAEVA,CAEX,EAQOwhB,iBAAP,WACE,IAAK,KAAKlV,WAAY,CACpB,IAAMjJ,EAAM,KAAKwK,UAAU,wDAC3B,MAAM,IAAI3L,MAAMmB,E,CAGlB,OAAIP,OAAOua,SAAS,OACb,KAAKD,MAAMtS,OACd,KAAKsS,MAAMtS,MAAO,eAAU,KAAK6W,cAE5B,KAAKvE,MAAMtS,OAGb,eAAU,KAAK6W,YACxB,EAKOH,wCAAP,WACE,OAAO,KAAKrT,kBACd,EAKOqT,+BAAP,W,MACE,IAAK,KAAKlV,WAAY,CACpB,IAAMjJ,EAAM,KAAKwK,UAAU,wDAC3B,MAAM,IAAI3L,MAAMmB,E,CAGlB,IAAM6K,EAAU,KAAKqP,8BAIrB,GAAI,KAAK5Q,OAAOE,YAAY,eAAsB,QAAN,OAAKlG,SAAC,eAAE0F,GAAG2B,YAAU,CACzD3K,EAAM,KAAKwK,UACf,gFAEF,MAAM,IAAI3L,MAAMmB,E,CAGZ,MAAoB,KAAlBue,EAAO,UAAE7X,EAAC,IAAEpD,EAAC,IACrB,IACE,OAAO,eACLuH,EACA0T,EAASlV,KAAK,KACd,wBAAmB3C,IACnB,wBAAmBpD,G,CAErB,MAAOpC,GACDlB,EAAM,KAAKwK,UAAU,qBAC3B,MAAM,IAAI3L,MAAMmB,E,CAEpB,EAEAme,8BAAA,SAAkB1f,EAAWiI,EAAWpD,GACtC,IAAMkE,EAAI,OAAQ,KAAKW,WAAS,CAAEmB,OAAQ,KAAKA,SAE/C,OAAO6U,EAA6B/D,WAClC,CACEjP,QAAS,KAAKA,QACd3C,MAAO,KAAKA,MACZ0Q,SAAU,KAAKA,SACfpR,SAAU,KAAKA,SACfC,GAAI,KAAKA,GACT5H,MAAO,KAAKA,MACZ6H,KAAM,KAAKA,KACX0K,WAAY,KAAKA,WACjBjU,EAAG,IAAIgG,KAAGhG,EAAI,IACdiI,EAAG,IAAIjC,KAAGiC,GACVpD,EAAG,IAAImB,KAAGnB,IAEZkE,EAEJ,EAKA2W,mBAAA,WACE,IAAM5K,EAAiByK,cAAYQ,kBAAkB,KAAK9L,YAE1D,MAAO,CACLvH,SAAS,aAAQ,KAAKA,SACtB3C,OAAO,aAAQ,KAAKA,OACpB0Q,UAAU,aAAQ,KAAKA,UACvBpR,UAAU,aAAQ,KAAKA,UACvBC,QAAgBtK,IAAZ,KAAKsK,GAAmB,KAAKA,GAAGlK,gBAAaJ,EACjD0C,OAAO,aAAQ,KAAKA,OACpB6H,KAAM,KAAO,KAAKA,KAAKnK,SAAS,OAChC6U,WAAYa,EACZ9U,OAAchB,IAAX,KAAKgB,GAAkB,aAAQ,KAAKA,QAAKhB,EAC5CiJ,OAAcjJ,IAAX,KAAKiJ,GAAkB,aAAQ,KAAKA,QAAKjJ,EAC5C6F,OAAc7F,IAAX,KAAK6F,GAAkB,aAAQ,KAAKA,QAAK7F,EAEhD,EAKO0gB,qBAAP,W,QACMtD,EAAW,KAAKC,yBAGpB,OADAD,GAAY,oBAAa,KAAK3B,SAAQ,4BAA2C,QAAvB,EAAe,QAAf,OAAKxG,kBAAU,eAAE9S,cAAM,QAAI,EAEvF,EAQUue,sBAAV,SAAoBne,GAClB,MAAO,UAAGA,EAAG,aAAK,KAAK6a,WAAU,IACnC,EACF,EAxZA,CAA0DE,mB,uIClC1D,cAQA,UAGA,aAEE,aAAuB,CAuGzB,OA/FgB0D,aAAd,SACElX,EACAY,GAEA,QAFA,QAAAA,MAEM,SAAUZ,QAA2B9J,IAAhB8J,EAAOU,KAG3B,CACL,IAAMyW,EAAS,IAAIja,MAAG,cAAS8C,EAAOU,OAAOpC,WAC7C,GAAe,IAAX6Y,EACF,OAAOC,cAAYvE,WAAmB7S,EAAQY,GACzC,GAAe,IAAXuW,EACT,OAAOC,+BAA6BvE,WAAoC7S,EAAQY,GAC3E,GAAe,IAAXuW,EACT,OAAOC,8BAA4BvE,WAAmC7S,EAAQY,GAE9E,MAAM,IAAItJ,MAAM,qCAA8B6f,EAAM,kB,CAVtD,OAAOC,cAAYvE,WAAmB7S,EAAQY,EAalD,EAQcsW,qBAAd,SAAiCzW,EAAcG,GAC7C,QAD6C,QAAAA,MACzCH,EAAK,IAAM,IAAM,CAEnB,IAAI4W,OAAG,EACP,OAAQ5W,EAAK,IACX,KAAK,EACH4W,EAAM,KACN,MACF,KAAK,EACHA,EAAM,KACN,MACF,QACE,MAAM,IAAI/f,MAAM,mCAA4BmJ,EAAK,GAAE,aAEvD,OAAY,OAAR4W,EACKD,8BAA4BhF,iBAAiB3R,EAAMG,GAGnDwW,+BAA6BhF,iBAAiB3R,EAAMG,E,CAG7D,OAAOwW,cAAYhF,iBAAiB3R,EAAMG,EAE9C,EAWcsW,oBAAd,SAAgCzW,EAAyBG,GACvD,QADuD,QAAAA,MACnDvD,EAAOQ,SAAS4C,GAClB,OAAO,KAAK6W,mBAAmB7W,EAAMG,GAChC,GAAIlL,MAAMC,QAAQ8K,GAEvB,OAAO2W,cAAYjF,gBAAgB1R,EAAMG,GAEzC,MAAM,IAAItJ,MAAM,gDAEpB,EASc4f,sBAAd,SAAkCK,EAA2BC,GAG3D,QAHgC,QAAAD,KACG,GAAjBA,GAAuBA,GAAiB,KAAQA,GAAiB,IAGjF,OAAOH,cAGT,OAAQG,GACN,KAAK,EACH,OAAOH,+BACT,KAAK,EACH,OAAOA,8BACT,QACE,MAAM,IAAI9f,MAAM,mCAA4BigB,EAAa,aAE/D,EACF,EAzGA,G,+oCCXA,cAYA,UACA,UASA,UAGMhB,EAA0BlZ,EAAOS,KADd,GACoCxH,SAAS,IAAI2I,SAAS,EAAG,KAAM,OAQ5F,cAuJE,WAAmBe,EAAgCC,QAAA,QAAAA,MAAnD,I,IAAA,Q,EACEiF,mBAAWlF,GAAM,CAAEU,KAjKE,IAiKwBT,IAAK,MAzI1CkF,iBAAmB,SA0InB,MAA4DnF,EAAM,QAAzDmL,EAAmDnL,EAAM,WAA7CyX,EAAuCzX,EAAM,aAA/B0X,EAAyB1X,EAAM,qBAK1E,GAHAmF,EAAKpD,OAASoD,EAAKiO,WAAWnT,EAAK8B,OAAQ6B,GAC3CuB,EAAKvB,QAAUuB,EAAKpD,OAAO8B,aAEtBsB,EAAKpD,OAAOQ,eAAe,MAC9B,MAAM,IAAIjL,MAAM,kCAElB6N,EAAK9D,mBAAqB8D,EAAK9D,mBAAmBtJ,OAAO,CAAC,KAAM,KAAM,OAGtE,IAAMye,EAAiBC,cAAYC,kBAA4B,OAAVvL,QAAU,IAAVA,IAAc,IAgBnE,GAfAhG,EAAKgG,WAAaqL,EAAerL,WACjChG,EAAKiG,eAAiBoL,EAAepL,eAErCqL,cAAYE,iBAAiBxR,EAAKgG,YAElChG,EAAKsS,aAAe,IAAIva,MAAG,cAA0B,KAAjBua,EAAsB,KAAOA,IACjEtS,EAAKuS,qBAAuB,IAAIxa,MAC9B,cAAkC,KAAzBwa,EAA8B,KAAOA,IAGhDvS,EAAKjE,gCAAgC,CACnCuW,aAActS,EAAKsS,aACnBC,qBAAsBvS,EAAKuS,uBAGzBvS,EAAK5E,SAASqR,IAAIzM,EAAKsS,cAAchW,GAAGvE,eAAc,CACxD,IAAMzE,EAAM0M,EAAKlC,UAAU,+DAC3B,MAAM,IAAI3L,MAAMmB,E,CAGlB,GAAI0M,EAAKsS,aAAaE,GAAGxS,EAAKuS,sBAAuB,CAC7Cjf,EAAM0M,EAAKlC,UACf,mGAEF,MAAM,IAAI3L,MAAMmB,E,CAGlB,GAAI0M,EAAKjO,IAAMiO,EAAKjO,EAAE6b,IAAI,KAAO5N,EAAKjO,EAAE6b,IAAI,GAAI,CACxCta,EAAM0M,EAAKlC,UAAU,2DAC3B,MAAM,IAAI3L,MAAMmB,E,CAGlB,GAAI0M,EAAKpD,OAAOE,YAAY,eAAsB,QAAN,IAAKlG,SAAC,eAAE0F,GAAG2B,YAAU,CACzD3K,EAAM0M,EAAKlC,UACf,gFAEF,MAAM,IAAI3L,MAAMmB,E,QAGd0M,EAAKpD,OAAOQ,eAAe,QAC7B,0BAAqB4C,EAAKpD,OAAQoD,EAAK1E,KAAKpI,SAGnB,QAAZ,EAAI,OAAJ,QAAI,IAAJ4H,OAAI,EAAJA,EAAM8R,cAAM,WAEzB7Z,OAAO6Z,OAAO5M,G,CAElB,CAkOF,OAtbyDe,OAsBvDhO,sBAAI0f,sBAAO,C,IAAX,WACE,OAAO,KAAKzY,CACd,E,gCAOAjH,sBAAI0f,sBAAO,C,IAAX,WACE,OAAO,KAAK7b,CACd,E,gCAOA7D,sBAAI0f,sBAAO,C,IAAX,WACE,OAAO,KAAK1gB,CACd,E,gCAYc0gB,aAAd,SAAyB5X,EAAgCC,GACvD,YADuD,QAAAA,MAChD,IAAI2X,EAA4B5X,EAAQC,EACjD,EAQc2X,mBAAd,SAA+B3F,EAAoBhS,GACjD,QADiD,QAAAA,OAC5CgS,EAAW9V,MAAM,EAAG,GAAG0a,OAAON,GACjC,MAAM,IAAIjf,MACR,6FA5EiB,EA4EqF,uBAAe2a,EAClH9V,MAAM,EAAG,GACT7F,SAAS,SAIhB,IAAMgO,EAASpH,MAAIgV,OAAOD,EAAW9V,MAAM,IAE3C,IAAKzG,MAAMC,QAAQ2O,GACjB,MAAM,IAAIhN,MAAM,8CAGlB,OAAOsgB,EAA4BzF,gBAAgB7N,EAAerE,EACpE,EAWc2X,sBAAd,SAAkC3F,EAAoBhS,GACpD,YADoD,QAAAA,MAC7C2X,EAA4BxF,iBAAiBH,EAAYhS,EAClE,EAQc2X,kBAAd,SAA8BtT,EAAqCrE,GACjE,QADiE,QAAAA,MAC3C,IAAlBqE,EAAOjM,QAAkC,KAAlBiM,EAAOjM,OAChC,MAAM,IAAIf,MACR,yGAIE,QAaFgN,EAAM,IAZRV,EAAO,KACP3C,EAAK,KACLyW,EAAoB,KACpBD,EAAY,KACZlX,EAAQ,KACRC,EAAE,KACF5H,EAAK,KACL6H,EAAI,KACJ0K,EAAU,KACVjU,EAAC,KACDiI,EAAC,MACDpD,EAAC,MAKH,OAFA,6BAAwB,CAAEkF,MAAK,EAAEyW,qBAAoB,EAAED,aAAY,EAAElX,SAAQ,EAAE3H,MAAK,EAAE1B,EAAC,EAAEiI,EAAC,EAAEpD,EAAC,IAEtF,IAAI6b,EACT,CACEhU,QAAS,IAAI1G,KAAG0G,GAChB3C,MAAK,EACLyW,qBAAoB,EACpBD,aAAY,EACZlX,SAAQ,EACRC,GAAE,EACF5H,MAAK,EACL6H,KAAI,EACJ0K,WAAsB,OAAVA,QAAU,IAAVA,IAAc,GAC1BjU,OAAShB,IAANgB,EAAkB,IAAIgG,KAAGhG,QAAKhB,EACjCiJ,EAAC,EACDpD,EAAC,GAEHkE,EAEJ,EA2EA2X,uBAAA,WACE,GAAI,KAAKpF,MAAMrS,SAAW,KAAKqS,MAAMrS,QAAQ8D,WAAa,KAAKlC,OAAOkC,WACpE,OAAO,KAAKuO,MAAMrS,QAAQvH,MAG5B,IAAM0J,EAAO4C,YAAMrD,WAAU,WAU7B,OATAS,EAAKH,MAAMsU,cAAYK,kBAAkB,KAAK3L,WAAY,KAAKpJ,SAE3D7J,OAAOua,SAAS,QAClB,KAAKD,MAAMrS,QAAU,CACnBvH,MAAO0J,EACP2B,SAAU,KAAKlC,OAAOkC,aAInB3B,CACT,EAMAsV,2BAAA,SAAeC,QAAA,QAAAA,MAAkB3a,KAAG,IAClC,IACMyU,EADqBzU,KAAG4a,IAAI,KAAKJ,qBAAsB,KAAKD,aAAaM,IAAIF,IAC/CnF,IAAImF,GACxC,OAAO,KAAKtX,SAASqR,IAAID,GAAUe,IAAI,KAAK9Z,MAC9C,EAeAgf,gBAAA,WACE,MAAO,EACL,wBAAmB,KAAKhU,UACxB,wBAAmB,KAAK3C,QACxB,wBAAmB,KAAKyW,uBACxB,wBAAmB,KAAKD,eACxB,wBAAmB,KAAKlX,eACZrK,IAAZ,KAAKsK,GAAmB,KAAKA,GAAG/C,IAAMJ,EAAOS,KAAK,KAClD,wBAAmB,KAAKlF,OACxB,KAAK6H,KACL,KAAK0K,gBACMjV,IAAX,KAAKgB,GAAkB,wBAAmB,KAAKA,GAAKmG,EAAOS,KAAK,SACrD5H,IAAX,KAAKiJ,GAAkB,wBAAmB,KAAKA,GAAK9B,EAAOS,KAAK,SACrD5H,IAAX,KAAK6F,GAAkB,wBAAmB,KAAKA,GAAKsB,EAAOS,KAAK,IAEpE,EAYA8Z,sBAAA,WACE,IAAM7e,EAAO,KAAKsZ,MAClB,OAAOhV,EAAOtF,OAAO,CAACwe,EAAyBrZ,MAAIuS,OAAO1W,IAC5D,EAeA6e,6BAAA,SAAiBtF,QAAA,QAAAA,MACf,IAAMvZ,EAAO,KAAKsZ,MAAMlW,MAAM,EAAG,GAC3B/G,EAAUiI,EAAOtF,OAAO,CAACwe,EAAyBrZ,MAAIuS,OAAO1W,KACnE,OAAIuZ,GACK,eAAUld,GAEVA,CAEX,EAQOwiB,iBAAP,WACE,IAAK,KAAKlW,WAAY,CACpB,IAAMjJ,EAAM,KAAKwK,UAAU,wDAC3B,MAAM,IAAI3L,MAAMmB,E,CAGlB,OAAIP,OAAOua,SAAS,OACb,KAAKD,MAAMtS,OACd,KAAKsS,MAAMtS,MAAO,eAAU,KAAK6W,cAE5B,KAAKvE,MAAMtS,OAGb,eAAU,KAAK6W,YACxB,EAKOa,wCAAP,WACE,OAAO,KAAKrU,kBACd,EAKOqU,+BAAP,W,MACE,IAAK,KAAKlW,WAAY,CACpB,IAAMjJ,EAAM,KAAKwK,UAAU,wDAC3B,MAAM,IAAI3L,MAAMmB,E,CAGlB,IAAM6K,EAAU,KAAKqP,8BAIrB,GAAI,KAAK5Q,OAAOE,YAAY,eAAsB,QAAN,OAAKlG,SAAC,eAAE0F,GAAG2B,YAAU,CACzD3K,EAAM,KAAKwK,UACf,gFAEF,MAAM,IAAI3L,MAAMmB,E,CAGZ,MAAc,KAAZvB,EAAC,IAAEiI,EAAC,IAAEpD,EAAC,IACf,IACE,OAAO,eACLuH,EACApM,EAAG4K,KAAK,KACR,wBAAmB3C,IACnB,wBAAmBpD,G,CAErB,MAAOpC,GACDlB,EAAM,KAAKwK,UAAU,qBAC3B,MAAM,IAAI3L,MAAMmB,E,CAEpB,EAEAmf,8BAAA,SAAkB1gB,EAAWiI,EAAWpD,GACtC,IAAMkE,EAAI,OAAQ,KAAKW,WAAS,CAAEmB,OAAQ,KAAKA,SAE/C,OAAO6V,EAA4B/E,WACjC,CACEjP,QAAS,KAAKA,QACd3C,MAAO,KAAKA,MACZyW,qBAAsB,KAAKA,qBAC3BD,aAAc,KAAKA,aACnBlX,SAAU,KAAKA,SACfC,GAAI,KAAKA,GACT5H,MAAO,KAAKA,MACZ6H,KAAM,KAAKA,KACX0K,WAAY,KAAKA,WACjBjU,EAAG,IAAIgG,KAAGhG,EAAI,IACdiI,EAAG,IAAIjC,KAAGiC,GACVpD,EAAG,IAAImB,KAAGnB,IAEZkE,EAEJ,EAKA2X,mBAAA,WACE,IAAM5L,EAAiByK,cAAYQ,kBAAkB,KAAK9L,YAE1D,MAAO,CACLvH,SAAS,aAAQ,KAAKA,SACtB3C,OAAO,aAAQ,KAAKA,OACpByW,sBAAsB,aAAQ,KAAKA,sBACnCD,cAAc,aAAQ,KAAKA,cAC3BlX,UAAU,aAAQ,KAAKA,UACvBC,QAAgBtK,IAAZ,KAAKsK,GAAmB,KAAKA,GAAGlK,gBAAaJ,EACjD0C,OAAO,aAAQ,KAAKA,OACpB6H,KAAM,KAAO,KAAKA,KAAKnK,SAAS,OAChC6U,WAAYa,EACZ9U,OAAchB,IAAX,KAAKgB,GAAkB,aAAQ,KAAKA,QAAKhB,EAC5CiJ,OAAcjJ,IAAX,KAAKiJ,GAAkB,aAAQ,KAAKA,QAAKjJ,EAC5C6F,OAAc7F,IAAX,KAAK6F,GAAkB,aAAQ,KAAKA,QAAK7F,EAEhD,EAKO0hB,qBAAP,WACE,IAAItE,EAAW,KAAKC,yBAEpB,OADAD,GAAY,wBAAiB,KAAKmE,aAAY,iCAAyB,KAAKC,qBAE9E,EAQUE,sBAAV,SAAoBnf,GAClB,MAAO,UAAGA,EAAG,aAAK,KAAK6a,WAAU,IACnC,EACF,EAtbA,CAAyDE,mB,8LCjCzD,cAQA,UAmGA,SAASwE,EAAgB5iB,EAAkBuK,GACzC,IAAMD,EAAcxC,sBAAoB+a,iBAAe7iB,IACvD,OAAO6iB,mBAAiBvY,EAAaC,EACvC,CApFAxK,eAAA,SAA6B,GAM5B,IALC6N,EAAU,EAAVA,WACAvC,EAAI,EAAJA,KAKA,GAAIwX,YAAUxX,GACZ,MAAM,IAAInJ,MAAM,0BACX,GAAI2gB,YAAUjV,GACnB,MAAM,IAAI1L,MAAM,gCAGlB,IAAMlC,EAAU6iB,iBAAexX,GACzB6C,EAAUpG,sBAAoB9H,GAC9BmZ,EAAMrR,SAAOoG,EAASN,GAE5B,OADmBiV,YAAU/a,WAASqR,EAAIrX,GAAIqX,EAAIpP,EAAGoP,EAAIxS,EAE3D,EAWA5G,2BAAA,SAAyC,GAMxC,IALCsL,EAAI,EAAJA,KACAd,EAAS,EAATA,UAKA,GAAIsY,YAAUxX,GACZ,MAAM,IAAInJ,MAAM,0BACX,GAAI2gB,YAAUtY,GACnB,MAAM,IAAIrI,MAAM,+BAGlB,IAAMwL,EAAYkV,EAAgBvX,EAAMd,GAClCuY,EAAShb,kBAAgB4F,GAE/B,OADkB5F,cAAYgb,EAEhC,EAWA/iB,mBAAA,SAAiC,GAMhC,IALCsL,EAAI,EAAJA,KACAd,EAAS,EAATA,UAKA,GAAIsY,YAAUxX,GACZ,MAAM,IAAInJ,MAAM,0BACX,GAAI2gB,YAAUtY,GACnB,MAAM,IAAIrI,MAAM,+BAGlB,IAAMwL,EAAYkV,EAAgBvX,EAAMd,GACxC,MAAO,KAAP,OAAYmD,EAAUxM,SAAS,OACjC,C,kGC/FA,YAGM6hB,EAAK,IAAIC,EAFJnjB,EAAQ,KAAYkjB,IAEb,aACZE,EAAWF,EAAGG,MAOpBnjB,EAAQ0X,iBAAmB,SAAS7J,EAAoB2J,QAAA,QAAAA,MACtD,IAAMgJ,EAAI,IAAIzX,EAAG8E,GACjB,GAAI2S,EAAE4C,KAAKF,EAAShc,IAAM,EACxB,MAAM,IAAI/E,MAAM,iCAGlB,IAAMkhB,EAAQL,EAAGM,EAAE7G,IAAI+D,GACvB,OAAO+C,EAAYF,EAAMG,OAAQH,EAAMI,OAAQjM,EACjD,EAEAxX,EAAQ6X,qBAAuB,SAAShK,GACtC,IAAM6V,EAAK,IAAI3a,EAAG8E,GAClB,GAAI6V,EAAGN,KAAKF,EAAShc,IAAM,GAAKwc,EAAGC,SACjC,MAAM,IAAIxhB,MAAM,gCAGlB,OAAOuhB,EAAGE,KAAKV,EAAShc,GAAG+B,YAAYf,EAAQ,KAAM,GACvD,EAEAlI,EAAQ0Y,gBAAkB,SAASC,GACjC,IAAI3O,EAAI,IAAIjB,EAAG4P,EAAO3O,GAClBA,EAAEoZ,KAAKF,EAAShc,IAAM,IACxB8C,EAAI,IAAIjB,EAAG,IAGb,IAAInC,EAAI,IAAImC,EAAG4P,EAAO/R,GAKtB,OAJIA,EAAEwc,KAAKF,EAAShc,IAAM,IACxBN,EAAI,IAAImC,EAAG,IAGNb,EAAOtF,OAAO,CAACoH,EAAEf,YAAYf,EAAQ,KAAM,IAAKtB,EAAEqC,YAAYf,EAAQ,KAAM,KACrF,EAEAlI,EAAQ2Z,WAAa,SACnBhM,EACAE,EACA2J,QAAA,QAAAA,MAEA,IAAM6L,EAAQL,EAAGa,cAAclW,GAEzBmW,EAAS,IAAI/a,EAAG8E,GACtB,GAAIiW,EAAOV,KAAKF,EAAShc,IAAM,GAAK4c,EAAOH,SACzC,MAAM,IAAIxhB,MAAM,yCAGlB,IAAM4hB,EAASV,EAAMW,IAAIvH,IAAIqH,GAC7B,OAAOP,EAAYQ,EAAOP,OAAQO,EAAON,OAAQjM,EACnD,EAEA,IAAM+L,EAAc,SAASU,EAAOC,EAAO1M,GACzC,IAAI7J,EAaJ,OAXI6J,IACF7J,EAAYzF,EAAO+M,MAAM,KACf,GAAKiP,EAAEC,QAAU,EAAO,EAClCF,EAAEhb,YAAYf,EAAQ,KAAM,IAAIK,KAAKoF,EAAW,MAEhDA,EAAYzF,EAAO+M,MAAM,KACf,GAAK,EACfgP,EAAEhb,YAAYf,EAAQ,KAAM,IAAIK,KAAKoF,EAAW,GAChDuW,EAAEjb,YAAYf,EAAQ,KAAM,IAAIK,KAAKoF,EAAW,KAG3CA,CACT,C,4HCzEA,IAAMyW,EAAmClc,EAAOS,KAAK,CAEnD,GACA,IACA,IACA,EACA,EACA,EACA,EACA,GAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,IACA,IACA,IACA,GACA,IACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,GACA,IACA,GACA,IACA,GACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,EACA,EACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,EACA,GACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,IACA,IACA,GACA,GACA,GACA,EACA,EACA,EACA,IACA,GACA,EACA,GACA,EAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IAGI0b,EAAqCnc,EAAOS,KAAK,CAErD,GACA,IACA,EACA,GACA,EACA,EACA,EACA,EACA,GAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,IACA,IACA,IACA,GACA,IACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,GACA,IACA,GACA,IACA,GACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,EACA,EACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,GACA,GACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,GACA,EACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,EACA,GACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,IACA,IACA,GACA,GACA,GACA,EACA,EACA,EACA,IACA,GACA,EACA,GACA,EAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IAGF3I,EAAQ0X,iBAAmB,SACzB7J,EACAF,EACA6J,QAAA,QAAAA,MAEA,IAAMtV,EAASgG,EAAOS,KACpB6O,EAAa4M,EAAmCC,GAIlD,OAFAxW,EAAWtF,KAAKrG,EAAQsV,EAAa,EAAI,GACzC7J,EAAUpF,KAAKrG,EAAQ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","file":"static/js/3.641d764b.chunk.js","sourcesContent":["'use strict';\n\nvar uri = require('url');\n\nvar ValidationError = exports.ValidationError = function ValidationError (message, instance, schema, path, name, argument) {\n  if(Array.isArray(path)){\n    this.path = path;\n    this.property = path.reduce(function(sum, item){\n      return sum + makeSuffix(item);\n    }, 'instance');\n  }else if(path !== undefined){\n    this.property = path;\n  }\n  if (message) {\n    this.message = message;\n  }\n  if (schema) {\n    var id = schema.$id || schema.id;\n    this.schema = id || schema;\n  }\n  if (instance !== undefined) {\n    this.instance = instance;\n  }\n  this.name = name;\n  this.argument = argument;\n  this.stack = this.toString();\n};\n\nValidationError.prototype.toString = function toString() {\n  return this.property + ' ' + this.message;\n};\n\nvar ValidatorResult = exports.ValidatorResult = function ValidatorResult(instance, schema, options, ctx) {\n  this.instance = instance;\n  this.schema = schema;\n  this.options = options;\n  this.path = ctx.path;\n  this.propertyPath = ctx.propertyPath;\n  this.errors = [];\n  this.throwError = options && options.throwError;\n  this.throwFirst = options && options.throwFirst;\n  this.throwAll = options && options.throwAll;\n  this.disableFormat = options && options.disableFormat === true;\n};\n\nValidatorResult.prototype.addError = function addError(detail) {\n  var err;\n  if (typeof detail == 'string') {\n    err = new ValidationError(detail, this.instance, this.schema, this.path);\n  } else {\n    if (!detail) throw new Error('Missing error detail');\n    if (!detail.message) throw new Error('Missing error message');\n    if (!detail.name) throw new Error('Missing validator type');\n    err = new ValidationError(detail.message, this.instance, this.schema, this.path, detail.name, detail.argument);\n  }\n\n  this.errors.push(err);\n  if (this.throwFirst) {\n    throw new ValidatorResultError(this);\n  }else if(this.throwError){\n    throw err;\n  }\n  return err;\n};\n\nValidatorResult.prototype.importErrors = function importErrors(res) {\n  if (typeof res == 'string' || (res && res.validatorType)) {\n    this.addError(res);\n  } else if (res && res.errors) {\n    this.errors = this.errors.concat(res.errors);\n  }\n};\n\nfunction stringizer (v,i){\n  return i+': '+v.toString()+'\\n';\n}\nValidatorResult.prototype.toString = function toString(res) {\n  return this.errors.map(stringizer).join('');\n};\n\nObject.defineProperty(ValidatorResult.prototype, \"valid\", { get: function() {\n  return !this.errors.length;\n} });\n\nmodule.exports.ValidatorResultError = ValidatorResultError;\nfunction ValidatorResultError(result) {\n  if(Error.captureStackTrace){\n    Error.captureStackTrace(this, ValidatorResultError);\n  }\n  this.instance = result.instance;\n  this.schema = result.schema;\n  this.options = result.options;\n  this.errors = result.errors;\n}\nValidatorResultError.prototype = new Error();\nValidatorResultError.prototype.constructor = ValidatorResultError;\nValidatorResultError.prototype.name = \"Validation Error\";\n\n/**\n * Describes a problem with a Schema which prevents validation of an instance\n * @name SchemaError\n * @constructor\n */\nvar SchemaError = exports.SchemaError = function SchemaError (msg, schema) {\n  this.message = msg;\n  this.schema = schema;\n  Error.call(this, msg);\n  Error.captureStackTrace(this, SchemaError);\n};\nSchemaError.prototype = Object.create(Error.prototype,\n  {\n    constructor: {value: SchemaError, enumerable: false},\n    name: {value: 'SchemaError', enumerable: false},\n  });\n\nvar SchemaContext = exports.SchemaContext = function SchemaContext (schema, options, path, base, schemas) {\n  this.schema = schema;\n  this.options = options;\n  if(Array.isArray(path)){\n    this.path = path;\n    this.propertyPath = path.reduce(function(sum, item){\n      return sum + makeSuffix(item);\n    }, 'instance');\n  }else{\n    this.propertyPath = path;\n  }\n  this.base = base;\n  this.schemas = schemas;\n};\n\nSchemaContext.prototype.resolve = function resolve (target) {\n  return uri.resolve(this.base, target);\n};\n\nSchemaContext.prototype.makeChild = function makeChild(schema, propertyName){\n  var path = (propertyName===undefined) ? this.path : this.path.concat([propertyName]);\n  var id = schema.$id || schema.id;\n  var base = uri.resolve(this.base, id||'');\n  var ctx = new SchemaContext(schema, this.options, path, base, Object.create(this.schemas));\n  if(id && !ctx.schemas[base]){\n    ctx.schemas[base] = schema;\n  }\n  return ctx;\n};\n\nvar FORMAT_REGEXPS = exports.FORMAT_REGEXPS = {\n  // 7.3.1. Dates, Times, and Duration\n  'date-time': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\\.\\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,\n  'date': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,\n  'time': /^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,\n  'duration': /P(T\\d+(H(\\d+M(\\d+S)?)?|M(\\d+S)?|S)|\\d+(D|M(\\d+D)?|Y(\\d+M(\\d+D)?)?)(T\\d+(H(\\d+M(\\d+S)?)?|M(\\d+S)?|S))?|\\d+W)/i,\n\n  // 7.3.2. Email Addresses\n  // TODO: fix the email production\n  'email': /^(?:[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/,\n  'idn-email': /^(\"(?:[!#-\\[\\]-\\u{10FFFF}]|\\\\[\\t -\\u{10FFFF}])*\"|[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}](?:\\.?[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}])*)@([!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}](?:\\.?[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}])*|\\[[!-Z\\^-\\u{10FFFF}]*\\])$/u,\n\n  // 7.3.3. Hostnames\n\n  // 7.3.4. IP Addresses\n  'ip-address': /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,\n  // FIXME whitespace is invalid\n  'ipv6': /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,\n\n  // 7.3.5. Resource Identifiers\n  // TODO: A more accurate regular expression for \"uri\" goes:\n  // [A-Za-z][+\\-.0-9A-Za-z]*:((/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?)?#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])|/?%[0-9A-Fa-f]{2}|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*(#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)?)?\n  'uri': /^[a-zA-Z][a-zA-Z0-9+.-]*:[^\\s]*$/,\n  'uri-reference': /^(((([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)?|[A-Za-z][+\\-.0-9A-Za-z]*:?)?$/,\n  'iri': /^[a-zA-Z][a-zA-Z0-9+.-]*:[^\\s]*$/,\n  'iri-reference': /^(((([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|([A-Za-z][+\\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|(\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|(([A-Za-z][+\\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\\u{10FFFF}]|[A-Za-z][+\\-.0-9A-Za-z]*[!$&-*,;=@_~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*)?|([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)?|[A-Za-z][+\\-.0-9A-Za-z]*:?)?$/u,\n  'uuid': /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,\n\n  // 7.3.6. uri-template\n  'uri-template': /(%[0-9a-f]{2}|[!#$&(-;=?@\\[\\]_a-z~]|\\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\\d{0,3}|\\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\\d{0,3}|\\*)?)*\\})*/iu,\n\n  // 7.3.7. JSON Pointers\n  'json-pointer': /^(\\/([\\x00-\\x2e0-@\\[-}\\x7f]|~[01])*)*$/iu,\n  'relative-json-pointer': /^\\d+(#|(\\/([\\x00-\\x2e0-@\\[-}\\x7f]|~[01])*)*)$/iu,\n\n  // hostname regex from: http://stackoverflow.com/a/1420225/5628\n  'hostname': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n  'host-name': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n\n  'utc-millisec': function (input) {\n    return (typeof input === 'string') && parseFloat(input) === parseInt(input, 10) && !isNaN(input);\n  },\n\n  // 7.3.8. regex\n  'regex': function (input) {\n    var result = true;\n    try {\n      new RegExp(input);\n    } catch (e) {\n      result = false;\n    }\n    return result;\n  },\n\n  // Other definitions\n  // \"style\" was removed from JSON Schema in draft-4 and is deprecated\n  'style': /[\\r\\n\\t ]*[^\\r\\n\\t ][^:]*:[\\r\\n\\t ]*[^\\r\\n\\t ;]*[\\r\\n\\t ]*;?/,\n  // \"color\" was removed from JSON Schema in draft-4 and is deprecated\n  'color': /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/,\n  'phone': /^\\+(?:[0-9] ?){6,14}[0-9]$/,\n  'alpha': /^[a-zA-Z]+$/,\n  'alphanumeric': /^[a-zA-Z0-9]+$/,\n};\n\nFORMAT_REGEXPS.regexp = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.pattern = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.ipv4 = FORMAT_REGEXPS['ip-address'];\n\nexports.isFormat = function isFormat (input, format, validator) {\n  if (typeof input === 'string' && FORMAT_REGEXPS[format] !== undefined) {\n    if (FORMAT_REGEXPS[format] instanceof RegExp) {\n      return FORMAT_REGEXPS[format].test(input);\n    }\n    if (typeof FORMAT_REGEXPS[format] === 'function') {\n      return FORMAT_REGEXPS[format](input);\n    }\n  } else if (validator && validator.customFormats &&\n      typeof validator.customFormats[format] === 'function') {\n    return validator.customFormats[format](input);\n  }\n  return true;\n};\n\nvar makeSuffix = exports.makeSuffix = function makeSuffix (key) {\n  key = key.toString();\n  // This function could be capable of outputting valid a ECMAScript string, but the\n  // resulting code for testing which form to use would be tens of thousands of characters long\n  // That means this will use the name form for some illegal forms\n  if (!key.match(/[.\\s\\[\\]]/) && !key.match(/^[\\d]/)) {\n    return '.' + key;\n  }\n  if (key.match(/^\\d+$/)) {\n    return '[' + key + ']';\n  }\n  return '[' + JSON.stringify(key) + ']';\n};\n\nexports.deepCompareStrict = function deepCompareStrict (a, b) {\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every(function (v, i) {\n      return deepCompareStrict(a[i], b[i]);\n    });\n  }\n  if (typeof a === 'object') {\n    if (!a || !b) {\n      return a === b;\n    }\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    return aKeys.every(function (v) {\n      return deepCompareStrict(a[v], b[v]);\n    });\n  }\n  return a === b;\n};\n\nfunction deepMerger (target, dst, e, i) {\n  if (typeof e === 'object') {\n    dst[i] = deepMerge(target[i], e);\n  } else {\n    if (target.indexOf(e) === -1) {\n      dst.push(e);\n    }\n  }\n}\n\nfunction copyist (src, dst, key) {\n  dst[key] = src[key];\n}\n\nfunction copyistWithDeepMerge (target, src, dst, key) {\n  if (typeof src[key] !== 'object' || !src[key]) {\n    dst[key] = src[key];\n  }\n  else {\n    if (!target[key]) {\n      dst[key] = src[key];\n    } else {\n      dst[key] = deepMerge(target[key], src[key]);\n    }\n  }\n}\n\nfunction deepMerge (target, src) {\n  var array = Array.isArray(src);\n  var dst = array && [] || {};\n\n  if (array) {\n    target = target || [];\n    dst = dst.concat(target);\n    src.forEach(deepMerger.bind(null, target, dst));\n  } else {\n    if (target && typeof target === 'object') {\n      Object.keys(target).forEach(copyist.bind(null, target, dst));\n    }\n    Object.keys(src).forEach(copyistWithDeepMerge.bind(null, target, src, dst));\n  }\n\n  return dst;\n}\n\nmodule.exports.deepMerge = deepMerge;\n\n/**\n * Validates instance against the provided schema\n * Implements URI+JSON Pointer encoding, e.g. \"%7e\"=\"~0\"=>\"~\", \"~1\"=\"%2f\"=>\"/\"\n * @param o\n * @param s The path to walk o along\n * @return any\n */\nexports.objectGetPath = function objectGetPath(o, s) {\n  var parts = s.split('/').slice(1);\n  var k;\n  while (typeof (k=parts.shift()) == 'string') {\n    var n = decodeURIComponent(k.replace(/~0/,'~').replace(/~1/g,'/'));\n    if (!(n in o)) return;\n    o = o[n];\n  }\n  return o;\n};\n\nfunction pathEncoder (v) {\n  return '/'+encodeURIComponent(v).replace(/~/g,'%7E');\n}\n/**\n * Accept an Array of property names and return a JSON Pointer URI fragment\n * @param Array a\n * @return {String}\n */\nexports.encodePath = function encodePointer(a){\n  // ~ must be encoded explicitly because hacks\n  // the slash is encoded by encodeURIComponent\n  return a.map(pathEncoder).join('');\n};\n\n\n/**\n * Calculate the number of decimal places a number uses\n * We need this to get correct results out of multipleOf and divisibleBy\n * when either figure is has decimal places, due to IEEE-754 float issues.\n * @param number\n * @returns {number}\n */\nexports.getDecimalPlaces = function getDecimalPlaces(number) {\n\n  var decimalPlaces = 0;\n  if (isNaN(number)) return decimalPlaces;\n\n  if (typeof number !== 'number') {\n    number = Number(number);\n  }\n\n  var parts = number.toString().split('e');\n  if (parts.length === 2) {\n    if (parts[1][0] !== '-') {\n      return decimalPlaces;\n    } else {\n      decimalPlaces = Number(parts[1].slice(1));\n    }\n  }\n\n  var decimalParts = parts[0].split('.');\n  if (decimalParts.length === 2) {\n    decimalPlaces += decimalParts[1].length;\n  }\n\n  return decimalPlaces;\n};\n\nexports.isSchema = function isSchema(val){\n  return (typeof val === 'object' && val) || (typeof val === 'boolean');\n};\n\n",null,null,"import {\n  addHexPrefix,\n  bufferToHex,\n  bufferToInt,\n  ecrecover,\n  fromRpcSig,\n  fromSigned,\n  toBuffer,\n  toUnsigned,\n} from 'ethereumjs-util';\nimport { intToHex, isHexString, stripHexPrefix } from 'ethjs-util';\n\n/**\n * Pads the front of the given hex string with zeroes until it reaches the\n * target length. If the input string is already longer than or equal to the\n * target length, it is returned unmodified.\n *\n * If the input string is \"0x\"-prefixed or not a hex string, an error will be\n * thrown.\n *\n * @param hexString - The hexadecimal string to pad with zeroes.\n * @param targetLength - The target length of the hexadecimal string.\n * @returns The input string front-padded with zeroes, or the original string\n * if it was already greater than or equal to to the target length.\n */\nexport function padWithZeroes(hexString: string, targetLength: number): string {\n  if (hexString !== '' && !/^[a-f0-9]+$/iu.test(hexString)) {\n    throw new Error(\n      `Expected an unprefixed hex string. Received: ${hexString}`,\n    );\n  }\n\n  if (targetLength < 0) {\n    throw new Error(\n      `Expected a non-negative integer target length. Received: ${targetLength}`,\n    );\n  }\n\n  return String.prototype.padStart.call(hexString, targetLength, '0');\n}\n\n/**\n * Returns `true` if the given value is nullish.\n *\n * @param value - The value being checked.\n * @returns Whether the value is nullish.\n */\nexport function isNullish(value) {\n  return value === null || value === undefined;\n}\n\n/**\n * Convert a value to a Buffer. This function should be equivalent to the `toBuffer` function in\n * `ethereumjs-util@5.2.1`.\n *\n * @param value - The value to convert to a Buffer.\n * @returns The given value as a Buffer.\n */\nexport function legacyToBuffer(value: unknown) {\n  return typeof value === 'string' && !isHexString(value)\n    ? Buffer.from(value)\n    : toBuffer(value);\n}\n\n/**\n * Concatenate an extended ECDSA signature into a single '0x'-prefixed hex string.\n *\n * @param v - The 'v' portion of the signature.\n * @param r - The 'r' portion of the signature.\n * @param s - The 's' portion of the signature.\n * @returns The concatenated ECDSA signature as a '0x'-prefixed string.\n */\nexport function concatSig(v: Buffer, r: Buffer, s: Buffer): string {\n  const rSig = fromSigned(r);\n  const sSig = fromSigned(s);\n  const vSig = bufferToInt(v);\n  const rStr = padWithZeroes(toUnsigned(rSig).toString('hex'), 64);\n  const sStr = padWithZeroes(toUnsigned(sSig).toString('hex'), 64);\n  const vStr = stripHexPrefix(intToHex(vSig));\n  return addHexPrefix(rStr.concat(sStr, vStr));\n}\n\n/**\n * Recover the public key from the given signature and message hash.\n *\n * @param messageHash - The hash of the signed message.\n * @param signature - The signature.\n * @returns The public key of the signer.\n */\nexport function recoverPublicKey(\n  messageHash: Buffer,\n  signature: string,\n): Buffer {\n  const sigParams = fromRpcSig(signature);\n  return ecrecover(messageHash, sigParams.v, sigParams.r, sigParams.s);\n}\n\n/**\n * Normalize the input to a lower-cased '0x'-prefixed hex string.\n *\n * @param input - The value to normalize.\n * @returns The normalized value.\n */\nexport function normalize(input: number | string): string {\n  if (!input) {\n    return undefined;\n  }\n\n  if (typeof input === 'number') {\n    const buffer = toBuffer(input);\n    input = bufferToHex(buffer);\n  }\n\n  if (typeof input !== 'string') {\n    let msg = 'eth-sig-util.normalize() requires hex string or integer input.';\n    msg += ` received ${typeof input}: ${input}`;\n    throw new Error(msg);\n  }\n\n  return addHexPrefix(input.toLowerCase());\n}\n","export * from './personal-sign';\nexport * from './sign-typed-data';\nexport * from './encryption';\nexport { concatSig, normalize } from './utils';\n",null,null,null,null,"\"use strict\";\n\nvar urilib = require('url');\nvar helpers = require('./helpers');\n\nmodule.exports.SchemaScanResult = SchemaScanResult;\nfunction SchemaScanResult(found, ref){\n  this.id = found;\n  this.ref = ref;\n}\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param string uri\n * @param object schema\n * @return {Object}\n */\nmodule.exports.scan = function scan(base, schema){\n  function scanSchema(baseuri, schema){\n    if(!schema || typeof schema!='object') return;\n    // Mark all referenced schemas so we can tell later which schemas are referred to, but never defined\n    if(schema.$ref){\n      var resolvedUri = urilib.resolve(baseuri, schema.$ref);\n      ref[resolvedUri] = ref[resolvedUri] ? ref[resolvedUri]+1 : 0;\n      return;\n    }\n    var id = schema.$id || schema.id;\n    var ourBase = id ? urilib.resolve(baseuri, id) : baseuri;\n    if (ourBase) {\n      // If there's no fragment, append an empty one\n      if(ourBase.indexOf('#')<0) ourBase += '#';\n      if(found[ourBase]){\n        if(!helpers.deepCompareStrict(found[ourBase], schema)){\n          throw new Error('Schema <'+ourBase+'> already exists with different definition');\n        }\n        return found[ourBase];\n      }\n      found[ourBase] = schema;\n      // strip trailing fragment\n      if(ourBase[ourBase.length-1]=='#'){\n        found[ourBase.substring(0, ourBase.length-1)] = schema;\n      }\n    }\n    scanArray(ourBase+'/items', (Array.isArray(schema.items)?schema.items:[schema.items]));\n    scanArray(ourBase+'/extends', (Array.isArray(schema.extends)?schema.extends:[schema.extends]));\n    scanSchema(ourBase+'/additionalItems', schema.additionalItems);\n    scanObject(ourBase+'/properties', schema.properties);\n    scanSchema(ourBase+'/additionalProperties', schema.additionalProperties);\n    scanObject(ourBase+'/definitions', schema.definitions);\n    scanObject(ourBase+'/patternProperties', schema.patternProperties);\n    scanObject(ourBase+'/dependencies', schema.dependencies);\n    scanArray(ourBase+'/disallow', schema.disallow);\n    scanArray(ourBase+'/allOf', schema.allOf);\n    scanArray(ourBase+'/anyOf', schema.anyOf);\n    scanArray(ourBase+'/oneOf', schema.oneOf);\n    scanSchema(ourBase+'/not', schema.not);\n  }\n  function scanArray(baseuri, schemas){\n    if(!Array.isArray(schemas)) return;\n    for(var i=0; i<schemas.length; i++){\n      scanSchema(baseuri+'/'+i, schemas[i]);\n    }\n  }\n  function scanObject(baseuri, schemas){\n    if(!schemas || typeof schemas!='object') return;\n    for(var p in schemas){\n      scanSchema(baseuri+'/'+p, schemas[p]);\n    }\n  }\n\n  var found = {};\n  var ref = {};\n  scanSchema(base, schema);\n  return new SchemaScanResult(found, ref);\n};\n","'use strict';\n\nvar Validator = module.exports.Validator = require('./validator');\n\nmodule.exports.ValidatorResult = require('./helpers').ValidatorResult;\nmodule.exports.ValidatorResultError = require('./helpers').ValidatorResultError;\nmodule.exports.ValidationError = require('./helpers').ValidationError;\nmodule.exports.SchemaError = require('./helpers').SchemaError;\nmodule.exports.SchemaScanResult = require('./scan').SchemaScanResult;\nmodule.exports.scan = require('./scan').scan;\n\nmodule.exports.validate = function (instance, schema, options) {\n  var v = new Validator();\n  return v.validate(instance, schema, options);\n};\n",null,"/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*exported CRC32 */\nvar CRC32;\n(function (factory) {\n\t/*jshint ignore:start */\n\t/*eslint-disable */\n\tif(typeof DO_NOT_EXPORT_CRC === 'undefined') {\n\t\tif('object' === typeof exports) {\n\t\t\tfactory(exports);\n\t\t} else if ('function' === typeof define && define.amd) {\n\t\t\tdefine(function () {\n\t\t\t\tvar module = {};\n\t\t\t\tfactory(module);\n\t\t\t\treturn module;\n\t\t\t});\n\t\t} else {\n\t\t\tfactory(CRC32 = {});\n\t\t}\n\t} else {\n\t\tfactory(CRC32 = {});\n\t}\n\t/*eslint-enable */\n\t/*jshint ignore:end */\n}(function(CRC32) {\nCRC32.version = '1.2.2';\n/*global Int32Array */\nfunction signed_crc_table() {\n\tvar c = 0, table = new Array(256);\n\n\tfor(var n =0; n != 256; ++n){\n\t\tc = n;\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\ttable[n] = c;\n\t}\n\n\treturn typeof Int32Array !== 'undefined' ? new Int32Array(table) : table;\n}\n\nvar T0 = signed_crc_table();\nfunction slice_by_16_tables(T) {\n\tvar c = 0, v = 0, n = 0, table = typeof Int32Array !== 'undefined' ? new Int32Array(4096) : new Array(4096) ;\n\n\tfor(n = 0; n != 256; ++n) table[n] = T[n];\n\tfor(n = 0; n != 256; ++n) {\n\t\tv = T[n];\n\t\tfor(c = 256 + n; c < 4096; c += 256) v = table[c] = (v >>> 8) ^ T[v & 0xFF];\n\t}\n\tvar out = [];\n\tfor(n = 1; n != 16; ++n) out[n - 1] = typeof Int32Array !== 'undefined' ? table.subarray(n * 256, n * 256 + 256) : table.slice(n * 256, n * 256 + 256);\n\treturn out;\n}\nvar TT = slice_by_16_tables(T0);\nvar T1 = TT[0],  T2 = TT[1],  T3 = TT[2],  T4 = TT[3],  T5 = TT[4];\nvar T6 = TT[5],  T7 = TT[6],  T8 = TT[7],  T9 = TT[8],  Ta = TT[9];\nvar Tb = TT[10], Tc = TT[11], Td = TT[12], Te = TT[13], Tf = TT[14];\nfunction crc32_bstr(bstr, seed) {\n\tvar C = seed ^ -1;\n\tfor(var i = 0, L = bstr.length; i < L;) C = (C>>>8) ^ T0[(C^bstr.charCodeAt(i++))&0xFF];\n\treturn ~C;\n}\n\nfunction crc32_buf(B, seed) {\n\tvar C = seed ^ -1, L = B.length - 15, i = 0;\n\tfor(; i < L;) C =\n\t\tTf[B[i++] ^ (C & 255)] ^\n\t\tTe[B[i++] ^ ((C >> 8) & 255)] ^\n\t\tTd[B[i++] ^ ((C >> 16) & 255)] ^\n\t\tTc[B[i++] ^ (C >>> 24)] ^\n\t\tTb[B[i++]] ^ Ta[B[i++]] ^ T9[B[i++]] ^ T8[B[i++]] ^\n\t\tT7[B[i++]] ^ T6[B[i++]] ^ T5[B[i++]] ^ T4[B[i++]] ^\n\t\tT3[B[i++]] ^ T2[B[i++]] ^ T1[B[i++]] ^ T0[B[i++]];\n\tL += 15;\n\twhile(i < L) C = (C>>>8) ^ T0[(C^B[i++])&0xFF];\n\treturn ~C;\n}\n\nfunction crc32_str(str, seed) {\n\tvar C = seed ^ -1;\n\tfor(var i = 0, L = str.length, c = 0, d = 0; i < L;) {\n\t\tc = str.charCodeAt(i++);\n\t\tif(c < 0x80) {\n\t\t\tC = (C>>>8) ^ T0[(C^c)&0xFF];\n\t\t} else if(c < 0x800) {\n\t\t\tC = (C>>>8) ^ T0[(C ^ (192|((c>>6)&31)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(c&63)))&0xFF];\n\t\t} else if(c >= 0xD800 && c < 0xE000) {\n\t\t\tc = (c&1023)+64; d = str.charCodeAt(i++)&1023;\n\t\t\tC = (C>>>8) ^ T0[(C ^ (240|((c>>8)&7)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((c>>2)&63)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((d>>6)&15)|((c&3)<<4)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(d&63)))&0xFF];\n\t\t} else {\n\t\t\tC = (C>>>8) ^ T0[(C ^ (224|((c>>12)&15)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((c>>6)&63)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(c&63)))&0xFF];\n\t\t}\n\t}\n\treturn ~C;\n}\nCRC32.table = T0;\n// $FlowIgnore\nCRC32.bstr = crc32_bstr;\n// $FlowIgnore\nCRC32.buf = crc32_buf;\n// $FlowIgnore\nCRC32.str = crc32_str;\n}));\n",null,null,null,null,null,null,"import {\n  bufferToHex,\n  ecsign,\n  hashPersonalMessage,\n  publicToAddress,\n  toBuffer,\n} from 'ethereumjs-util';\n\nimport {\n  concatSig,\n  isNullish,\n  legacyToBuffer,\n  recoverPublicKey,\n} from './utils';\n\n/**\n * Create an Ethereum-specific signature for a message.\n *\n * This function is equivalent to the `eth_sign` Ethereum JSON-RPC method as specified in EIP-1417,\n * as well as the MetaMask's `personal_sign` method.\n *\n * @param options - The personal sign options.\n * @param options.privateKey - The key to sign with.\n * @param options.data - The hex data to sign.\n * @returns The '0x'-prefixed hex encoded signature.\n */\nexport function personalSign({\n  privateKey,\n  data,\n}: {\n  privateKey: Buffer;\n  data: unknown;\n}): string {\n  if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(privateKey)) {\n    throw new Error('Missing privateKey parameter');\n  }\n\n  const message = legacyToBuffer(data);\n  const msgHash = hashPersonalMessage(message);\n  const sig = ecsign(msgHash, privateKey);\n  const serialized = concatSig(toBuffer(sig.v), sig.r, sig.s);\n  return serialized;\n}\n\n/**\n * Recover the address of the account used to create the given Ethereum signature. The message\n * must have been signed using the `personalSign` function, or an equivalent function.\n *\n * @param options - The signature recovery options.\n * @param options.data - The hex data that was signed.\n * @param options.signature - The '0x'-prefixed hex encoded message signature.\n * @returns The '0x'-prefixed hex encoded address of the message signer.\n */\nexport function recoverPersonalSignature({\n  data,\n  signature,\n}: {\n  data: unknown;\n  signature: string;\n}): string {\n  if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(signature)) {\n    throw new Error('Missing signature parameter');\n  }\n\n  const publicKey = getPublicKeyFor(data, signature);\n  const sender = publicToAddress(publicKey);\n  const senderHex = bufferToHex(sender);\n  return senderHex;\n}\n\n/**\n * Recover the public key of the account used to create the given Ethereum signature. The message\n * must have been signed using the `personalSign` function, or an equivalent function.\n *\n * @param options - The public key recovery options.\n * @param options.data - The hex data that was signed.\n * @param options.signature - The '0x'-prefixed hex encoded message signature.\n * @returns The '0x'-prefixed hex encoded public key of the message signer.\n */\nexport function extractPublicKey({\n  data,\n  signature,\n}: {\n  data: unknown;\n  signature: string;\n}): string {\n  if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(signature)) {\n    throw new Error('Missing signature parameter');\n  }\n\n  const publicKey = getPublicKeyFor(data, signature);\n  return `0x${publicKey.toString('hex')}`;\n}\n\n/**\n * Get the public key for the given signature and message.\n *\n * @param message - The message that was signed.\n * @param signature - The '0x'-prefixed hex encoded message signature.\n * @returns The public key of the signer.\n */\nfunction getPublicKeyFor(message: unknown, signature: string): Buffer {\n  const messageHash = hashPersonalMessage(legacyToBuffer(message));\n  return recoverPublicKey(messageHash, signature);\n}\n",null,null,null,null,null,null,"import {\n  bufferToHex,\n  ecsign,\n  keccak,\n  publicToAddress,\n  toBuffer,\n} from 'ethereumjs-util';\nimport { rawEncode, soliditySHA3 } from 'ethereumjs-abi';\n\nimport {\n  concatSig,\n  isNullish,\n  legacyToBuffer,\n  recoverPublicKey,\n} from './utils';\n\n/**\n * This is the message format used for `V1` of `signTypedData`.\n */\nexport type TypedDataV1 = TypedDataV1Field[];\n\n/**\n * This represents a single field in a `V1` `signTypedData` message.\n *\n * @property name - The name of the field.\n * @property type - The type of a field (must be a supported Solidity type).\n * @property value - The value of the field.\n */\nexport interface TypedDataV1Field {\n  name: string;\n  type: string;\n  value: any;\n}\n\n/**\n * Represents the version of `signTypedData` being used.\n *\n * V1 is based upon [an early version of EIP-712](https://github.com/ethereum/EIPs/pull/712/commits/21abe254fe0452d8583d5b132b1d7be87c0439ca)\n * that lacked some later security improvements, and should generally be neglected in favor of\n * later versions.\n *\n * V3 is based on EIP-712, except that arrays and recursive data structures are not supported.\n *\n * V4 is based on EIP-712, and includes full support of arrays and recursive data structures.\n */\nexport enum SignTypedDataVersion {\n  V1 = 'V1',\n  V3 = 'V3',\n  V4 = 'V4',\n}\n\nexport interface MessageTypeProperty {\n  name: string;\n  type: string;\n}\n\nexport interface MessageTypes {\n  EIP712Domain: MessageTypeProperty[];\n  [additionalProperties: string]: MessageTypeProperty[];\n}\n\n/**\n * This is the message format used for `signTypeData`, for all versions\n * except `V1`.\n *\n * @template T - The custom types used by this message.\n * @property types - The custom types used by this message.\n * @property primaryType - The type of the message.\n * @property domain - Signing domain metadata. The signing domain is the intended context for the\n * signature (e.g. the dapp, protocol, etc. that it's intended for). This data is used to\n * construct the domain seperator of the message.\n * @property domain.name - The name of the signing domain.\n * @property domain.version - The current major version of the signing domain.\n * @property domain.chainId - The chain ID of the signing domain.\n * @property domain.verifyingContract - The address of the contract that can verify the signature.\n * @property domain.salt - A disambiguating salt for the protocol.\n * @property message - The message to be signed.\n */\nexport interface TypedMessage<T extends MessageTypes> {\n  types: T;\n  primaryType: keyof T;\n  domain: {\n    name?: string;\n    version?: string;\n    chainId?: number;\n    verifyingContract?: string;\n    salt?: ArrayBuffer;\n  };\n  message: Record<string, unknown>;\n}\n\nexport const TYPED_MESSAGE_SCHEMA = {\n  type: 'object',\n  properties: {\n    types: {\n      type: 'object',\n      additionalProperties: {\n        type: 'array',\n        items: {\n          type: 'object',\n          properties: {\n            name: { type: 'string' },\n            type: { type: 'string' },\n          },\n          required: ['name', 'type'],\n        },\n      },\n    },\n    primaryType: { type: 'string' },\n    domain: { type: 'object' },\n    message: { type: 'object' },\n  },\n  required: ['types', 'primaryType', 'domain', 'message'],\n};\n\n/**\n * Validate that the given value is a valid version string.\n *\n * @param version - The version value to validate.\n * @param allowedVersions - A list of allowed versions. If omitted, all versions are assumed to be\n * allowed.\n */\nfunction validateVersion(\n  version: SignTypedDataVersion,\n  allowedVersions?: SignTypedDataVersion[],\n) {\n  if (!Object.keys(SignTypedDataVersion).includes(version)) {\n    throw new Error(`Invalid version: '${version}'`);\n  } else if (allowedVersions && !allowedVersions.includes(version)) {\n    throw new Error(\n      `SignTypedDataVersion not allowed: '${version}'. Allowed versions are: ${allowedVersions.join(\n        ', ',\n      )}`,\n    );\n  }\n}\n\n/**\n * Encode a single field.\n *\n * @param types - All type definitions.\n * @param name - The name of the field to encode.\n * @param type - The type of the field being encoded.\n * @param value - The value to encode.\n * @param version - The EIP-712 version the encoding should comply with.\n * @returns Encoded representation of the field.\n */\nfunction encodeField(\n  types: Record<string, MessageTypeProperty[]>,\n  name: string,\n  type: string,\n  value: any,\n  version: SignTypedDataVersion.V3 | SignTypedDataVersion.V4,\n): [type: string, value: any] {\n  validateVersion(version, [SignTypedDataVersion.V3, SignTypedDataVersion.V4]);\n\n  if (types[type] !== undefined) {\n    return [\n      'bytes32',\n      version === SignTypedDataVersion.V4 && value == null // eslint-disable-line no-eq-null\n        ? '0x0000000000000000000000000000000000000000000000000000000000000000'\n        : keccak(encodeData(type, value, types, version)),\n    ];\n  }\n\n  if (value === undefined) {\n    throw new Error(`missing value for field ${name} of type ${type}`);\n  }\n\n  if (type === 'bytes') {\n    return ['bytes32', keccak(value)];\n  }\n\n  if (type === 'string') {\n    // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n    if (typeof value === 'string') {\n      value = Buffer.from(value, 'utf8');\n    }\n    return ['bytes32', keccak(value)];\n  }\n\n  if (type.lastIndexOf(']') === type.length - 1) {\n    if (version === SignTypedDataVersion.V3) {\n      throw new Error(\n        'Arrays are unimplemented in encodeData; use V4 extension',\n      );\n    }\n    const parsedType = type.slice(0, type.lastIndexOf('['));\n    const typeValuePairs = value.map((item) =>\n      encodeField(types, name, parsedType, item, version),\n    );\n    return [\n      'bytes32',\n      keccak(\n        rawEncode(\n          typeValuePairs.map(([t]) => t),\n          typeValuePairs.map(([, v]) => v),\n        ),\n      ),\n    ];\n  }\n\n  return [type, value];\n}\n\n/**\n * Encodes an object by encoding and concatenating each of its members.\n *\n * @param primaryType - The root type.\n * @param data - The object to encode.\n * @param types - Type definitions for all types included in the message.\n * @param version - The EIP-712 version the encoding should comply with.\n * @returns An encoded representation of an object.\n */\nfunction encodeData(\n  primaryType: string,\n  data: Record<string, unknown>,\n  types: Record<string, MessageTypeProperty[]>,\n  version: SignTypedDataVersion.V3 | SignTypedDataVersion.V4,\n): Buffer {\n  validateVersion(version, [SignTypedDataVersion.V3, SignTypedDataVersion.V4]);\n\n  const encodedTypes = ['bytes32'];\n  const encodedValues: unknown[] = [hashType(primaryType, types)];\n\n  for (const field of types[primaryType]) {\n    if (version === SignTypedDataVersion.V3 && data[field.name] === undefined) {\n      continue;\n    }\n    const [type, value] = encodeField(\n      types,\n      field.name,\n      field.type,\n      data[field.name],\n      version,\n    );\n    encodedTypes.push(type);\n    encodedValues.push(value);\n  }\n\n  return rawEncode(encodedTypes, encodedValues);\n}\n\n/**\n * Encodes the type of an object by encoding a comma delimited list of its members.\n *\n * @param primaryType - The root type to encode.\n * @param types - Type definitions for all types included in the message.\n * @returns An encoded representation of the primary type.\n */\nfunction encodeType(\n  primaryType: string,\n  types: Record<string, MessageTypeProperty[]>,\n): string {\n  let result = '';\n  const unsortedDeps = findTypeDependencies(primaryType, types);\n  unsortedDeps.delete(primaryType);\n\n  const deps = [primaryType, ...Array.from(unsortedDeps).sort()];\n  for (const type of deps) {\n    const children = types[type];\n    if (!children) {\n      throw new Error(`No type definition specified: ${type}`);\n    }\n\n    result += `${type}(${types[type]\n      .map(({ name, type: t }) => `${t} ${name}`)\n      .join(',')})`;\n  }\n\n  return result;\n}\n\n/**\n * Finds all types within a type definition object.\n *\n * @param primaryType - The root type.\n * @param types - Type definitions for all types included in the message.\n * @param results - The current set of accumulated types.\n * @returns The set of all types found in the type definition.\n */\nfunction findTypeDependencies(\n  primaryType: string,\n  types: Record<string, MessageTypeProperty[]>,\n  results: Set<string> = new Set(),\n): Set<string> {\n  [primaryType] = primaryType.match(/^\\w*/u);\n  if (results.has(primaryType) || types[primaryType] === undefined) {\n    return results;\n  }\n\n  results.add(primaryType);\n\n  for (const field of types[primaryType]) {\n    findTypeDependencies(field.type, types, results);\n  }\n  return results;\n}\n\n/**\n * Hashes an object.\n *\n * @param primaryType - The root type.\n * @param data - The object to hash.\n * @param types - Type definitions for all types included in the message.\n * @param version - The EIP-712 version the encoding should comply with.\n * @returns The hash of the object.\n */\nfunction hashStruct(\n  primaryType: string,\n  data: Record<string, unknown>,\n  types: Record<string, MessageTypeProperty[]>,\n  version: SignTypedDataVersion.V3 | SignTypedDataVersion.V4,\n): Buffer {\n  validateVersion(version, [SignTypedDataVersion.V3, SignTypedDataVersion.V4]);\n\n  return keccak(encodeData(primaryType, data, types, version));\n}\n\n/**\n * Hashes the type of an object.\n *\n * @param primaryType - The root type to hash.\n * @param types - Type definitions for all types included in the message.\n * @returns The hash of the object type.\n */\nfunction hashType(\n  primaryType: string,\n  types: Record<string, MessageTypeProperty[]>,\n): Buffer {\n  return keccak(encodeType(primaryType, types));\n}\n\n/**\n * Removes properties from a message object that are not defined per EIP-712.\n *\n * @param data - The typed message object.\n * @returns The typed message object with only allowed fields.\n */\nfunction sanitizeData<T extends MessageTypes>(\n  data: TypedMessage<T>,\n): TypedMessage<T> {\n  const sanitizedData: Partial<TypedMessage<T>> = {};\n  for (const key in TYPED_MESSAGE_SCHEMA.properties) {\n    if (data[key]) {\n      sanitizedData[key] = data[key];\n    }\n  }\n\n  if ('types' in sanitizedData) {\n    sanitizedData.types = { EIP712Domain: [], ...sanitizedData.types };\n  }\n  return sanitizedData as Required<TypedMessage<T>>;\n}\n\n/**\n * Hash a typed message according to EIP-712. The returned message starts with the EIP-712 prefix,\n * which is \"1901\", followed by the hash of the domain separator, then the data (if any).\n * The result is hashed again and returned.\n *\n * This function does not sign the message. The resulting hash must still be signed to create an\n * EIP-712 signature.\n *\n * @param typedData - The typed message to hash.\n * @param version - The EIP-712 version the encoding should comply with.\n * @returns The hash of the typed message.\n */\nfunction eip712Hash<T extends MessageTypes>(\n  typedData: TypedMessage<T>,\n  version: SignTypedDataVersion.V3 | SignTypedDataVersion.V4,\n): Buffer {\n  validateVersion(version, [SignTypedDataVersion.V3, SignTypedDataVersion.V4]);\n\n  const sanitizedData = sanitizeData(typedData);\n  const parts = [Buffer.from('1901', 'hex')];\n  parts.push(\n    hashStruct(\n      'EIP712Domain',\n      sanitizedData.domain,\n      sanitizedData.types,\n      version,\n    ),\n  );\n\n  if (sanitizedData.primaryType !== 'EIP712Domain') {\n    parts.push(\n      hashStruct(\n        // TODO: Validate that this is a string, so this type cast can be removed.\n        sanitizedData.primaryType as string,\n        sanitizedData.message,\n        sanitizedData.types,\n        version,\n      ),\n    );\n  }\n  return keccak(Buffer.concat(parts));\n}\n\n/**\n * A collection of utility functions used for signing typed data.\n */\nexport const TypedDataUtils = {\n  encodeData,\n  encodeType,\n  findTypeDependencies,\n  hashStruct,\n  hashType,\n  sanitizeData,\n  eip712Hash,\n};\n\n/**\n * Generate the \"V1\" hash for the provided typed message.\n *\n * The hash will be generated in accordance with an earlier version of the EIP-712\n * specification. This hash is used in `signTypedData_v1`.\n *\n * @param typedData - The typed message.\n * @returns The '0x'-prefixed hex encoded hash representing the type of the provided message.\n */\nexport function typedSignatureHash(typedData: TypedDataV1Field[]): string {\n  const hashBuffer = _typedSignatureHash(typedData);\n  return bufferToHex(hashBuffer);\n}\n\n/**\n * Generate the \"V1\" hash for the provided typed message.\n *\n * The hash will be generated in accordance with an earlier version of the EIP-712\n * specification. This hash is used in `signTypedData_v1`.\n *\n * @param typedData - The typed message.\n * @returns The hash representing the type of the provided message.\n */\nfunction _typedSignatureHash(typedData: TypedDataV1): Buffer {\n  const error = new Error('Expect argument to be non-empty array');\n  if (\n    typeof typedData !== 'object' ||\n    !('length' in typedData) ||\n    !typedData.length\n  ) {\n    throw error;\n  }\n\n  const data = typedData.map(function (e) {\n    if (e.type !== 'bytes') {\n      return e.value;\n    }\n\n    return legacyToBuffer(e.value);\n  });\n  const types = typedData.map(function (e) {\n    return e.type;\n  });\n  const schema = typedData.map(function (e) {\n    if (!e.name) {\n      throw error;\n    }\n    return `${e.type} ${e.name}`;\n  });\n\n  return soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      soliditySHA3(types, data),\n    ],\n  );\n}\n\n/**\n * Sign typed data according to EIP-712. The signing differs based upon the `version`.\n *\n * V1 is based upon [an early version of EIP-712](https://github.com/ethereum/EIPs/pull/712/commits/21abe254fe0452d8583d5b132b1d7be87c0439ca)\n * that lacked some later security improvements, and should generally be neglected in favor of\n * later versions.\n *\n * V3 is based on [EIP-712](https://eips.ethereum.org/EIPS/eip-712), except that arrays and\n * recursive data structures are not supported.\n *\n * V4 is based on [EIP-712](https://eips.ethereum.org/EIPS/eip-712), and includes full support of\n * arrays and recursive data structures.\n *\n * @param options - The signing options.\n * @param options.privateKey - The private key to sign with.\n * @param options.data - The typed data to sign.\n * @param options.version - The signing version to use.\n * @returns The '0x'-prefixed hex encoded signature.\n */\nexport function signTypedData<\n  V extends SignTypedDataVersion,\n  T extends MessageTypes,\n>({\n  privateKey,\n  data,\n  version,\n}: {\n  privateKey: Buffer;\n  data: V extends 'V1' ? TypedDataV1 : TypedMessage<T>;\n  version: V;\n}): string {\n  validateVersion(version);\n  if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(privateKey)) {\n    throw new Error('Missing private key parameter');\n  }\n\n  const messageHash =\n    version === SignTypedDataVersion.V1\n      ? _typedSignatureHash(data as TypedDataV1)\n      : TypedDataUtils.eip712Hash(\n          data as TypedMessage<T>,\n          version as SignTypedDataVersion.V3 | SignTypedDataVersion.V4,\n        );\n  const sig = ecsign(messageHash, privateKey);\n  return concatSig(toBuffer(sig.v), sig.r, sig.s);\n}\n\n/**\n * Recover the address of the account that created the given EIP-712\n * signature. The version provided must match the version used to\n * create the signature.\n *\n * @param options - The signature recovery options.\n * @param options.data - The typed data that was signed.\n * @param options.signature - The '0x-prefixed hex encoded message signature.\n * @param options.version - The signing version to use.\n * @returns The '0x'-prefixed hex address of the signer.\n */\nexport function recoverTypedSignature<\n  V extends SignTypedDataVersion,\n  T extends MessageTypes,\n>({\n  data,\n  signature,\n  version,\n}: {\n  data: V extends 'V1' ? TypedDataV1 : TypedMessage<T>;\n  signature: string;\n  version: V;\n}): string {\n  validateVersion(version);\n  if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(signature)) {\n    throw new Error('Missing signature parameter');\n  }\n\n  const messageHash =\n    version === SignTypedDataVersion.V1\n      ? _typedSignatureHash(data as TypedDataV1)\n      : TypedDataUtils.eip712Hash(\n          data as TypedMessage<T>,\n          version as SignTypedDataVersion.V3 | SignTypedDataVersion.V4,\n        );\n  const publicKey = recoverPublicKey(messageHash, signature);\n  const sender = publicToAddress(publicKey);\n  return bufferToHex(sender);\n}\n","import * as nacl from 'tweetnacl';\nimport * as naclUtil from 'tweetnacl-util';\n\nimport { isNullish } from './utils';\n\nexport interface EthEncryptedData {\n  version: string;\n  nonce: string;\n  ephemPublicKey: string;\n  ciphertext: string;\n}\n\n/**\n * Encrypt a message.\n *\n * @param options - The encryption options.\n * @param options.publicKey - The public key of the message recipient.\n * @param options.data - The message data.\n * @param options.version - The type of encryption to use.\n * @returns The encrypted data.\n */\nexport function encrypt({\n  publicKey,\n  data,\n  version,\n}: {\n  publicKey: string;\n  data: unknown;\n  version: string;\n}): EthEncryptedData {\n  if (isNullish(publicKey)) {\n    throw new Error('Missing publicKey parameter');\n  } else if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(version)) {\n    throw new Error('Missing version parameter');\n  }\n\n  switch (version) {\n    case 'x25519-xsalsa20-poly1305': {\n      if (typeof data !== 'string') {\n        throw new Error('Message data must be given as a string');\n      }\n      // generate ephemeral keypair\n      const ephemeralKeyPair = nacl.box.keyPair();\n\n      // assemble encryption parameters - from string to UInt8\n      let pubKeyUInt8Array;\n      try {\n        pubKeyUInt8Array = naclUtil.decodeBase64(publicKey);\n      } catch (err) {\n        throw new Error('Bad public key');\n      }\n\n      const msgParamsUInt8Array = naclUtil.decodeUTF8(data);\n      const nonce = nacl.randomBytes(nacl.box.nonceLength);\n\n      // encrypt\n      const encryptedMessage = nacl.box(\n        msgParamsUInt8Array,\n        nonce,\n        pubKeyUInt8Array,\n        ephemeralKeyPair.secretKey,\n      );\n\n      // handle encrypted data\n      const output = {\n        version: 'x25519-xsalsa20-poly1305',\n        nonce: naclUtil.encodeBase64(nonce),\n        ephemPublicKey: naclUtil.encodeBase64(ephemeralKeyPair.publicKey),\n        ciphertext: naclUtil.encodeBase64(encryptedMessage),\n      };\n      // return encrypted msg data\n      return output;\n    }\n\n    default:\n      throw new Error('Encryption type/version not supported');\n  }\n}\n\n/**\n * Encrypt a message in a way that obscures the message length.\n *\n * The message is padded to a multiple of 2048 before being encrypted so that the length of the\n * resulting encrypted message can't be used to guess the exact length of the original message.\n *\n * @param options - The encryption options.\n * @param options.publicKey - The public key of the message recipient.\n * @param options.data - The message data.\n * @param options.version - The type of encryption to use.\n * @returns The encrypted data.\n */\nexport function encryptSafely({\n  publicKey,\n  data,\n  version,\n}: {\n  publicKey: string;\n  data: unknown;\n  version: string;\n}): EthEncryptedData {\n  if (isNullish(publicKey)) {\n    throw new Error('Missing publicKey parameter');\n  } else if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(version)) {\n    throw new Error('Missing version parameter');\n  }\n\n  const DEFAULT_PADDING_LENGTH = 2 ** 11;\n  const NACL_EXTRA_BYTES = 16;\n\n  if (typeof data === 'object' && 'toJSON' in data) {\n    // remove toJSON attack vector\n    // TODO, check all possible children\n    throw new Error(\n      'Cannot encrypt with toJSON property.  Please remove toJSON property',\n    );\n  }\n\n  // add padding\n  const dataWithPadding = {\n    data,\n    padding: '',\n  };\n\n  // calculate padding\n  const dataLength = Buffer.byteLength(\n    JSON.stringify(dataWithPadding),\n    'utf-8',\n  );\n  const modVal = dataLength % DEFAULT_PADDING_LENGTH;\n  let padLength = 0;\n  // Only pad if necessary\n  if (modVal > 0) {\n    padLength = DEFAULT_PADDING_LENGTH - modVal - NACL_EXTRA_BYTES; // nacl extra bytes\n  }\n  dataWithPadding.padding = '0'.repeat(padLength);\n\n  const paddedMessage = JSON.stringify(dataWithPadding);\n  return encrypt({ publicKey, data: paddedMessage, version });\n}\n\n/**\n * Decrypt a message.\n *\n * @param options - The decryption options.\n * @param options.encryptedData - The encrypted data.\n * @param options.privateKey - The private key to decrypt with.\n * @returns The decrypted message.\n */\nexport function decrypt({\n  encryptedData,\n  privateKey,\n}: {\n  encryptedData: EthEncryptedData;\n  privateKey: string;\n}): string {\n  if (isNullish(encryptedData)) {\n    throw new Error('Missing encryptedData parameter');\n  } else if (isNullish(privateKey)) {\n    throw new Error('Missing privateKey parameter');\n  }\n\n  switch (encryptedData.version) {\n    case 'x25519-xsalsa20-poly1305': {\n      // string to buffer to UInt8Array\n      const recieverPrivateKeyUint8Array = nacl_decodeHex(privateKey);\n      const recieverEncryptionPrivateKey = nacl.box.keyPair.fromSecretKey(\n        recieverPrivateKeyUint8Array,\n      ).secretKey;\n\n      // assemble decryption parameters\n      const nonce = naclUtil.decodeBase64(encryptedData.nonce);\n      const ciphertext = naclUtil.decodeBase64(encryptedData.ciphertext);\n      const ephemPublicKey = naclUtil.decodeBase64(\n        encryptedData.ephemPublicKey,\n      );\n\n      // decrypt\n      const decryptedMessage = nacl.box.open(\n        ciphertext,\n        nonce,\n        ephemPublicKey,\n        recieverEncryptionPrivateKey,\n      );\n\n      // return decrypted msg data\n      let output;\n      try {\n        output = naclUtil.encodeUTF8(decryptedMessage);\n      } catch (err) {\n        throw new Error('Decryption failed.');\n      }\n\n      if (output) {\n        return output;\n      }\n      throw new Error('Decryption failed.');\n    }\n\n    default:\n      throw new Error('Encryption type/version not supported.');\n  }\n}\n\n/**\n * Decrypt a message that has been encrypted using `encryptSafely`.\n *\n * @param options - The decryption options.\n * @param options.encryptedData - The encrypted data.\n * @param options.privateKey - The private key to decrypt with.\n * @returns The decrypted message.\n */\nexport function decryptSafely({\n  encryptedData,\n  privateKey,\n}: {\n  encryptedData: EthEncryptedData;\n  privateKey: string;\n}): string {\n  if (isNullish(encryptedData)) {\n    throw new Error('Missing encryptedData parameter');\n  } else if (isNullish(privateKey)) {\n    throw new Error('Missing privateKey parameter');\n  }\n\n  const dataWithPadding = JSON.parse(decrypt({ encryptedData, privateKey }));\n  return dataWithPadding.data;\n}\n\n/**\n * Get the encryption public key for the given key.\n *\n * @param privateKey - The private key to generate the encryption public key with.\n * @returns The encryption public key.\n */\nexport function getEncryptionPublicKey(privateKey: string): string {\n  const privateKeyUint8Array = nacl_decodeHex(privateKey);\n  const encryptionPublicKey =\n    nacl.box.keyPair.fromSecretKey(privateKeyUint8Array).publicKey;\n  return naclUtil.encodeBase64(encryptionPublicKey);\n}\n\n/**\n * Convert a hex string to the UInt8Array format used by nacl.\n *\n * @param msgHex - The string to convert.\n * @returns The converted string.\n */\nfunction nacl_decodeHex(msgHex: string): Uint8Array {\n  const msgBase64 = Buffer.from(msgHex, 'hex').toString('base64');\n  return naclUtil.decodeBase64(msgBase64);\n}\n","(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = Math.floor((x[j] + 128) / 256);\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto');\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n","// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  'use strict';\n  if (typeof module !== 'undefined' && module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(this, function() {\n  'use strict';\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n","'use strict';\n\nvar urilib = require('url');\n\nvar attribute = require('./attribute');\nvar helpers = require('./helpers');\nvar scanSchema = require('./scan').scan;\nvar ValidatorResult = helpers.ValidatorResult;\nvar ValidatorResultError = helpers.ValidatorResultError;\nvar SchemaError = helpers.SchemaError;\nvar SchemaContext = helpers.SchemaContext;\n//var anonymousBase = 'vnd.jsonschema:///';\nvar anonymousBase = '/';\n\n/**\n * Creates a new Validator object\n * @name Validator\n * @constructor\n */\nvar Validator = function Validator () {\n  // Allow a validator instance to override global custom formats or to have their\n  // own custom formats.\n  this.customFormats = Object.create(Validator.prototype.customFormats);\n  this.schemas = {};\n  this.unresolvedRefs = [];\n\n  // Use Object.create to make this extensible without Validator instances stepping on each other's toes.\n  this.types = Object.create(types);\n  this.attributes = Object.create(attribute.validators);\n};\n\n// Allow formats to be registered globally.\nValidator.prototype.customFormats = {};\n\n// Hint at the presence of a property\nValidator.prototype.schemas = null;\nValidator.prototype.types = null;\nValidator.prototype.attributes = null;\nValidator.prototype.unresolvedRefs = null;\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param schema\n * @param urn\n * @return {Object}\n */\nValidator.prototype.addSchema = function addSchema (schema, base) {\n  var self = this;\n  if (!schema) {\n    return null;\n  }\n  var scan = scanSchema(base||anonymousBase, schema);\n  var ourUri = base || schema.$id || schema.id;\n  for(var uri in scan.id){\n    this.schemas[uri] = scan.id[uri];\n  }\n  for(var uri in scan.ref){\n    // If this schema is already defined, it will be filtered out by the next step\n    this.unresolvedRefs.push(uri);\n  }\n  // Remove newly defined schemas from unresolvedRefs\n  this.unresolvedRefs = this.unresolvedRefs.filter(function(uri){\n    return typeof self.schemas[uri]==='undefined';\n  });\n  return this.schemas[ourUri];\n};\n\nValidator.prototype.addSubSchemaArray = function addSubSchemaArray(baseuri, schemas) {\n  if(!Array.isArray(schemas)) return;\n  for(var i=0; i<schemas.length; i++){\n    this.addSubSchema(baseuri, schemas[i]);\n  }\n};\n\nValidator.prototype.addSubSchemaObject = function addSubSchemaArray(baseuri, schemas) {\n  if(!schemas || typeof schemas!='object') return;\n  for(var p in schemas){\n    this.addSubSchema(baseuri, schemas[p]);\n  }\n};\n\n\n\n/**\n * Sets all the schemas of the Validator instance.\n * @param schemas\n */\nValidator.prototype.setSchemas = function setSchemas (schemas) {\n  this.schemas = schemas;\n};\n\n/**\n * Returns the schema of a certain urn\n * @param urn\n */\nValidator.prototype.getSchema = function getSchema (urn) {\n  return this.schemas[urn];\n};\n\n/**\n * Validates instance against the provided schema\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {Array}\n */\nValidator.prototype.validate = function validate (instance, schema, options, ctx) {\n  if((typeof schema !== 'boolean' && typeof schema !== 'object') || schema === null){\n    throw new SchemaError('Expected `schema` to be an object or boolean');\n  }\n  if (!options) {\n    options = {};\n  }\n  // This section indexes subschemas in the provided schema, so they don't need to be added with Validator#addSchema\n  // This will work so long as the function at uri.resolve() will resolve a relative URI to a relative URI\n  var id = schema.$id || schema.id;\n  var base = urilib.resolve(options.base||anonymousBase, id||'');\n  if(!ctx){\n    ctx = new SchemaContext(schema, options, [], base, Object.create(this.schemas));\n    if (!ctx.schemas[base]) {\n      ctx.schemas[base] = schema;\n    }\n    var found = scanSchema(base, schema);\n    for(var n in found.id){\n      var sch = found.id[n];\n      ctx.schemas[n] = sch;\n    }\n  }\n  if(options.required && instance===undefined){\n    var result = new ValidatorResult(instance, schema, options, ctx);\n    result.addError('is required, but is undefined');\n    return result;\n  }\n  var result = this.validateSchema(instance, schema, options, ctx);\n  if (!result) {\n    throw new Error('Result undefined');\n  }else if(options.throwAll && result.errors.length){\n    throw new ValidatorResultError(result);\n  }\n  return result;\n};\n\n/**\n* @param Object schema\n* @return mixed schema uri or false\n*/\nfunction shouldResolve(schema) {\n  var ref = (typeof schema === 'string') ? schema : schema.$ref;\n  if (typeof ref=='string') return ref;\n  return false;\n}\n\n/**\n * Validates an instance against the schema (the actual work horse)\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @private\n * @return {ValidatorResult}\n */\nValidator.prototype.validateSchema = function validateSchema (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  // Support for the true/false schemas\n  if(typeof schema==='boolean') {\n    if(schema===true){\n      // `true` is always valid\n      schema = {};\n    }else if(schema===false){\n      // `false` is always invalid\n      schema = {type: []};\n    }\n  }else if(!schema){\n    // This might be a string\n    throw new Error(\"schema is undefined\");\n  }\n\n  if (schema['extends']) {\n    if (Array.isArray(schema['extends'])) {\n      var schemaobj = {schema: schema, ctx: ctx};\n      schema['extends'].forEach(this.schemaTraverser.bind(this, schemaobj));\n      schema = schemaobj.schema;\n      schemaobj.schema = null;\n      schemaobj.ctx = null;\n      schemaobj = null;\n    } else {\n      schema = helpers.deepMerge(schema, this.superResolve(schema['extends'], ctx));\n    }\n  }\n\n  // If passed a string argument, load that schema URI\n  var switchSchema = shouldResolve(schema);\n  if (switchSchema) {\n    var resolved = this.resolve(schema, switchSchema, ctx);\n    var subctx = new SchemaContext(resolved.subschema, options, ctx.path, resolved.switchSchema, ctx.schemas);\n    return this.validateSchema(instance, resolved.subschema, options, subctx);\n  }\n\n  var skipAttributes = options && options.skipAttributes || [];\n  // Validate each schema attribute against the instance\n  for (var key in schema) {\n    if (!attribute.ignoreProperties[key] && skipAttributes.indexOf(key) < 0) {\n      var validatorErr = null;\n      var validator = this.attributes[key];\n      if (validator) {\n        validatorErr = validator.call(this, instance, schema, options, ctx);\n      } else if (options.allowUnknownAttributes === false) {\n        // This represents an error with the schema itself, not an invalid instance\n        throw new SchemaError(\"Unsupported attribute: \" + key, schema);\n      }\n      if (validatorErr) {\n        result.importErrors(validatorErr);\n      }\n    }\n  }\n\n  if (typeof options.rewrite == 'function') {\n    var value = options.rewrite.call(this, instance, schema, options, ctx);\n    result.instance = value;\n  }\n  return result;\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.schemaTraverser = function schemaTraverser (schemaobj, s) {\n  schemaobj.schema = helpers.deepMerge(schemaobj.schema, this.superResolve(s, schemaobj.ctx));\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.superResolve = function superResolve (schema, ctx) {\n  var ref = shouldResolve(schema);\n  if(ref) {\n    return this.resolve(schema, ref, ctx).subschema;\n  }\n  return schema;\n};\n\n/**\n* @private\n* @param Object schema\n* @param Object switchSchema\n* @param SchemaContext ctx\n* @return Object resolved schemas {subschema:String, switchSchema: String}\n* @throws SchemaError\n*/\nValidator.prototype.resolve = function resolve (schema, switchSchema, ctx) {\n  switchSchema = ctx.resolve(switchSchema);\n  // First see if the schema exists under the provided URI\n  if (ctx.schemas[switchSchema]) {\n    return {subschema: ctx.schemas[switchSchema], switchSchema: switchSchema};\n  }\n  // Else try walking the property pointer\n  var parsed = urilib.parse(switchSchema);\n  var fragment = parsed && parsed.hash;\n  var document = fragment && fragment.length && switchSchema.substr(0, switchSchema.length - fragment.length);\n  if (!document || !ctx.schemas[document]) {\n    throw new SchemaError(\"no such schema <\" + switchSchema + \">\", schema);\n  }\n  var subschema = helpers.objectGetPath(ctx.schemas[document], fragment.substr(1));\n  if(subschema===undefined){\n    throw new SchemaError(\"no such schema \" + fragment + \" located in <\" + document + \">\", schema);\n  }\n  return {subschema: subschema, switchSchema: switchSchema};\n};\n\n/**\n * Tests whether the instance if of a certain type.\n * @private\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @param type\n * @return {boolean}\n */\nValidator.prototype.testType = function validateType (instance, schema, options, ctx, type) {\n  if(type===undefined){\n    return;\n  }else if(type===null){\n    throw new SchemaError('Unexpected null in \"type\" keyword');\n  }\n  if (typeof this.types[type] == 'function') {\n    return this.types[type].call(this, instance);\n  }\n  if (type && typeof type == 'object') {\n    var res = this.validateSchema(instance, type, options, ctx);\n    return res === undefined || !(res && res.errors.length);\n  }\n  // Undefined or properties not on the list are acceptable, same as not being defined\n  return true;\n};\n\nvar types = Validator.prototype.types = {};\ntypes.string = function testString (instance) {\n  return typeof instance == 'string';\n};\ntypes.number = function testNumber (instance) {\n  // isFinite returns false for NaN, Infinity, and -Infinity\n  return typeof instance == 'number' && isFinite(instance);\n};\ntypes.integer = function testInteger (instance) {\n  return (typeof instance == 'number') && instance % 1 === 0;\n};\ntypes.boolean = function testBoolean (instance) {\n  return typeof instance == 'boolean';\n};\ntypes.array = function testArray (instance) {\n  return Array.isArray(instance);\n};\ntypes['null'] = function testNull (instance) {\n  return instance === null;\n};\ntypes.date = function testDate (instance) {\n  return instance instanceof Date;\n};\ntypes.any = function testAny (instance) {\n  return true;\n};\ntypes.object = function testObject (instance) {\n  // TODO: fix this - see #15\n  return instance && (typeof instance === 'object') && !(Array.isArray(instance)) && !(instance instanceof Date);\n};\n\nmodule.exports = Validator;\n","'use strict';\n\nvar helpers = require('./helpers');\n\n/** @type ValidatorResult */\nvar ValidatorResult = helpers.ValidatorResult;\n/** @type SchemaError */\nvar SchemaError = helpers.SchemaError;\n\nvar attribute = {};\n\nattribute.ignoreProperties = {\n  // informative properties\n  'id': true,\n  'default': true,\n  'description': true,\n  'title': true,\n  // arguments to other properties\n  'additionalItems': true,\n  'then': true,\n  'else': true,\n  // special-handled properties\n  '$schema': true,\n  '$ref': true,\n  'extends': true,\n};\n\n/**\n * @name validators\n */\nvar validators = attribute.validators = {};\n\n/**\n * Validates whether the instance if of a certain type\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.type = function validateType (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var types = Array.isArray(schema.type) ? schema.type : [schema.type];\n  if (!types.some(this.testType.bind(this, instance, schema, options, ctx))) {\n    var list = types.map(function (v) {\n      if(!v) return;\n      var id = v.$id || v.id;\n      return id ? ('<' + id + '>') : (v+'');\n    });\n    result.addError({\n      name: 'type',\n      argument: list,\n      message: \"is not of a type(s) \" + list,\n    });\n  }\n  return result;\n};\n\nfunction testSchemaNoThrow(instance, options, ctx, callback, schema){\n  var throwError = options.throwError;\n  var throwAll = options.throwAll;\n  options.throwError = false;\n  options.throwAll = false;\n  var res = this.validateSchema(instance, schema, options, ctx);\n  options.throwError = throwError;\n  options.throwAll = throwAll;\n\n  if (!res.valid && callback instanceof Function) {\n    callback(res);\n  }\n  return res.valid;\n}\n\n/**\n * Validates whether the instance matches some of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.anyOf = function validateAnyOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  if (!Array.isArray(schema.anyOf)){\n    throw new SchemaError(\"anyOf must be an array\");\n  }\n  if (!schema.anyOf.some(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res){inner.importErrors(res);}\n    ))) {\n    var list = schema.anyOf.map(function (v, i) {\n      var id = v.$id || v.id;\n      if(id) return '<' + id + '>';\n      return(v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n    });\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'anyOf',\n      argument: list,\n      message: \"is not any of \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance matches every given schema\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.allOf = function validateAllOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.allOf)){\n    throw new SchemaError(\"allOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var self = this;\n  schema.allOf.forEach(function(v, i){\n    var valid = self.validateSchema(instance, v, options, ctx);\n    if(!valid.valid){\n      var id = v.$id || v.id;\n      var msg = id || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n      result.addError({\n        name: 'allOf',\n        argument: { id: msg, length: valid.errors.length, valid: valid },\n        message: 'does not match allOf schema ' + msg + ' with ' + valid.errors.length + ' error[s]:',\n      });\n      result.importErrors(valid);\n    }\n  });\n  return result;\n};\n\n/**\n * Validates whether the instance matches exactly one of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.oneOf = function validateOneOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.oneOf)){\n    throw new SchemaError(\"oneOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  var count = schema.oneOf.filter(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res) {inner.importErrors(res);}\n    ) ).length;\n  var list = schema.oneOf.map(function (v, i) {\n    var id = v.$id || v.id;\n    return id || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n  });\n  if (count!==1) {\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'oneOf',\n      argument: list,\n      message: \"is not exactly one from \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates \"then\" or \"else\" depending on the result of validating \"if\"\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.if = function validateIf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) return null;\n  if (!helpers.isSchema(schema.if)) throw new Error('Expected \"if\" keyword to be a schema');\n  var ifValid = testSchemaNoThrow.call(this, instance, options, ctx, null, schema.if);\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var res;\n  if(ifValid){\n    if (schema.then === undefined) return;\n    if (!helpers.isSchema(schema.then)) throw new Error('Expected \"then\" keyword to be a schema');\n    res = this.validateSchema(instance, schema.then, options, ctx.makeChild(schema.then));\n    result.importErrors(res);\n  }else{\n    if (schema.else === undefined) return;\n    if (!helpers.isSchema(schema.else)) throw new Error('Expected \"else\" keyword to be a schema');\n    res = this.validateSchema(instance, schema.else, options, ctx.makeChild(schema.else));\n    result.importErrors(res);\n  }\n  return result;\n};\n\nfunction getEnumerableProperty(object, key){\n  // Determine if `key` shows up in `for(var key in object)`\n  // First test Object.hasOwnProperty.call as an optimization: that guarantees it does\n  if(Object.hasOwnProperty.call(object, key)) return object[key];\n  // Test `key in object` as an optimization; false means it won't\n  if(!(key in object)) return;\n  while( (object = Object.getPrototypeOf(object)) ){\n    if(Object.propertyIsEnumerable.call(object, key)) return object[key];\n  }\n}\n\n/**\n * Validates propertyNames\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.propertyNames = function validatePropertyNames (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var subschema = schema.propertyNames!==undefined ? schema.propertyNames : {};\n  if(!helpers.isSchema(subschema)) throw new SchemaError('Expected \"propertyNames\" to be a schema (object or boolean)');\n\n  for (var property in instance) {\n    if(getEnumerableProperty(instance, property) !== undefined){\n      var res = this.validateSchema(property, subschema, options, ctx.makeChild(subschema));\n      result.importErrors(res);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates properties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.properties = function validateProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var properties = schema.properties || {};\n  for (var property in properties) {\n    var subschema = properties[property];\n    if(subschema===undefined){\n      continue;\n    }else if(subschema===null){\n      throw new SchemaError('Unexpected null, expected schema in \"properties\"');\n    }\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, subschema, options, ctx);\n    }\n    var prop = getEnumerableProperty(instance, property);\n    var res = this.validateSchema(prop, subschema, options, ctx.makeChild(subschema, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n  return result;\n};\n\n/**\n * Test a specific property within in instance against the additionalProperties schema attribute\n * This ignores properties with definitions in the properties schema attribute, but no other attributes.\n * If too many more types of property-existence tests pop up they may need their own class of tests (like `type` has)\n * @private\n * @return {boolean}\n */\nfunction testAdditionalProperty (instance, schema, options, ctx, property, result) {\n  if(!this.types.object(instance)) return;\n  if (schema.properties && schema.properties[property] !== undefined) {\n    return;\n  }\n  if (schema.additionalProperties === false) {\n    result.addError({\n      name: 'additionalProperties',\n      argument: property,\n      message: \"is not allowed to have the additional property \" + JSON.stringify(property),\n    });\n  } else {\n    var additionalProperties = schema.additionalProperties || {};\n\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, additionalProperties, options, ctx);\n    }\n\n    var res = this.validateSchema(instance[property], additionalProperties, options, ctx.makeChild(additionalProperties, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n}\n\n/**\n * Validates patternProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.patternProperties = function validatePatternProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var patternProperties = schema.patternProperties || {};\n\n  for (var property in instance) {\n    var test = true;\n    for (var pattern in patternProperties) {\n      var subschema = patternProperties[pattern];\n      if(subschema===undefined){\n        continue;\n      }else if(subschema===null){\n        throw new SchemaError('Unexpected null, expected schema in \"patternProperties\"');\n      }\n      try {\n        var regexp = new RegExp(pattern, 'u');\n      } catch(_e) {\n        // In the event the stricter handling causes an error, fall back on the forgiving handling\n        // DEPRECATED\n        regexp = new RegExp(pattern);\n      }\n      if (!regexp.test(property)) {\n        continue;\n      }\n      test = false;\n\n      if (typeof options.preValidateProperty == 'function') {\n        options.preValidateProperty(instance, property, subschema, options, ctx);\n      }\n\n      var res = this.validateSchema(instance[property], subschema, options, ctx.makeChild(subschema, property));\n      if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n      result.importErrors(res);\n    }\n    if (test) {\n      testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates additionalProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.additionalProperties = function validateAdditionalProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  // if patternProperties is defined then we'll test when that one is called instead\n  if (schema.patternProperties) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in instance) {\n    testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minProperties = function validateMinProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length >= schema.minProperties)) {\n    result.addError({\n      name: 'minProperties',\n      argument: schema.minProperties,\n      message: \"does not meet minimum property length of \" + schema.minProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxProperties = function validateMaxProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length <= schema.maxProperties)) {\n    result.addError({\n      name: 'maxProperties',\n      argument: schema.maxProperties,\n      message: \"does not meet maximum property length of \" + schema.maxProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates items when instance is an array\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.items = function validateItems (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (schema.items===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  instance.every(function (value, i) {\n    if(Array.isArray(schema.items)){\n      var items =  schema.items[i]===undefined ? schema.additionalItems : schema.items[i];\n    }else{\n      var items = schema.items;\n    }\n    if (items === undefined) {\n      return true;\n    }\n    if (items === false) {\n      result.addError({\n        name: 'items',\n        message: \"additionalItems not permitted\",\n      });\n      return false;\n    }\n    var res = self.validateSchema(value, items, options, ctx.makeChild(items, i));\n    if(res.instance !== result.instance[i]) result.instance[i] = res.instance;\n    result.importErrors(res);\n    return true;\n  });\n  return result;\n};\n\n/**\n * Validates the \"contains\" keyword\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.contains = function validateContains (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (schema.contains===undefined) return;\n  if (!helpers.isSchema(schema.contains)) throw new Error('Expected \"contains\" keyword to be a schema');\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var count = instance.some(function (value, i) {\n    var res = self.validateSchema(value, schema.contains, options, ctx.makeChild(schema.contains, i));\n    return res.errors.length===0;\n  });\n  if(count===false){\n    result.addError({\n      name: 'contains',\n      argument: schema.contains,\n      message: \"must contain an item matching given schema\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates minimum and exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minimum = function validateMinimum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (schema.exclusiveMinimum && schema.exclusiveMinimum === true) {\n    if(!(instance > schema.minimum)){\n      result.addError({\n        name: 'minimum',\n        argument: schema.minimum,\n        message: \"must be greater than \" + schema.minimum,\n      });\n    }\n  } else {\n    if(!(instance >= schema.minimum)){\n      result.addError({\n        name: 'minimum',\n        argument: schema.minimum,\n        message: \"must be greater than or equal to \" + schema.minimum,\n      });\n    }\n  }\n  return result;\n};\n\n/**\n * Validates maximum and exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maximum = function validateMaximum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (schema.exclusiveMaximum && schema.exclusiveMaximum === true) {\n    if(!(instance < schema.maximum)){\n      result.addError({\n        name: 'maximum',\n        argument: schema.maximum,\n        message: \"must be less than \" + schema.maximum,\n      });\n    }\n  } else {\n    if(!(instance <= schema.maximum)){\n      result.addError({\n        name: 'maximum',\n        argument: schema.maximum,\n        message: \"must be less than or equal to \" + schema.maximum,\n      });\n    }\n  }\n  return result;\n};\n\n/**\n * Validates the number form of exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.exclusiveMinimum = function validateExclusiveMinimum (instance, schema, options, ctx) {\n  // Support the boolean form of exclusiveMinimum, which is handled by the \"minimum\" keyword.\n  if(typeof schema.exclusiveMinimum === 'boolean') return;\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = instance > schema.exclusiveMinimum;\n  if (!valid) {\n    result.addError({\n      name: 'exclusiveMinimum',\n      argument: schema.exclusiveMinimum,\n      message: \"must be strictly greater than \" + schema.exclusiveMinimum,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates the number form of exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.exclusiveMaximum = function validateExclusiveMaximum (instance, schema, options, ctx) {\n  // Support the boolean form of exclusiveMaximum, which is handled by the \"maximum\" keyword.\n  if(typeof schema.exclusiveMaximum === 'boolean') return;\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = instance < schema.exclusiveMaximum;\n  if (!valid) {\n    result.addError({\n      name: 'exclusiveMaximum',\n      argument: schema.exclusiveMaximum,\n      message: \"must be strictly less than \" + schema.exclusiveMaximum,\n    });\n  }\n  return result;\n};\n\n/**\n * Perform validation for multipleOf and divisibleBy, which are essentially the same.\n * @param instance\n * @param schema\n * @param validationType\n * @param errorMessage\n * @returns {String|null}\n */\nvar validateMultipleOfOrDivisbleBy = function validateMultipleOfOrDivisbleBy (instance, schema, options, ctx, validationType, errorMessage) {\n  if (!this.types.number(instance)) return;\n\n  var validationArgument = schema[validationType];\n  if (validationArgument == 0) {\n    throw new SchemaError(validationType + \" cannot be zero\");\n  }\n\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  var instanceDecimals = helpers.getDecimalPlaces(instance);\n  var divisorDecimals = helpers.getDecimalPlaces(validationArgument);\n\n  var maxDecimals = Math.max(instanceDecimals , divisorDecimals);\n  var multiplier = Math.pow(10, maxDecimals);\n\n  if (Math.round(instance * multiplier) % Math.round(validationArgument * multiplier) !== 0) {\n    result.addError({\n      name: validationType,\n      argument:  validationArgument,\n      message: errorMessage + JSON.stringify(validationArgument),\n    });\n  }\n\n  return result;\n};\n\n/**\n * Validates divisibleBy when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.multipleOf = function validateMultipleOf (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"multipleOf\", \"is not a multiple of (divisible by) \");\n};\n\n/**\n * Validates multipleOf when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.divisibleBy = function validateDivisibleBy (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"divisibleBy\", \"is not divisible by (multiple of) \");\n};\n\n/**\n * Validates whether the instance value is present.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.required = function validateRequired (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (instance === undefined && schema.required === true) {\n    // A boolean form is implemented for reverse-compatibility with schemas written against older drafts\n    result.addError({\n      name: 'required',\n      message: \"is required\",\n    });\n  } else if (this.types.object(instance) && Array.isArray(schema.required)) {\n    schema.required.forEach(function(n){\n      if(getEnumerableProperty(instance, n)===undefined){\n        result.addError({\n          name: 'required',\n          argument: n,\n          message: \"requires property \" + JSON.stringify(n),\n        });\n      }\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value matches the regular expression, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.pattern = function validatePattern (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var pattern = schema.pattern;\n  try {\n    var regexp = new RegExp(pattern, 'u');\n  } catch(_e) {\n    // In the event the stricter handling causes an error, fall back on the forgiving handling\n    // DEPRECATED\n    regexp = new RegExp(pattern);\n  }\n  if (!instance.match(regexp)) {\n    result.addError({\n      name: 'pattern',\n      argument: schema.pattern,\n      message: \"does not match pattern \" + JSON.stringify(schema.pattern.toString()),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is of a certain defined format or a custom\n * format.\n * The following formats are supported for string types:\n *   - date-time\n *   - date\n *   - time\n *   - ip-address\n *   - ipv6\n *   - uri\n *   - color\n *   - host-name\n *   - alpha\n *   - alpha-numeric\n *   - utc-millisec\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {String|null}\n */\nvalidators.format = function validateFormat (instance, schema, options, ctx) {\n  if (instance===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!result.disableFormat && !helpers.isFormat(instance, schema.format, this)) {\n    result.addError({\n      name: 'format',\n      argument: schema.format,\n      message: \"does not conform to the \" + JSON.stringify(schema.format) + \" format\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minLength = function validateMinLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length >= schema.minLength)) {\n    result.addError({\n      name: 'minLength',\n      argument: schema.minLength,\n      message: \"does not meet minimum length of \" + schema.minLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxLength = function validateMaxLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  // TODO if this was already computed in \"minLength\", use that value instead of re-computing\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length <= schema.maxLength)) {\n    result.addError({\n      name: 'maxLength',\n      argument: schema.maxLength,\n      message: \"does not meet maximum length of \" + schema.maxLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains at least a minimum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minItems = function validateMinItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length >= schema.minItems)) {\n    result.addError({\n      name: 'minItems',\n      argument: schema.minItems,\n      message: \"does not meet minimum length of \" + schema.minItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains no more than a maximum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxItems = function validateMaxItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length <= schema.maxItems)) {\n    result.addError({\n      name: 'maxItems',\n      argument: schema.maxItems,\n      message: \"does not meet maximum length of \" + schema.maxItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Deep compares arrays for duplicates\n * @param v\n * @param i\n * @param a\n * @private\n * @return {boolean}\n */\nfunction testArrays (v, i, a) {\n  var j, len = a.length;\n  for (j = i + 1, len; j < len; j++) {\n    if (helpers.deepCompareStrict(v, a[j])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Validates whether there are no duplicates, when the instance is an Array.\n * @param instance\n * @return {String|null}\n */\nvalidators.uniqueItems = function validateUniqueItems (instance, schema, options, ctx) {\n  if (schema.uniqueItems!==true) return;\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!instance.every(testArrays)) {\n    result.addError({\n      name: 'uniqueItems',\n      message: \"contains duplicate item\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validate for the presence of dependency properties, if the instance is an object.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.dependencies = function validateDependencies (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in schema.dependencies) {\n    if (instance[property] === undefined) {\n      continue;\n    }\n    var dep = schema.dependencies[property];\n    var childContext = ctx.makeChild(dep, property);\n    if (typeof dep == 'string') {\n      dep = [dep];\n    }\n    if (Array.isArray(dep)) {\n      dep.forEach(function (prop) {\n        if (instance[prop] === undefined) {\n          result.addError({\n            // FIXME there's two different \"dependencies\" errors here with slightly different outputs\n            // Can we make these the same? Or should we create different error types?\n            name: 'dependencies',\n            argument: childContext.propertyPath,\n            message: \"property \" + prop + \" not found, required by \" + childContext.propertyPath,\n          });\n        }\n      });\n    } else {\n      var res = this.validateSchema(instance, dep, options, childContext);\n      if(result.instance !== res.instance) result.instance = res.instance;\n      if (res && res.errors.length) {\n        result.addError({\n          name: 'dependencies',\n          argument: childContext.propertyPath,\n          message: \"does not meet dependency required by \" + childContext.propertyPath,\n        });\n        result.importErrors(res);\n      }\n    }\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is one of the enumerated values.\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['enum'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema['enum'])) {\n    throw new SchemaError(\"enum expects an array\", schema);\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!schema['enum'].some(helpers.deepCompareStrict.bind(null, instance))) {\n    result.addError({\n      name: 'enum',\n      argument: schema['enum'],\n      message: \"is not one of enum values: \" + schema['enum'].map(String).join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance exactly matches a given value\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['const'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!helpers.deepCompareStrict(schema['const'], instance)) {\n    result.addError({\n      name: 'const',\n      argument: schema['const'],\n      message: \"does not exactly match expected constant: \" + schema['const'],\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance if of a prohibited type.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.not = validators.disallow = function validateNot (instance, schema, options, ctx) {\n  var self = this;\n  if(instance===undefined) return null;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var notTypes = schema.not || schema.disallow;\n  if(!notTypes) return null;\n  if(!Array.isArray(notTypes)) notTypes=[notTypes];\n  notTypes.forEach(function (type) {\n    if (self.testType(instance, schema, options, ctx, type)) {\n      var id = type && (type.$id || type.id);\n      var schemaId = id || type;\n      result.addError({\n        name: 'not',\n        argument: schemaId,\n        message: \"is of prohibited type \" + schemaId,\n      });\n    }\n  });\n  return result;\n};\n\nmodule.exports = attribute;\n"],"sourceRoot":""}