(this["webpackJsonptravel-coin"]=this["webpackJsonptravel-coin"]||[]).push([[16],{2384:function(e,r,t){"use strict";t.r(r),function(e){t.d(r,"PhantomInjectedProvider",(function(){return z})),t.d(r,"SlopeInjectedProxyProvider",(function(){return D})),t.d(r,"SolanaPrivateKeyProvider",(function(){return V})),t.d(r,"SolanaWallet",(function(){return X})),t.d(r,"SolflareInjectedProvider",(function(){return U})),t.d(r,"SolletInjectedProvider",(function(){return B})),t.d(r,"TorusInjectedProvider",(function(){return W}));var n=t(279),a=t(6),c=t(7),s=t(12),i=t(13),u=t(1),o=t(16),p=t(20),f=t.n(p),h=t(2125),d=t(2054),v=t(17),b=t(2124),l=t(2385),g=t.n(l),O=t(226),j=t(2088),m=t(2071),w=t.n(m);function y(e){return function(r,t,n,a){return"solana_chainId"===r.method?(t.result=e,a()):n()}}function x(e){return function(r,t,n,a){return"solana_provider_config"===r.method?(t.result=e,a()):n()}}function k(e){var r=e.chainId;return Object(d.i)([y(r),x(e)])}function P(e){var r=e.rpcTarget,t=Object(h.c)({rpcTarget:r});return{networkMiddleware:Object(d.i)([k(e),t]),fetchMiddleware:t}}function E(e){var r=e.getAccounts;return Object(d.d)(function(){var e=Object(o.a)(Object(u.a)().mark((function e(t,n,a){var c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("getAccounts"===t.method){e.next=3;break}return e.abrupt("return",a());case 3:if(r){e.next=5;break}throw new Error("WalletMiddleware - opts.getAccounts not provided");case 5:return e.next=7,r(t);case 7:return c=e.sent,n.result=c,e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}())}function A(e){var r=e.requestAccounts;return Object(d.d)(function(){var e=Object(o.a)(Object(u.a)().mark((function e(t,n,a){var c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("requestAccounts"===t.method){e.next=3;break}return e.abrupt("return",a());case 3:if(r){e.next=5;break}throw new Error("WalletMiddleware - opts.requestAccounts not provided");case 5:return e.next=7,r(t);case 7:return c=e.sent,n.result=c,e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}())}function S(e,r){return Object(d.d)(function(){var t=Object(o.a)(Object(u.a)().mark((function t(n,a,c){var s;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.method===e){t.next=3;break}return t.abrupt("return",c());case 3:if(r){t.next=5;break}throw new Error("WalletMiddleware - ".concat(e," not provided"));case 5:return t.next=7,r(n);case 7:return s=t.sent,a.result=s,t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}())}function T(e){var r=e.getAccounts,t=e.requestAccounts,n=e.signTransaction,a=e.signAndSendTransaction,c=e.signAllTransactions,s=e.signMessage,i=e.getPrivateKey,u=e.getSecretKey;return Object(d.i)([A({requestAccounts:t}),E({getAccounts:r}),S("signTransaction",n),S("signAndSendTransaction",a),S("signAllTransactions",c),S("signMessage",s),S("solanaPrivateKey",i),S("solanaSecretKey",u)])}function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function I(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){f()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var K=function(e){Object(s.a)(t,e);var r=Object(i.a)(t);function t(e){Object(a.a)(this,t);var n=e.config,c=e.state;return r.call(this,{config:{chainConfig:I(I({},n.chainConfig),{},{chainNamespace:v.g.SOLANA})},state:c})}return Object(c.a)(t,[{key:"switchChain",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"setupProvider",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t,n,a,c,s,i;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.a,n=this.getProviderHandlers(r),a=T(n),t.push(a),c=k(this.config.chainConfig),t.push(c),(s=this.getInjectedProviderProxy(r))&&t.push(s),i=Object(h.d)(t),this.updateProviderEngineProxy(i),e.next=12,this.lookupNetwork();case 12:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"lookupNetwork",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){var r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.config.chainConfig,this.update({chainId:r.chainId}),e.abrupt("return",r.chainId||"");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getInjectedProviderProxy",value:function(e){}}]),t}(b.a),q=function(e){var r={requestAccounts:function(){var r=Object(o.a)(Object(u.a)().mark((function r(){return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.publicKey?[g.a.encode(e.publicKey.toBytes())]:[]);case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),getAccounts:function(){var r=Object(o.a)(Object(u.a)().mark((function r(){return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.publicKey?[g.a.encode(e.publicKey.toBytes())]:[]);case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),getPrivateKey:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw O.ethErrors.rpc.methodNotSupported();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSecretKey:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw O.ethErrors.rpc.methodNotSupported();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signTransaction:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.signTransaction(t.params.message);case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),signMessage:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.signMessage(t.params.message,t.params.display);case 2:return n=r.sent,r.abrupt("return",n.signature);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),signAllTransactions:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n,a,c;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==(n=t.params)&&void 0!==n&&n.message&&null!==(a=t.params)&&void 0!==a&&a.message.length){r.next=2;break}throw O.ethErrors.rpc.invalidParams("message");case 2:return r.next=4,e.signAllTransactions(t.params.message);case 4:return c=r.sent,r.abrupt("return",c);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),signAndSendTransaction:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.signAndSendTransaction(t.params.message);case 2:return n=r.sent,r.abrupt("return",{signature:n.signature});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};return r};function M(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?M(Object(t),!0).forEach((function(r){f()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _(e){return Object(d.d)(function(){var r=Object(o.a)(Object(u.a)().mark((function r(t,n,a){var c;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.request(N({},t));case 2:c=r.sent,n.result=c;case 4:case"end":return r.stop()}}),r)})));return function(e,t,n){return r.apply(this,arguments)}}())}var z=function(e){Object(s.a)(t,e);var r=Object(i.a)(t);function t(){return Object(a.a)(this,t),r.apply(this,arguments)}return Object(c.a)(t,[{key:"getProviderHandlers",value:function(e){return q(e)}},{key:"getInjectedProviderProxy",value:function(e){return _(e)}}]),t}(K),D=function(e){Object(s.a)(t,e);var r=Object(i.a)(t);function t(){return Object(a.a)(this,t),r.apply(this,arguments)}return Object(c.a)(t,[{key:"getProviderHandlers",value:function(e){return function(e,r){var t={requestAccounts:function(){var r=Object(o.a)(Object(u.a)().mark((function r(){var t,n;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.connect();case 2:return t=r.sent,n=t.data,r.abrupt("return",[n.publicKey]);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),getAccounts:function(){var r=Object(o.a)(Object(u.a)().mark((function r(){var t,n;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.connect();case 2:return t=r.sent,n=t.data,r.abrupt("return",[n.publicKey]);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),getPrivateKey:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw O.ethErrors.rpc.methodNotSupported();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSecretKey:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw O.ethErrors.rpc.methodNotSupported();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signTransaction:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n,a,c,s,i;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.params.message){r.next=3;break}throw O.ethErrors.rpc.invalidRequest({message:"Invalid transaction message"});case 3:return r.next=5,e.signTransaction(g.a.encode(n.serializeMessage()));case 5:if(a=r.sent,(c=a.data).publicKey&&c.signature){r.next=9;break}throw new Error("Invalid signature from slope wallet");case 9:return s=new j.c(c.publicKey),i=g.a.decode(c.signature),n.addSignature(s,i),r.abrupt("return",n);case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),signMessage:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.signMessage(t.params.message);case 2:return n=r.sent,r.abrupt("return",g.a.decode(n.data.signature));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),signAndSendTransaction:function(){var t=Object(o.a)(Object(u.a)().mark((function t(n){var a,c,s,i,o,p,f,h,d;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r()){t.next=3;break}throw O.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 3:if(c=n.params.message){t.next=6;break}throw O.ethErrors.rpc.invalidRequest({message:"Invalid transaction message"});case 6:return t.next=8,e.signTransaction(g.a.encode(c.serializeMessage()));case 8:if(s=t.sent,(i=s.data).publicKey&&i.signature){t.next=12;break}throw new Error("Invalid signature from slope wallet");case 12:return o=new j.c(i.publicKey),p=g.a.decode(i.signature),c.addSignature(o,p),t.next=17,a.request({method:"solana_provider_config",params:[]});case 17:return f=t.sent,h=new j.a(f.rpcTarget),t.next=21,h.sendRawTransaction(c.serialize());case 21:return d=t.sent,t.abrupt("return",{signature:d});case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),signAllTransactions:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n,a,c,s,i,o,p,f,h,d,v,b;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==(n=t.params)&&void 0!==n&&n.message&&null!==(a=t.params)&&void 0!==a&&a.message.length){r.next=2;break}throw O.ethErrors.rpc.invalidParams("message");case 2:for(s=t.params.message,i=s.length,o=[],p=0;p<i;p++)o.push(g.a.encode(t.params.message[p].serializeMessage()));return r.next=8,e.signAllTransactions(o);case 8:if(f=r.sent,h=f.msg,(d=f.data).publicKey&&(null===(c=d.signatures)||void 0===c?void 0:c.length)===i){r.next=13;break}throw new Error(h);case 13:for(v=new j.c(d.publicKey),p=0;p<i;p++)b=g.a.decode(d.signatures[p]),s[p].addSignature(v,b);return r.abrupt("return",s);case 16:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};return t}(e,this.getProviderEngineProxy.bind(this))}}]),t}(K),U=function(e){Object(s.a)(t,e);var r=Object(i.a)(t);function t(){return Object(a.a)(this,t),r.apply(this,arguments)}return Object(c.a)(t,[{key:"getProviderHandlers",value:function(e){return function(e,r){var t=q(e);return t.signAndSendTransaction=function(){var t=Object(o.a)(Object(u.a)().mark((function t(n){var a,c,s,i,o;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r()){t.next=3;break}throw O.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 3:return t.next=5,e.signTransaction(n.params.message);case 5:return c=t.sent,t.next=8,a.request({method:"solana_provider_config",params:[]});case 8:return s=t.sent,i=new j.a(s.rpcTarget),t.next=12,i.sendRawTransaction(c.serialize());case 12:return o=t.sent,t.abrupt("return",{signature:o});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}(e,this.getProviderEngineProxy.bind(this))}}]),t}(K),B=function(e){Object(s.a)(t,e);var r=Object(i.a)(t);function t(){return Object(a.a)(this,t),r.apply(this,arguments)}return Object(c.a)(t,[{key:"getProviderHandlers",value:function(e){return function(e,r){var t=q(e);return t.signMessage=function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n,a;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.sign(t.params.message,"utf8");case 2:return n=r.sent,a=n.signature,r.abrupt("return",a);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),t.signAndSendTransaction=function(){var t=Object(o.a)(Object(u.a)().mark((function t(n){var a,c,s,i,o;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r()){t.next=3;break}throw O.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 3:return t.next=5,e.signTransaction(n.params.message);case 5:return c=t.sent,t.next=8,a.request({method:"solana_provider_config",params:[]});case 8:return s=t.sent,i=new j.a(s.rpcTarget),t.next=12,i.sendRawTransaction(c.serialize());case 12:return o=t.sent,t.abrupt("return",{signature:o});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}(e,this.getProviderEngineProxy.bind(this))}}]),t}(K),H=function(e){var r={requestAccounts:function(){var r=Object(o.a)(Object(u.a)().mark((function r(){var t;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.request({method:"solana_requestAccounts",params:{}});case 2:return t=r.sent,r.abrupt("return",t);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),getAccounts:function(){var r=Object(o.a)(Object(u.a)().mark((function r(){var t;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.request({method:"solana_requestAccounts",params:{}});case 2:return t=r.sent,r.abrupt("return",t);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),getPrivateKey:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw O.ethErrors.rpc.methodNotSupported();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSecretKey:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw O.ethErrors.rpc.methodNotSupported();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signMessage:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n,a;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==(n=t.params)&&void 0!==n&&n.message){r.next=2;break}throw O.ethErrors.rpc.invalidParams("message");case 2:return r.next=4,e.signMessage(t.params.message);case 4:return a=r.sent,r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),signTransaction:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n,a,c;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==(n=t.params)&&void 0!==n&&n.message){r.next=2;break}throw O.ethErrors.rpc.invalidParams("message");case 2:return a=t.params.message,r.next=5,e.signTransaction(a);case 5:return c=r.sent,r.abrupt("return",c);case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),signAndSendTransaction:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n,a,c;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==(n=t.params)&&void 0!==n&&n.message){r.next=2;break}throw O.ethErrors.rpc.invalidParams("message");case 2:return a=t.params.message,r.next=5,e.sendTransaction(a);case 5:return c=r.sent,r.abrupt("return",{signature:c});case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),signAllTransactions:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n,a,c,s;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==(n=t.params)&&void 0!==n&&n.message&&null!==(a=t.params)&&void 0!==a&&a.message.length){r.next=2;break}throw O.ethErrors.rpc.invalidParams("message");case 2:return c=t.params.message,r.next=5,e.signAllTransactions(c);case 5:return s=r.sent,r.abrupt("return",s);case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};return r};function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function R(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(Object(t),!0).forEach((function(r){f()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var W=function(e){Object(s.a)(t,e);var r=Object(i.a)(t);function t(e){Object(a.a)(this,t);var n=e.config,c=e.state;return r.call(this,{config:{chainConfig:R(R({},n.chainConfig),{},{chainNamespace:v.g.SOLANA})},state:c})}return Object(c.a)(t,[{key:"switchChain",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"setupProvider",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.handleInjectedProviderUpdate(r),e.next=3,this.setupEngine(r);case 3:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"lookupNetwork",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){var r,t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.provider){e.next=2;break}throw O.ethErrors.provider.custom({message:"Torus solana provider is not initialized",code:4902});case 2:return r=this.config.chainConfig.chainId,e.next=5,this.provider.request({method:"solana_chainId"});case 5:if(t=e.sent,n=Object(v.r)(t.toString())?t:"0x".concat(parseInt(t,10).toString(16)),r===n){e.next=9;break}throw v.k.rpcConnectionError("Invalid network, net_version is: ".concat(n,", expected: ").concat(r));case 9:return this.update({chainId:n}),this.provider.emit("connect",{chainId:this.state.chainId}),this.provider.emit("chainChanged",this.state.chainId),e.abrupt("return",this.state.chainId);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setupEngine",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t,n,a,c,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H(r),n=T(t),a=_(r),(c=new d.a).push(n),c.push(a),s=Object(h.d)(c),this.updateProviderEngineProxy(s),e.next=10,this.lookupNetwork();case 10:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"handleInjectedProviderUpdate",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t=this;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.on("accountsChanged",function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.provider.emit("accountsChanged",r);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),r.on("chainChanged",function(){var e=Object(o.a)(Object(u.a)().mark((function e(n){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(v.r)(n)?n:"0x".concat(parseInt(n,10).toString(16)),t.configure({chainConfig:R(R({},t.config.chainConfig),{},{chainId:a})}),e.next=4,t.setupProvider(r);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}]),t}(b.a);function J(e){return F.apply(this,arguments)}function F(){return F=Object(o.a)(Object(u.a)().mark((function r(t){var a,c,s,i,p;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.privKey,c=t.getProviderEngineProxy,s=function(){return j.b.fromSecretKey(e.from(a,"hex"))},"string"===typeof a){r.next=4;break}throw v.k.invalidParams("privKey must be a string");case 4:return i=s(),p={requestAccounts:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[i.publicKey.toBase58()]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAccounts:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[i.publicKey.toBase58()]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPrivateKey:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSecretKey:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.a.encode(i.secretKey));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signTransaction:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=r.params)&&void 0!==t&&t.message){e.next=2;break}throw O.ethErrors.rpc.invalidParams("message");case 2:return(n=r.params.message).partialSign(i),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=r.params)&&void 0!==t&&t.message){e.next=2;break}throw O.ethErrors.rpc.invalidParams("message");case 2:return n=w.a.sign.detached(r.params.message,i.secretKey),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signAndSendTransaction:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t,n,a,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=r.params)&&void 0!==t&&t.message){e.next=2;break}throw O.ethErrors.rpc.invalidParams("message");case 2:if(n=c()){e.next=5;break}throw O.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 5:return(a=r.params.message).sign(i),e.next=9,n.request({method:"sendTransaction",params:[g.a.encode(a.serialize())]});case 9:return s=e.sent,e.abrupt("return",{signature:s});case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signAllTransactions:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t,a,c,s,o,p,f;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=r.params)&&void 0!==t&&t.message&&null!==(a=r.params)&&void 0!==a&&a.message.length){e.next=2;break}throw O.ethErrors.rpc.invalidParams("message");case 2:s=null===(c=r.params)||void 0===c?void 0:c.message,o=Object(n.a)(s||[]);try{for(o.s();!(p=o.n()).done;)f=p.value,f.partialSign(i)}catch(u){o.e(u)}finally{o.f()}return e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},r.abrupt("return",p);case 7:case"end":return r.stop()}}),r)}))),F.apply(this,arguments)}function G(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?G(Object(t),!0).forEach((function(r){f()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var V=function(e){Object(s.a)(t,e);var r=Object(i.a)(t);function t(e){Object(a.a)(this,t);var n=e.config,c=e.state;return r.call(this,{config:{chainConfig:Q(Q({},n.chainConfig),{},{chainNamespace:v.g.SOLANA})},state:c})}return Object(c.a)(t,[{key:"enable",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.privateKey){e.next=2;break}throw O.ethErrors.provider.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});case 2:return e.next=4,this.setupProvider(this.state.privateKey);case 4:return e.abrupt("return",this._providerEngineProxy.request({method:"eth_accounts"}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setupProvider",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t,n,a,c,s,i;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J({privKey:r,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)});case 2:return t=e.sent,n=T(t),a=new d.a,c=P(this.config.chainConfig),s=c.networkMiddleware,a.push(this.getChainSwitchMiddleware()),a.push(this.getAccountMiddleware()),a.push(n),a.push(s),i=Object(h.d)(a),this.updateProviderEngineProxy(i),e.next=14,this.lookupNetwork();case 14:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"updateAccount",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerEngineProxy){e.next=2;break}throw O.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 2:return e.next=4,this._providerEngineProxy.request({method:"solanaPrivateKey"});case 4:if(e.sent===r.privateKey){e.next=14;break}return e.next=8,this.setupProvider(r.privateKey);case 8:return e.t0=this._providerEngineProxy,e.next=11,this._providerEngineProxy.request({method:"requestAccounts"});case 11:e.t1=e.sent,e.t2={accounts:e.t1},e.t0.emit.call(e.t0,"accountsChanged",e.t2);case 14:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"switchChain",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerEngineProxy){e.next=2;break}throw O.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 2:return t=this.getChainConfig(r.chainId),this.update({chainId:"loading"}),this.configure({chainConfig:t}),e.next=7,this._providerEngineProxy.request({method:"solanaPrivateKey"});case 7:return n=e.sent,e.next=10,this.setupProvider(n);case 10:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"lookupNetwork",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){var r,t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerEngineProxy){e.next=2;break}throw O.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 2:return e.next=4,this._providerEngineProxy.request({method:"getHealth",params:[]});case 4:if(r=e.sent,t=this.config.chainConfig,"ok"===r){e.next=8;break}throw v.k.rpcConnectionError("Failed to lookup network for following rpc target: ".concat(t.rpcTarget));case 8:return this.update({chainId:t.chainId}),this.state.chainId!==t.chainId&&(this.provider.emit("chainChanged",this.state.chainId),this.provider.emit("connect",{chainId:this.state.chainId})),e.abrupt("return",this.state.chainId);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChainSwitchMiddleware",value:function(){var e=this,r={addNewChainConfig:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n,a,c,s,i,o;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.params){r.next=2;break}throw O.ethErrors.rpc.invalidParams("Missing request params");case 2:if(n=t.params,a=n.chainId,c=n.chainName,s=n.rpcUrls,i=n.blockExplorerUrls,o=n.nativeCurrency,a){r.next=5;break}throw O.ethErrors.rpc.invalidParams("Missing chainId in chainParams");case 5:if(s&&0!==s.length){r.next=7;break}throw O.ethErrors.rpc.invalidParams("Missing rpcUrls in chainParams");case 7:if(o){r.next=9;break}throw O.ethErrors.rpc.invalidParams("Missing nativeCurrency in chainParams");case 9:e.addChain({chainNamespace:v.g.SOLANA,chainId:a,ticker:(null===o||void 0===o?void 0:o.symbol)||"SOL",tickerName:(null===o||void 0===o?void 0:o.name)||"Solana",displayName:c,rpcTarget:s[0],blockExplorer:(null===i||void 0===i?void 0:i[0])||""});case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),switchSolanaChain:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.params){r.next=2;break}throw O.ethErrors.rpc.invalidParams("Missing request params");case 2:if(t.params.chainId){r.next=4;break}throw O.ethErrors.rpc.invalidParams("Missing chainId");case 4:return r.next=6,e.switchChain(t.params);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};return function(e){var r=e.addNewChainConfig,t=e.switchSolanaChain;return Object(d.i)([S("addSolanaChain",r),S("switchSolanaChain",t)])}(r)}},{key:"getAccountMiddleware",value:function(){var e=this,r={updatePrivatekey:function(){var r=Object(o.a)(Object(u.a)().mark((function r(t){var n;return Object(u.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.params){r.next=2;break}throw O.ethErrors.rpc.invalidParams("Missing request params");case 2:if(t.params.privateKey){r.next=4;break}throw O.ethErrors.rpc.invalidParams("Missing privateKey");case 4:return n=t.params.privateKey,r.next=7,e.updateAccount({privateKey:n});case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};return function(e){var r=e.updatePrivatekey;return Object(d.i)([S("updateAccount",r)])}(r)}}]),t}(b.a);f()(V,"getProviderInstance",function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new V({config:{chainConfig:r.chainConfig}}),e.next=3,t.setupProvider(r.privKey);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());var X=function(){function e(r){Object(a.a)(this,e),f()(this,"provider",void 0),this.provider=r}return Object(c.a)(e,[{key:"requestAccounts",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(){var r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"requestAccounts",params:{}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signAndSendTransaction",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"signAndSendTransaction",params:{message:r}});case 2:return t=e.sent,n=t.signature,e.abrupt("return",{signature:n});case 5:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"signTransaction",params:{message:r}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signAllTransactions",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"signAllTransactions",params:{message:r}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"signMessage",params:{message:r}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=Object(o.a)(Object(u.a)().mark((function e(r){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request(r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()}]),e}()}.call(this,t(35).Buffer)},2385:function(e,r,t){var n=t(2386);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},2386:function(e,r,t){"use strict";var n=t(60).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),t=0;t<r.length;t++)r[t]=255;for(var a=0;a<e.length;a++){var c=e.charAt(a),s=c.charCodeAt(0);if(255!==r[s])throw new TypeError(c+" is ambiguous");r[s]=a}var i=e.length,u=e.charAt(0),o=Math.log(i)/Math.log(256),p=Math.log(256)/Math.log(i);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var t=0,a=0,c=0;e[t]===u;)a++,t++;for(var s=(e.length-t)*o+1>>>0,p=new Uint8Array(s);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var h=0,d=s-1;(0!==f||h<c)&&-1!==d;d--,h++)f+=i*p[d]>>>0,p[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");c=h,t++}for(var v=s-c;v!==s&&0===p[v];)v++;var b=n.allocUnsafe(a+(s-v));b.fill(0,0,a);for(var l=a;v!==s;)b[l++]=p[v++];return b}return{encode:function(r){if((Array.isArray(r)||r instanceof Uint8Array)&&(r=n.from(r)),!n.isBuffer(r))throw new TypeError("Expected Buffer");if(0===r.length)return"";for(var t=0,a=0,c=0,s=r.length;c!==s&&0===r[c];)c++,t++;for(var o=(s-c)*p+1>>>0,f=new Uint8Array(o);c!==s;){for(var h=r[c],d=0,v=o-1;(0!==h||d<a)&&-1!==v;v--,d++)h+=256*f[v]>>>0,f[v]=h%i>>>0,h=h/i>>>0;if(0!==h)throw new Error("Non-zero carry");a=d,c++}for(var b=o-a;b!==o&&0===f[b];)b++;for(var l=u.repeat(t);b<o;++b)l+=e.charAt(f[b]);return l},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-base"+i+" character")}}}}}]);
//# sourceMappingURL=16.e1575441.chunk.js.map